(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function YE(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var vp={exports:{}},pu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z_;function Fx(){if(z_)return pu;z_=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:e,type:r,key:c,ref:a!==void 0?a:null,props:l}}return pu.Fragment=t,pu.jsx=n,pu.jsxs=n,pu}var B_;function Hx(){return B_||(B_=1,vp.exports=Fx()),vp.exports}var S=Hx(),_p={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_;function qx(){if(F_)return Rt;F_=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function b(L){return L===null||typeof L!="object"?null:(L=_&&L[_]||L["@@iterator"],typeof L=="function"?L:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,U={};function N(L,it,ct){this.props=L,this.context=it,this.refs=U,this.updater=ct||x}N.prototype.isReactComponent={},N.prototype.setState=function(L,it){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,it,"setState")},N.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function k(){}k.prototype=N.prototype;function G(L,it,ct){this.props=L,this.context=it,this.refs=U,this.updater=ct||x}var Y=G.prototype=new k;Y.constructor=G,C(Y,N.prototype),Y.isPureReactComponent=!0;var st=Array.isArray,J={H:null,A:null,T:null,S:null,V:null},lt=Object.prototype.hasOwnProperty;function V(L,it,ct,ot,gt,Dt){return ct=Dt.ref,{$$typeof:e,type:L,key:it,ref:ct!==void 0?ct:null,props:Dt}}function R(L,it){return V(L.type,it,void 0,void 0,void 0,L.props)}function I(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function P(L){var it={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ct){return it[ct]})}var z=/\/+/g;function F(L,it){return typeof L=="object"&&L!==null&&L.key!=null?P(""+L.key):it.toString(36)}function M(){}function Ee(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(M,M):(L.status="pending",L.then(function(it){L.status==="pending"&&(L.status="fulfilled",L.value=it)},function(it){L.status==="pending"&&(L.status="rejected",L.reason=it)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function ae(L,it,ct,ot,gt){var Dt=typeof L;(Dt==="undefined"||Dt==="boolean")&&(L=null);var St=!1;if(L===null)St=!0;else switch(Dt){case"bigint":case"string":case"number":St=!0;break;case"object":switch(L.$$typeof){case e:case t:St=!0;break;case y:return St=L._init,ae(St(L._payload),it,ct,ot,gt)}}if(St)return gt=gt(L),St=ot===""?"."+F(L,0):ot,st(gt)?(ct="",St!=null&&(ct=St.replace(z,"$&/")+"/"),ae(gt,it,ct,"",function(oi){return oi})):gt!=null&&(I(gt)&&(gt=R(gt,ct+(gt.key==null||L&&L.key===gt.key?"":(""+gt.key).replace(z,"$&/")+"/")+St)),it.push(gt)),1;St=0;var Oe=ot===""?".":ot+":";if(st(L))for(var te=0;te<L.length;te++)ot=L[te],Dt=Oe+F(ot,te),St+=ae(ot,it,ct,Dt,gt);else if(te=b(L),typeof te=="function")for(L=te.call(L),te=0;!(ot=L.next()).done;)ot=ot.value,Dt=Oe+F(ot,te++),St+=ae(ot,it,ct,Dt,gt);else if(Dt==="object"){if(typeof L.then=="function")return ae(Ee(L),it,ct,ot,gt);throw it=String(L),Error("Objects are not valid as a React child (found: "+(it==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":it)+"). If you meant to render a collection of children, use an array instead.")}return St}function W(L,it,ct){if(L==null)return L;var ot=[],gt=0;return ae(L,ot,"","",function(Dt){return it.call(ct,Dt,gt++)}),ot}function at(L){if(L._status===-1){var it=L._result;it=it(),it.then(function(ct){(L._status===0||L._status===-1)&&(L._status=1,L._result=ct)},function(ct){(L._status===0||L._status===-1)&&(L._status=2,L._result=ct)}),L._status===-1&&(L._status=0,L._result=it)}if(L._status===1)return L._result.default;throw L._result}var ft=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var it=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(it))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function kt(){}return Rt.Children={map:W,forEach:function(L,it,ct){W(L,function(){it.apply(this,arguments)},ct)},count:function(L){var it=0;return W(L,function(){it++}),it},toArray:function(L){return W(L,function(it){return it})||[]},only:function(L){if(!I(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Rt.Component=N,Rt.Fragment=n,Rt.Profiler=a,Rt.PureComponent=G,Rt.StrictMode=r,Rt.Suspense=m,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(L){return J.H.useMemoCache(L)}},Rt.cache=function(L){return function(){return L.apply(null,arguments)}},Rt.cloneElement=function(L,it,ct){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ot=C({},L.props),gt=L.key,Dt=void 0;if(it!=null)for(St in it.ref!==void 0&&(Dt=void 0),it.key!==void 0&&(gt=""+it.key),it)!lt.call(it,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&it.ref===void 0||(ot[St]=it[St]);var St=arguments.length-2;if(St===1)ot.children=ct;else if(1<St){for(var Oe=Array(St),te=0;te<St;te++)Oe[te]=arguments[te+2];ot.children=Oe}return V(L.type,gt,void 0,void 0,Dt,ot)},Rt.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},Rt.createElement=function(L,it,ct){var ot,gt={},Dt=null;if(it!=null)for(ot in it.key!==void 0&&(Dt=""+it.key),it)lt.call(it,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(gt[ot]=it[ot]);var St=arguments.length-2;if(St===1)gt.children=ct;else if(1<St){for(var Oe=Array(St),te=0;te<St;te++)Oe[te]=arguments[te+2];gt.children=Oe}if(L&&L.defaultProps)for(ot in St=L.defaultProps,St)gt[ot]===void 0&&(gt[ot]=St[ot]);return V(L,Dt,void 0,void 0,null,gt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(L){return{$$typeof:d,render:L}},Rt.isValidElement=I,Rt.lazy=function(L){return{$$typeof:y,_payload:{_status:-1,_result:L},_init:at}},Rt.memo=function(L,it){return{$$typeof:p,type:L,compare:it===void 0?null:it}},Rt.startTransition=function(L){var it=J.T,ct={};J.T=ct;try{var ot=L(),gt=J.S;gt!==null&&gt(ct,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(kt,ft)}catch(Dt){ft(Dt)}finally{J.T=it}},Rt.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},Rt.use=function(L){return J.H.use(L)},Rt.useActionState=function(L,it,ct){return J.H.useActionState(L,it,ct)},Rt.useCallback=function(L,it){return J.H.useCallback(L,it)},Rt.useContext=function(L){return J.H.useContext(L)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(L,it){return J.H.useDeferredValue(L,it)},Rt.useEffect=function(L,it,ct){var ot=J.H;if(typeof ct=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ot.useEffect(L,it)},Rt.useId=function(){return J.H.useId()},Rt.useImperativeHandle=function(L,it,ct){return J.H.useImperativeHandle(L,it,ct)},Rt.useInsertionEffect=function(L,it){return J.H.useInsertionEffect(L,it)},Rt.useLayoutEffect=function(L,it){return J.H.useLayoutEffect(L,it)},Rt.useMemo=function(L,it){return J.H.useMemo(L,it)},Rt.useOptimistic=function(L,it){return J.H.useOptimistic(L,it)},Rt.useReducer=function(L,it,ct){return J.H.useReducer(L,it,ct)},Rt.useRef=function(L){return J.H.useRef(L)},Rt.useState=function(L){return J.H.useState(L)},Rt.useSyncExternalStore=function(L,it,ct){return J.H.useSyncExternalStore(L,it,ct)},Rt.useTransition=function(){return J.H.useTransition()},Rt.version="19.1.0",Rt}var H_;function qg(){return H_||(H_=1,_p.exports=qx()),_p.exports}var O=qg();const as=YE(O);var Tp={exports:{}},gu={},Ep={exports:{}},bp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q_;function Gx(){return q_||(q_=1,function(e){function t(W,at){var ft=W.length;W.push(at);t:for(;0<ft;){var kt=ft-1>>>1,L=W[kt];if(0<a(L,at))W[kt]=at,W[ft]=L,ft=kt;else break t}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var at=W[0],ft=W.pop();if(ft!==at){W[0]=ft;t:for(var kt=0,L=W.length,it=L>>>1;kt<it;){var ct=2*(kt+1)-1,ot=W[ct],gt=ct+1,Dt=W[gt];if(0>a(ot,ft))gt<L&&0>a(Dt,ot)?(W[kt]=Dt,W[gt]=ft,kt=gt):(W[kt]=ot,W[ct]=ft,kt=ct);else if(gt<L&&0>a(Dt,ft))W[kt]=Dt,W[gt]=ft,kt=gt;else break t}}return at}function a(W,at){var ft=W.sortIndex-at.sortIndex;return ft!==0?ft:W.id-at.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var m=[],p=[],y=1,_=null,b=3,x=!1,C=!1,U=!1,N=!1,k=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function st(W){for(var at=n(p);at!==null;){if(at.callback===null)r(p);else if(at.startTime<=W)r(p),at.sortIndex=at.expirationTime,t(m,at);else break;at=n(p)}}function J(W){if(U=!1,st(W),!C)if(n(m)!==null)C=!0,lt||(lt=!0,F());else{var at=n(p);at!==null&&ae(J,at.startTime-W)}}var lt=!1,V=-1,R=5,I=-1;function P(){return N?!0:!(e.unstable_now()-I<R)}function z(){if(N=!1,lt){var W=e.unstable_now();I=W;var at=!0;try{t:{C=!1,U&&(U=!1,G(V),V=-1),x=!0;var ft=b;try{e:{for(st(W),_=n(m);_!==null&&!(_.expirationTime>W&&P());){var kt=_.callback;if(typeof kt=="function"){_.callback=null,b=_.priorityLevel;var L=kt(_.expirationTime<=W);if(W=e.unstable_now(),typeof L=="function"){_.callback=L,st(W),at=!0;break e}_===n(m)&&r(m),st(W)}else r(m);_=n(m)}if(_!==null)at=!0;else{var it=n(p);it!==null&&ae(J,it.startTime-W),at=!1}}break t}finally{_=null,b=ft,x=!1}at=void 0}}finally{at?F():lt=!1}}}var F;if(typeof Y=="function")F=function(){Y(z)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Ee=M.port2;M.port1.onmessage=z,F=function(){Ee.postMessage(null)}}else F=function(){k(z,0)};function ae(W,at){V=k(function(){W(e.unstable_now())},at)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(W){switch(b){case 1:case 2:case 3:var at=3;break;default:at=b}var ft=b;b=at;try{return W()}finally{b=ft}},e.unstable_requestPaint=function(){N=!0},e.unstable_runWithPriority=function(W,at){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ft=b;b=W;try{return at()}finally{b=ft}},e.unstable_scheduleCallback=function(W,at,ft){var kt=e.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?kt+ft:kt):ft=kt,W){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=ft+L,W={id:y++,callback:at,priorityLevel:W,startTime:ft,expirationTime:L,sortIndex:-1},ft>kt?(W.sortIndex=ft,t(p,W),n(m)===null&&W===n(p)&&(U?(G(V),V=-1):U=!0,ae(J,ft-kt))):(W.sortIndex=L,t(m,W),C||x||(C=!0,lt||(lt=!0,F()))),W},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(W){var at=b;return function(){var ft=b;b=at;try{return W.apply(this,arguments)}finally{b=ft}}}}(bp)),bp}var G_;function Kx(){return G_||(G_=1,Ep.exports=Gx()),Ep.exports}var wp={exports:{}},tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K_;function Yx(){if(K_)return tn;K_=1;var e=qg();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:p,implementation:y}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,tn.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(m,p,null,y)},tn.flushSync=function(m){var p=c.T,y=r.p;try{if(c.T=null,r.p=2,m)return m()}finally{c.T=p,r.p=y,r.d.f()}},tn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(m,p))},tn.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},tn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,_=d(y,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:x}):y==="script"&&r.d.X(m,{crossOrigin:_,integrity:b,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},tn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=d(p.as,p.crossOrigin);r.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(m)},tn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=d(y,p.crossOrigin);r.d.L(m,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},tn.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=d(p.as,p.crossOrigin);r.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(m)},tn.requestFormReset=function(m){r.d.r(m)},tn.unstable_batchedUpdates=function(m,p){return m(p)},tn.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},tn.useFormStatus=function(){return c.H.useHostTransitionStatus()},tn.version="19.1.0",tn}var Y_;function $x(){if(Y_)return wp.exports;Y_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),wp.exports=Yx(),wp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_;function Qx(){if($_)return gu;$_=1;var e=Kx(),t=qg(),n=$x();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(r(188))}function m(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,u=s;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return d(f),i;if(g===u)return d(f),s;g=g.sibling}throw Error(r(188))}if(o.return!==u.return)o=f,u=g;else{for(var E=!1,w=f.child;w;){if(w===o){E=!0,o=f,u=g;break}if(w===u){E=!0,u=f,o=g;break}w=w.sibling}if(!E){for(w=g.child;w;){if(w===o){E=!0,o=g,u=f;break}if(w===u){E=!0,u=g,o=f;break}w=w.sibling}if(!E)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function p(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=p(i),s!==null)return s;i=i.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),G=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),st=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),lt=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function F(i){return i===null||typeof i!="object"?null:(i=z&&i[z]||i["@@iterator"],typeof i=="function"?i:null)}var M=Symbol.for("react.client.reference");function Ee(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===M?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case C:return"Fragment";case N:return"Profiler";case U:return"StrictMode";case J:return"Suspense";case lt:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case x:return"Portal";case Y:return(i.displayName||"Context")+".Provider";case G:return(i._context.displayName||"Context")+".Consumer";case st:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case V:return s=i.displayName||null,s!==null?s:Ee(i.type)||"Memo";case R:s=i._payload,i=i._init;try{return Ee(i(s))}catch{}}return null}var ae=Array.isArray,W=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},kt=[],L=-1;function it(i){return{current:i}}function ct(i){0>L||(i.current=kt[L],kt[L]=null,L--)}function ot(i,s){L++,kt[L]=i.current,i.current=s}var gt=it(null),Dt=it(null),St=it(null),Oe=it(null);function te(i,s){switch(ot(St,s),ot(Dt,i),ot(gt,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?m_(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=m_(s),i=p_(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ct(gt),ot(gt,i)}function oi(){ct(gt),ct(Dt),ct(St)}function Ar(i){i.memoizedState!==null&&ot(Oe,i);var s=gt.current,o=p_(s,i.type);s!==o&&(ot(Dt,i),ot(gt,o))}function Oi(i){Dt.current===i&&(ct(gt),ct(Dt)),Oe.current===i&&(ct(Oe),cu._currentValue=ft)}var Is=Object.prototype.hasOwnProperty,Ds=e.unstable_scheduleCallback,Ns=e.unstable_cancelCallback,ol=e.unstable_shouldYield,vc=e.unstable_requestPaint,Nn=e.unstable_now,vd=e.unstable_getCurrentPriorityLevel,ll=e.unstable_ImmediatePriority,Da=e.unstable_UserBlockingPriority,Ms=e.unstable_NormalPriority,_d=e.unstable_LowPriority,Na=e.unstable_IdlePriority,ul=e.log,_c=e.unstable_setDisableYieldValue,he=null,Kt=null;function Tn(i){if(typeof ul=="function"&&_c(i),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(he,i)}catch{}}var Ze=Math.clz32?Math.clz32:Vs,Tc=Math.log,Td=Math.LN2;function Vs(i){return i>>>=0,i===0?32:31-(Tc(i)/Td|0)|0}var Ps=256,Os=4194304;function $n(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ma(i,s,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,g=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var w=u&134217727;return w!==0?(u=w&~g,u!==0?f=$n(u):(E&=w,E!==0?f=$n(E):o||(o=w&~i,o!==0&&(f=$n(o))))):(w=u&~g,w!==0?f=$n(w):E!==0?f=$n(E):o||(o=u&~i,o!==0&&(f=$n(o)))),f===0?0:s!==0&&s!==f&&(s&g)===0&&(g=f&-f,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:f}function ks(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function cl(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hl(){var i=Ps;return Ps<<=1,(Ps&4194048)===0&&(Ps=256),i}function fl(){var i=Os;return Os<<=1,(Os&62914560)===0&&(Os=4194304),i}function ki(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function Li(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function dl(i,s,o,u,f,g){var E=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var w=i.entanglements,D=i.expirationTimes,K=i.hiddenUpdates;for(o=E&~o;0<o;){var Z=31-Ze(o),et=1<<Z;w[Z]=0,D[Z]=-1;var $=K[Z];if($!==null)for(K[Z]=null,Z=0;Z<$.length;Z++){var Q=$[Z];Q!==null&&(Q.lane&=-536870913)}o&=~et}u!==0&&li(i,u,0),g!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=g&~(E&~s))}function li(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-Ze(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194090}function ml(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var u=31-Ze(o),f=1<<u;f&s|i[u]&s&&(i[u]|=s),o&=~f}}function xr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Va(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Rr(){var i=at.p;return i!==0?i:(i=window.event,i===void 0?32:P_(i.type))}function Ec(i,s){var o=at.p;try{return at.p=i,s()}finally{at.p=o}}var ne=Math.random().toString(36).slice(2),Re="__reactFiber$"+ne,be="__reactProps$"+ne,Mn="__reactContainer$"+ne,pl="__reactEvents$"+ne,Ed="__reactListeners$"+ne,Cr="__reactHandles$"+ne,bc="__reactResources$"+ne,Ls="__reactMarker$"+ne;function Ir(i){delete i[Re],delete i[be],delete i[pl],delete i[Ed],delete i[Cr]}function Ui(i){var s=i[Re];if(s)return s;for(var o=i.parentNode;o;){if(s=o[Mn]||o[Re]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=__(i);i!==null;){if(o=i[Re])return o;i=__(i)}return s}i=o,o=i.parentNode}return null}function ui(i){if(i=i[Re]||i[Mn]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function ci(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function ln(i){var s=i[bc];return s||(s=i[bc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ge(i){i[Ls]=!0}var gl=new Set,Pa={};function Qn(i,s){ji(i,s),ji(i+"Capture",s)}function ji(i,s){for(Pa[i]=s,i=0;i<s.length;i++)gl.add(s[i])}var wc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Sc={},Us={};function Ac(i){return Is.call(Us,i)?!0:Is.call(Sc,i)?!1:wc.test(i)?Us[i]=!0:(Sc[i]=!0,!1)}function Dr(i,s,o){if(Ac(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function hi(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function Fe(i,s,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+u)}}var js,xc;function zi(i){if(js===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);js=s&&s[1]||"",xc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+js+i+xc}var Oa=!1;function ka(i,s){if(!i||Oa)return"";Oa=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(Q){var $=Q}Reflect.construct(i,[],et)}else{try{et.call()}catch(Q){$=Q}i.call(et.prototype)}}else{try{throw Error()}catch(Q){$=Q}(et=i())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(Q){if(Q&&$&&typeof Q.stack=="string")return[Q.stack,$.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),E=g[0],w=g[1];if(E&&w){var D=E.split(`
`),K=w.split(`
`);for(f=u=0;u<D.length&&!D[u].includes("DetermineComponentFrameRoot");)u++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(u===D.length||f===K.length)for(u=D.length-1,f=K.length-1;1<=u&&0<=f&&D[u]!==K[f];)f--;for(;1<=u&&0<=f;u--,f--)if(D[u]!==K[f]){if(u!==1||f!==1)do if(u--,f--,0>f||D[u]!==K[f]){var Z=`
`+D[u].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=u&&0<=f);break}}}finally{Oa=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?zi(o):""}function yl(i){switch(i.tag){case 26:case 27:case 5:return zi(i.type);case 16:return zi("Lazy");case 13:return zi("Suspense");case 19:return zi("SuspenseList");case 0:case 15:return ka(i.type,!1);case 11:return ka(i.type.render,!1);case 1:return ka(i.type,!0);case 31:return zi("Activity");default:return""}}function La(i){try{var s="";do s+=yl(i),i=i.return;while(i);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function un(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function vl(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function bd(i){var s=vl(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),u=""+i[s];if(!i.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,g=o.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return f.call(this)},set:function(E){u=""+E,g.call(this,E)}}),Object.defineProperty(i,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Ua(i){i._valueTracker||(i._valueTracker=bd(i))}function _l(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return i&&(u=vl(i)?i.checked?"true":"false":i.value),i=u,i!==o?(s.setValue(i),!0):!1}function zs(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var wd=/[\n"\\]/g;function we(i){return i.replace(wd,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function En(i,s,o,u,f,g,E,w){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),s!=null?E==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+un(s)):i.value!==""+un(s)&&(i.value=""+un(s)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),s!=null?Nr(i,E,un(s)):o!=null?Nr(i,E,un(o)):u!=null&&i.removeAttribute("value"),f==null&&g!=null&&(i.defaultChecked=!!g),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.name=""+un(w):i.removeAttribute("name")}function Bs(i,s,o,u,f,g,E,w){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+un(o):"",s=s!=null?""+un(s):o,w||s===i.value||(i.value=s),i.defaultValue=s}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=w?i.checked:!!u,i.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E)}function Nr(i,s,o){s==="number"&&zs(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Bi(i,s,o,u){if(i=i.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=s.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&u&&(i[o].defaultSelected=!0)}else{for(o=""+un(o),s=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,u&&(i[f].defaultSelected=!0);return}s!==null||i[f].disabled||(s=i[f])}s!==null&&(s.selected=!0)}}function Qt(i,s,o){if(s!=null&&(s=""+un(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+un(o):""}function Fs(i,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(ae(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=un(s),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function Vn(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var Hs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rc(i,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,o):typeof o!="number"||o===0||Hs.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function Tl(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var f in s)u=s[f],s.hasOwnProperty(f)&&o[f]!==u&&Rc(i,f,u)}else for(var g in s)s.hasOwnProperty(g)&&Rc(i,g,s[g])}function El(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ad=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ja(i){return Ad.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Fi=null;function Pn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Hi=null,qi=null;function bl(i){var s=ui(i);if(s&&(i=s.stateNode)){var o=i[be]||null;t:switch(i=s.stateNode,s.type){case"input":if(En(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+we(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==i&&u.form===i.form){var f=u[be]||null;if(!f)throw Error(r(90));En(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===i.form&&_l(u)}break t;case"textarea":Qt(i,o.value,o.defaultValue);break t;case"select":s=o.value,s!=null&&Bi(i,!!o.multiple,s,!1)}}}var fi=!1;function Cc(i,s,o){if(fi)return i(s,o);fi=!0;try{var u=i(s);return u}finally{if(fi=!1,(Hi!==null||qi!==null)&&(Eh(),Hi&&(s=Hi,i=qi,qi=Hi=null,bl(s),i)))for(s=0;s<i.length;s++)bl(i[s])}}function qs(i,s){var o=i.stateNode;if(o===null)return null;var u=o[be]||null;if(u===null)return null;o=u[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),On=!1;if(Xn)try{var Gs={};Object.defineProperty(Gs,"passive",{get:function(){On=!0}}),window.addEventListener("test",Gs,Gs),window.removeEventListener("test",Gs,Gs)}catch{On=!1}var di=null,Mr=null,Gi=null;function wl(){if(Gi)return Gi;var i,s=Mr,o=s.length,u,f="value"in di?di.value:di.textContent,g=f.length;for(i=0;i<o&&s[i]===f[i];i++);var E=o-i;for(u=1;u<=E&&s[o-u]===f[g-u];u++);return Gi=f.slice(i,1<u?1-u:void 0)}function mi(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function pi(){return!0}function Sl(){return!1}function ke(i){function s(o,u,f,g,E){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(o=i[w],this[w]=o?o(g):g[w]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?pi:Sl,this.isPropagationStopped=Sl,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=pi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=pi)},persist:function(){},isPersistent:pi}),s}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},za=ke(qt),Ks=y({},qt,{view:0,detail:0}),Ic=ke(Ks),Ba,Fa,gi,Ys=y({},Ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==gi&&(gi&&i.type==="mousemove"?(Ba=i.screenX-gi.screenX,Fa=i.screenY-gi.screenY):Fa=Ba=0,gi=i),Ba)},movementY:function(i){return"movementY"in i?i.movementY:Fa}}),kn=ke(Ys),Dc=y({},Ys,{dataTransfer:0}),xd=ke(Dc),$s=y({},Ks,{relatedTarget:0}),Ha=ke($s),Al=y({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),qa=ke(Al),Nc=y({},qt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ga=ke(Nc),Rd=y({},qt,{data:0}),xl=ke(Rd),Qs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rl(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Vc[i])?!!s[i]:!1}function Xs(){return Rl}var Pc=y({},Ks,{key:function(i){if(i.key){var s=Qs[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=mi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Mc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xs,charCode:function(i){return i.type==="keypress"?mi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?mi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ka=ke(Pc),Oc=y({},Ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cl=ke(Oc),Ki=y({},Ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xs}),kc=ke(Ki),Lc=y({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uc=ke(Lc),jc=y({},Ys,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ya=ke(jc),cn=y({},qt,{newState:0,oldState:0}),zc=ke(cn),Bc=[9,13,27,32],yi=Xn&&"CompositionEvent"in window,h=null;Xn&&"documentMode"in document&&(h=document.documentMode);var v=Xn&&"TextEvent"in window&&!h,T=Xn&&(!yi||h&&8<h&&11>=h),A=" ",H=!1;function X(i,s){switch(i){case"keyup":return Bc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ut(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Lt=!1;function Ce(i,s){switch(i){case"compositionend":return ut(s);case"keypress":return s.which!==32?null:(H=!0,A);case"textInput":return i=s.data,i===A&&H?null:i;default:return null}}function Ut(i,s){if(Lt)return i==="compositionend"||!yi&&X(i,s)?(i=wl(),Gi=Mr=di=null,Lt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return T&&s.locale!=="ko"?null:s.data;default:return null}}var Le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ie(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Le[i.type]:s==="textarea"}function Yi(i,s,o,u){Hi?qi?qi.push(u):qi=[u]:Hi=u,s=Rh(s,"onChange"),0<s.length&&(o=new za("onChange","change",null,o,u),i.push({event:o,listeners:s}))}var He=null,vi=null;function Il(i){u_(i,0)}function Fc(i){var s=ci(i);if(_l(s))return i}function D0(i,s){if(i==="change")return s}var N0=!1;if(Xn){var Cd;if(Xn){var Id="oninput"in document;if(!Id){var M0=document.createElement("div");M0.setAttribute("oninput","return;"),Id=typeof M0.oninput=="function"}Cd=Id}else Cd=!1;N0=Cd&&(!document.documentMode||9<document.documentMode)}function V0(){He&&(He.detachEvent("onpropertychange",P0),vi=He=null)}function P0(i){if(i.propertyName==="value"&&Fc(vi)){var s=[];Yi(s,vi,i,Pn(i)),Cc(Il,s)}}function v4(i,s,o){i==="focusin"?(V0(),He=s,vi=o,He.attachEvent("onpropertychange",P0)):i==="focusout"&&V0()}function _4(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Fc(vi)}function T4(i,s){if(i==="click")return Fc(s)}function E4(i,s){if(i==="input"||i==="change")return Fc(s)}function b4(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var bn=typeof Object.is=="function"?Object.is:b4;function Dl(i,s){if(bn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Is.call(s,f)||!bn(i[f],s[f]))return!1}return!0}function O0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function k0(i,s){var o=O0(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=s&&u>=s)return{node:o,offset:s-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=O0(o)}}function L0(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?L0(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function U0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=zs(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=zs(i.document)}return s}function Dd(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var w4=Xn&&"documentMode"in document&&11>=document.documentMode,$a=null,Nd=null,Nl=null,Md=!1;function j0(i,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Md||$a==null||$a!==zs(u)||(u=$a,"selectionStart"in u&&Dd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Nl&&Dl(Nl,u)||(Nl=u,u=Rh(Nd,"onSelect"),0<u.length&&(s=new za("onSelect","select",null,s,o),i.push({event:s,listeners:u}),s.target=$a)))}function Ws(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var Qa={animationend:Ws("Animation","AnimationEnd"),animationiteration:Ws("Animation","AnimationIteration"),animationstart:Ws("Animation","AnimationStart"),transitionrun:Ws("Transition","TransitionRun"),transitionstart:Ws("Transition","TransitionStart"),transitioncancel:Ws("Transition","TransitionCancel"),transitionend:Ws("Transition","TransitionEnd")},Vd={},z0={};Xn&&(z0=document.createElement("div").style,"AnimationEvent"in window||(delete Qa.animationend.animation,delete Qa.animationiteration.animation,delete Qa.animationstart.animation),"TransitionEvent"in window||delete Qa.transitionend.transition);function Zs(i){if(Vd[i])return Vd[i];if(!Qa[i])return i;var s=Qa[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in z0)return Vd[i]=s[o];return i}var B0=Zs("animationend"),F0=Zs("animationiteration"),H0=Zs("animationstart"),S4=Zs("transitionrun"),A4=Zs("transitionstart"),x4=Zs("transitioncancel"),q0=Zs("transitionend"),G0=new Map,Pd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pd.push("scrollEnd");function Wn(i,s){G0.set(i,s),Qn(s,[i])}var K0=new WeakMap;function Ln(i,s){if(typeof i=="object"&&i!==null){var o=K0.get(i);return o!==void 0?o:(s={value:i,source:s,stack:La(s)},K0.set(i,s),s)}return{value:i,source:s,stack:La(s)}}var Un=[],Xa=0,Od=0;function Hc(){for(var i=Xa,s=Od=Xa=0;s<i;){var o=Un[s];Un[s++]=null;var u=Un[s];Un[s++]=null;var f=Un[s];Un[s++]=null;var g=Un[s];if(Un[s++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}g!==0&&Y0(o,f,g)}}function qc(i,s,o,u){Un[Xa++]=i,Un[Xa++]=s,Un[Xa++]=o,Un[Xa++]=u,Od|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function kd(i,s,o,u){return qc(i,s,o,u),Gc(i)}function Wa(i,s){return qc(i,null,null,s),Gc(i)}function Y0(i,s,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var f=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(f=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,f&&s!==null&&(f=31-Ze(o),i=g.hiddenUpdates,u=i[f],u===null?i[f]=[s]:u.push(s),s.lane=o|536870912),g):null}function Gc(i){if(50<nu)throw nu=0,Fm=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Za={};function R4(i,s,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(i,s,o,u){return new R4(i,s,o,u)}function Ld(i){return i=i.prototype,!(!i||!i.isReactComponent)}function $i(i,s){var o=i.alternate;return o===null?(o=wn(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function $0(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Kc(i,s,o,u,f,g){var E=0;if(u=i,typeof i=="function")Ld(i)&&(E=1);else if(typeof i=="string")E=Ix(i,o,gt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case I:return i=wn(31,o,s,f),i.elementType=I,i.lanes=g,i;case C:return Js(o.children,f,g,s);case U:E=8,f|=24;break;case N:return i=wn(12,o,s,f|2),i.elementType=N,i.lanes=g,i;case J:return i=wn(13,o,s,f),i.elementType=J,i.lanes=g,i;case lt:return i=wn(19,o,s,f),i.elementType=lt,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case k:case Y:E=10;break t;case G:E=9;break t;case st:E=11;break t;case V:E=14;break t;case R:E=16,u=null;break t}E=29,o=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=wn(E,o,s,f),s.elementType=i,s.type=u,s.lanes=g,s}function Js(i,s,o,u){return i=wn(7,i,u,s),i.lanes=o,i}function Ud(i,s,o){return i=wn(6,i,null,s),i.lanes=o,i}function jd(i,s,o){return s=wn(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Ja=[],to=0,Yc=null,$c=0,jn=[],zn=0,ta=null,Qi=1,Xi="";function ea(i,s){Ja[to++]=$c,Ja[to++]=Yc,Yc=i,$c=s}function Q0(i,s,o){jn[zn++]=Qi,jn[zn++]=Xi,jn[zn++]=ta,ta=i;var u=Qi;i=Xi;var f=32-Ze(u)-1;u&=~(1<<f),o+=1;var g=32-Ze(s)+f;if(30<g){var E=f-f%5;g=(u&(1<<E)-1).toString(32),u>>=E,f-=E,Qi=1<<32-Ze(s)+f|o<<f|u,Xi=g+i}else Qi=1<<g|o<<f|u,Xi=i}function zd(i){i.return!==null&&(ea(i,1),Q0(i,1,0))}function Bd(i){for(;i===Yc;)Yc=Ja[--to],Ja[to]=null,$c=Ja[--to],Ja[to]=null;for(;i===ta;)ta=jn[--zn],jn[zn]=null,Xi=jn[--zn],jn[zn]=null,Qi=jn[--zn],jn[zn]=null}var hn=null,fe=null,Ft=!1,na=null,_i=!1,Fd=Error(r(519));function ia(i){var s=Error(r(418,""));throw Pl(Ln(s,i)),Fd}function X0(i){var s=i.stateNode,o=i.type,u=i.memoizedProps;switch(s[Re]=i,s[be]=u,o){case"dialog":Vt("cancel",s),Vt("close",s);break;case"iframe":case"object":case"embed":Vt("load",s);break;case"video":case"audio":for(o=0;o<ru.length;o++)Vt(ru[o],s);break;case"source":Vt("error",s);break;case"img":case"image":case"link":Vt("error",s),Vt("load",s);break;case"details":Vt("toggle",s);break;case"input":Vt("invalid",s),Bs(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ua(s);break;case"select":Vt("invalid",s);break;case"textarea":Vt("invalid",s),Fs(s,u.value,u.defaultValue,u.children),Ua(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||d_(s.textContent,o)?(u.popover!=null&&(Vt("beforetoggle",s),Vt("toggle",s)),u.onScroll!=null&&Vt("scroll",s),u.onScrollEnd!=null&&Vt("scrollend",s),u.onClick!=null&&(s.onclick=Ch),s=!0):s=!1,s||ia(i)}function W0(i){for(hn=i.return;hn;)switch(hn.tag){case 5:case 13:_i=!1;return;case 27:case 3:_i=!0;return;default:hn=hn.return}}function Ml(i){if(i!==hn)return!1;if(!Ft)return W0(i),Ft=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||rp(i.type,i.memoizedProps)),o=!o),o&&fe&&ia(i),W0(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));t:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(s===0){fe=Jn(i.nextSibling);break t}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;i=i.nextSibling}fe=null}}else s===27?(s=fe,$r(i.type)?(i=lp,lp=null,fe=i):fe=s):fe=hn?Jn(i.stateNode.nextSibling):null;return!0}function Vl(){fe=hn=null,Ft=!1}function Z0(){var i=na;return i!==null&&(pn===null?pn=i:pn.push.apply(pn,i),na=null),i}function Pl(i){na===null?na=[i]:na.push(i)}var Hd=it(null),ra=null,Wi=null;function Vr(i,s,o){ot(Hd,s._currentValue),s._currentValue=o}function Zi(i){i._currentValue=Hd.current,ct(Hd)}function qd(i,s,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===o)break;i=i.return}}function Gd(i,s,o,u){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var g=f.dependencies;if(g!==null){var E=f.child;g=g.firstContext;t:for(;g!==null;){var w=g;g=f;for(var D=0;D<s.length;D++)if(w.context===s[D]){g.lanes|=o,w=g.alternate,w!==null&&(w.lanes|=o),qd(g.return,o,i),u||(E=null);break t}g=w.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(r(341));E.lanes|=o,g=E.alternate,g!==null&&(g.lanes|=o),qd(E,o,i),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===i){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Ol(i,s,o,u){i=null;for(var f=s,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var w=f.type;bn(f.pendingProps.value,E.value)||(i!==null?i.push(w):i=[w])}}else if(f===Oe.current){if(E=f.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(cu):i=[cu])}f=f.return}i!==null&&Gd(s,i,o,u),s.flags|=262144}function Qc(i){for(i=i.firstContext;i!==null;){if(!bn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function sa(i){ra=i,Wi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Je(i){return J0(ra,i)}function Xc(i,s){return ra===null&&sa(i),J0(i,s)}function J0(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Wi===null){if(i===null)throw Error(r(308));Wi=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Wi=Wi.next=s;return o}var C4=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},I4=e.unstable_scheduleCallback,D4=e.unstable_NormalPriority,De={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kd(){return{controller:new C4,data:new Map,refCount:0}}function kl(i){i.refCount--,i.refCount===0&&I4(D4,function(){i.controller.abort()})}var Ll=null,Yd=0,eo=0,no=null;function N4(i,s){if(Ll===null){var o=Ll=[];Yd=0,eo=Qm(),no={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Yd++,s.then(tv,tv),s}function tv(){if(--Yd===0&&Ll!==null){no!==null&&(no.status="fulfilled");var i=Ll;Ll=null,eo=0,no=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function M4(i,s){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var ev=W.S;W.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&N4(i,s),ev!==null&&ev(i,s)};var aa=it(null);function $d(){var i=aa.current;return i!==null?i:ee.pooledCache}function Wc(i,s){s===null?ot(aa,aa.current):ot(aa,s.pool)}function nv(){var i=$d();return i===null?null:{parent:De._currentValue,pool:i}}var Ul=Error(r(460)),iv=Error(r(474)),Zc=Error(r(542)),Qd={then:function(){}};function rv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Jc(){}function sv(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(Jc,Jc),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,ov(i),i;default:if(typeof s.status=="string")s.then(Jc,Jc);else{if(i=ee,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=u}},function(u){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,ov(i),i}throw jl=s,Ul}}var jl=null;function av(){if(jl===null)throw Error(r(459));var i=jl;return jl=null,i}function ov(i){if(i===Ul||i===Zc)throw Error(r(483))}var Pr=!1;function Xd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wd(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Or(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function kr(i,s,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Yt&2)!==0){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,s=Gc(i),Y0(i,null,o),s}return qc(i,u,s,o),Gc(i)}function zl(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,ml(i,o)}}function Zd(i,s){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=E:g=g.next=E,o=o.next}while(o!==null);g===null?f=g=s:g=g.next=s}else f=g=s;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var Jd=!1;function Bl(){if(Jd){var i=no;if(i!==null)throw i}}function Fl(i,s,o,u){Jd=!1;var f=i.updateQueue;Pr=!1;var g=f.firstBaseUpdate,E=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var D=w,K=D.next;D.next=null,E===null?g=K:E.next=K,E=D;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,w=Z.lastBaseUpdate,w!==E&&(w===null?Z.firstBaseUpdate=K:w.next=K,Z.lastBaseUpdate=D))}if(g!==null){var et=f.baseState;E=0,Z=K=D=null,w=g;do{var $=w.lane&-536870913,Q=$!==w.lane;if(Q?(jt&$)===$:(u&$)===$){$!==0&&$===eo&&(Jd=!0),Z!==null&&(Z=Z.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var Et=i,vt=w;$=s;var Zt=o;switch(vt.tag){case 1:if(Et=vt.payload,typeof Et=="function"){et=Et.call(Zt,et,$);break t}et=Et;break t;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=vt.payload,$=typeof Et=="function"?Et.call(Zt,et,$):Et,$==null)break t;et=y({},et,$);break t;case 2:Pr=!0}}$=w.callback,$!==null&&(i.flags|=64,Q&&(i.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[$]:Q.push($))}else Q={lane:$,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Z===null?(K=Z=Q,D=et):Z=Z.next=Q,E|=$;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;Q=w,w=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);Z===null&&(D=et),f.baseState=D,f.firstBaseUpdate=K,f.lastBaseUpdate=Z,g===null&&(f.shared.lanes=0),qr|=E,i.lanes=E,i.memoizedState=et}}function lv(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function uv(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)lv(o[i],s)}var io=it(null),th=it(0);function cv(i,s){i=sr,ot(th,i),ot(io,s),sr=i|s.baseLanes}function tm(){ot(th,sr),ot(io,io.current)}function em(){sr=th.current,ct(io),ct(th)}var Lr=0,Ct=null,Xt=null,Se=null,eh=!1,ro=!1,oa=!1,nh=0,Hl=0,so=null,V4=0;function ye(){throw Error(r(321))}function nm(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!bn(i[o],s[o]))return!1;return!0}function im(i,s,o,u,f,g){return Lr=g,Ct=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,W.H=i===null||i.memoizedState===null?Yv:$v,oa=!1,g=o(u,f),oa=!1,ro&&(g=fv(s,o,u,f)),hv(i),g}function hv(i){W.H=lh;var s=Xt!==null&&Xt.next!==null;if(Lr=0,Se=Xt=Ct=null,eh=!1,Hl=0,so=null,s)throw Error(r(300));i===null||Ue||(i=i.dependencies,i!==null&&Qc(i)&&(Ue=!0))}function fv(i,s,o,u){Ct=i;var f=0;do{if(ro&&(so=null),Hl=0,ro=!1,25<=f)throw Error(r(301));if(f+=1,Se=Xt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}W.H=z4,g=s(o,u)}while(ro);return g}function P4(){var i=W.H,s=i.useState()[0];return s=typeof s.then=="function"?ql(s):s,i=i.useState()[0],(Xt!==null?Xt.memoizedState:null)!==i&&(Ct.flags|=1024),s}function rm(){var i=nh!==0;return nh=0,i}function sm(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function am(i){if(eh){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}eh=!1}Lr=0,Se=Xt=Ct=null,ro=!1,Hl=nh=0,so=null}function dn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?Ct.memoizedState=Se=i:Se=Se.next=i,Se}function Ae(){if(Xt===null){var i=Ct.alternate;i=i!==null?i.memoizedState:null}else i=Xt.next;var s=Se===null?Ct.memoizedState:Se.next;if(s!==null)Se=s,Xt=i;else{if(i===null)throw Ct.alternate===null?Error(r(467)):Error(r(310));Xt=i,i={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Se===null?Ct.memoizedState=Se=i:Se=Se.next=i}return Se}function om(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ql(i){var s=Hl;return Hl+=1,so===null&&(so=[]),i=sv(so,i,s),s=Ct,(Se===null?s.memoizedState:Se.next)===null&&(s=s.alternate,W.H=s===null||s.memoizedState===null?Yv:$v),i}function ih(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ql(i);if(i.$$typeof===Y)return Je(i)}throw Error(r(438,String(i)))}function lm(i){var s=null,o=Ct.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Ct.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=om(),Ct.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),u=0;u<i;u++)o[u]=P;return s.index++,o}function Ji(i,s){return typeof s=="function"?s(i):s}function rh(i){var s=Ae();return um(s,Xt,i)}function um(i,s,o){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var f=i.baseQueue,g=u.pending;if(g!==null){if(f!==null){var E=f.next;f.next=g.next,g.next=E}s.baseQueue=f=g,u.pending=null}if(g=i.baseState,f===null)i.memoizedState=g;else{s=f.next;var w=E=null,D=null,K=s,Z=!1;do{var et=K.lane&-536870913;if(et!==K.lane?(jt&et)===et:(Lr&et)===et){var $=K.revertLane;if($===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),et===eo&&(Z=!0);else if((Lr&$)===$){K=K.next,$===eo&&(Z=!0);continue}else et={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},D===null?(w=D=et,E=g):D=D.next=et,Ct.lanes|=$,qr|=$;et=K.action,oa&&o(g,et),g=K.hasEagerState?K.eagerState:o(g,et)}else $={lane:et,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},D===null?(w=D=$,E=g):D=D.next=$,Ct.lanes|=et,qr|=et;K=K.next}while(K!==null&&K!==s);if(D===null?E=g:D.next=w,!bn(g,i.memoizedState)&&(Ue=!0,Z&&(o=no,o!==null)))throw o;i.memoizedState=g,i.baseState=E,i.baseQueue=D,u.lastRenderedState=g}return f===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function cm(i){var s=Ae(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var u=o.dispatch,f=o.pending,g=s.memoizedState;if(f!==null){o.pending=null;var E=f=f.next;do g=i(g,E.action),E=E.next;while(E!==f);bn(g,s.memoizedState)||(Ue=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function dv(i,s,o){var u=Ct,f=Ae(),g=Ft;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=s();var E=!bn((Xt||f).memoizedState,o);E&&(f.memoizedState=o,Ue=!0),f=f.queue;var w=gv.bind(null,u,f,i);if(Gl(2048,8,w,[i]),f.getSnapshot!==s||E||Se!==null&&Se.memoizedState.tag&1){if(u.flags|=2048,ao(9,sh(),pv.bind(null,u,f,o,s),null),ee===null)throw Error(r(349));g||(Lr&124)!==0||mv(u,s,o)}return o}function mv(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=Ct.updateQueue,s===null?(s=om(),Ct.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function pv(i,s,o,u){s.value=o,s.getSnapshot=u,yv(s)&&vv(i)}function gv(i,s,o){return o(function(){yv(s)&&vv(i)})}function yv(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!bn(i,o)}catch{return!0}}function vv(i){var s=Wa(i,2);s!==null&&Cn(s,i,2)}function hm(i){var s=dn();if(typeof i=="function"){var o=i;if(i=o(),oa){Tn(!0);try{o()}finally{Tn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:i},s}function _v(i,s,o,u){return i.baseState=o,um(i,Xt,typeof u=="function"?u:Ji)}function O4(i,s,o,u,f){if(oh(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};W.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,Tv(s,g)):(g.next=o.next,s.pending=o.next=g)}}function Tv(i,s){var o=s.action,u=s.payload,f=i.state;if(s.isTransition){var g=W.T,E={};W.T=E;try{var w=o(f,u),D=W.S;D!==null&&D(E,w),Ev(i,s,w)}catch(K){fm(i,s,K)}finally{W.T=g}}else try{g=o(f,u),Ev(i,s,g)}catch(K){fm(i,s,K)}}function Ev(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){bv(i,s,u)},function(u){return fm(i,s,u)}):bv(i,s,o)}function bv(i,s,o){s.status="fulfilled",s.value=o,wv(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,Tv(i,o)))}function fm(i,s,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,wv(s),s=s.next;while(s!==u)}i.action=null}function wv(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function Sv(i,s){return s}function Av(i,s){if(Ft){var o=ee.formState;if(o!==null){t:{var u=Ct;if(Ft){if(fe){e:{for(var f=fe,g=_i;f.nodeType!==8;){if(!g){f=null;break e}if(f=Jn(f.nextSibling),f===null){f=null;break e}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){fe=Jn(f.nextSibling),u=f.data==="F!";break t}}ia(u)}u=!1}u&&(s=o[0])}}return o=dn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sv,lastRenderedState:s},o.queue=u,o=qv.bind(null,Ct,u),u.dispatch=o,u=hm(!1),g=ym.bind(null,Ct,!1,u.queue),u=dn(),f={state:s,dispatch:null,action:i,pending:null},u.queue=f,o=O4.bind(null,Ct,f,g,o),f.dispatch=o,u.memoizedState=i,[s,o,!1]}function xv(i){var s=Ae();return Rv(s,Xt,i)}function Rv(i,s,o){if(s=um(i,s,Sv)[0],i=rh(Ji)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=ql(s)}catch(E){throw E===Ul?Zc:E}else u=s;s=Ae();var f=s.queue,g=f.dispatch;return o!==s.memoizedState&&(Ct.flags|=2048,ao(9,sh(),k4.bind(null,f,o),null)),[u,g,i]}function k4(i,s){i.action=s}function Cv(i){var s=Ae(),o=Xt;if(o!==null)return Rv(s,o,i);Ae(),s=s.memoizedState,o=Ae();var u=o.queue.dispatch;return o.memoizedState=i,[s,u,!1]}function ao(i,s,o,u){return i={tag:i,create:o,deps:u,inst:s,next:null},s=Ct.updateQueue,s===null&&(s=om(),Ct.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,s.lastEffect=i),i}function sh(){return{destroy:void 0,resource:void 0}}function Iv(){return Ae().memoizedState}function ah(i,s,o,u){var f=dn();u=u===void 0?null:u,Ct.flags|=i,f.memoizedState=ao(1|s,sh(),o,u)}function Gl(i,s,o,u){var f=Ae();u=u===void 0?null:u;var g=f.memoizedState.inst;Xt!==null&&u!==null&&nm(u,Xt.memoizedState.deps)?f.memoizedState=ao(s,g,o,u):(Ct.flags|=i,f.memoizedState=ao(1|s,g,o,u))}function Dv(i,s){ah(8390656,8,i,s)}function Nv(i,s){Gl(2048,8,i,s)}function Mv(i,s){return Gl(4,2,i,s)}function Vv(i,s){return Gl(4,4,i,s)}function Pv(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Ov(i,s,o){o=o!=null?o.concat([i]):null,Gl(4,4,Pv.bind(null,s,i),o)}function dm(){}function kv(i,s){var o=Ae();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&nm(s,u[1])?u[0]:(o.memoizedState=[i,s],i)}function Lv(i,s){var o=Ae();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&nm(s,u[1]))return u[0];if(u=i(),oa){Tn(!0);try{i()}finally{Tn(!1)}}return o.memoizedState=[u,s],u}function mm(i,s,o){return o===void 0||(Lr&1073741824)!==0?i.memoizedState=s:(i.memoizedState=o,i=z1(),Ct.lanes|=i,qr|=i,o)}function Uv(i,s,o,u){return bn(o,s)?o:io.current!==null?(i=mm(i,o,u),bn(i,s)||(Ue=!0),i):(Lr&42)===0?(Ue=!0,i.memoizedState=o):(i=z1(),Ct.lanes|=i,qr|=i,s)}function jv(i,s,o,u,f){var g=at.p;at.p=g!==0&&8>g?g:8;var E=W.T,w={};W.T=w,ym(i,!1,s,o);try{var D=f(),K=W.S;if(K!==null&&K(w,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Z=M4(D,u);Kl(i,s,Z,Rn(i))}else Kl(i,s,u,Rn(i))}catch(et){Kl(i,s,{then:function(){},status:"rejected",reason:et},Rn())}finally{at.p=g,W.T=E}}function L4(){}function pm(i,s,o,u){if(i.tag!==5)throw Error(r(476));var f=zv(i).queue;jv(i,f,s,ft,o===null?L4:function(){return Bv(i),o(u)})}function zv(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:ft},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function Bv(i){var s=zv(i).next.queue;Kl(i,s,{},Rn())}function gm(){return Je(cu)}function Fv(){return Ae().memoizedState}function Hv(){return Ae().memoizedState}function U4(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=Rn();i=Or(o);var u=kr(s,i,o);u!==null&&(Cn(u,s,o),zl(u,s,o)),s={cache:Kd()},i.payload=s;return}s=s.return}}function j4(i,s,o){var u=Rn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},oh(i)?Gv(s,o):(o=kd(i,s,o,u),o!==null&&(Cn(o,i,u),Kv(o,s,u)))}function qv(i,s,o){var u=Rn();Kl(i,s,o,u)}function Kl(i,s,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(oh(i))Gv(s,f);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var E=s.lastRenderedState,w=g(E,o);if(f.hasEagerState=!0,f.eagerState=w,bn(w,E))return qc(i,s,f,0),ee===null&&Hc(),!1}catch{}finally{}if(o=kd(i,s,f,u),o!==null)return Cn(o,i,u),Kv(o,s,u),!0}return!1}function ym(i,s,o,u){if(u={lane:2,revertLane:Qm(),action:u,hasEagerState:!1,eagerState:null,next:null},oh(i)){if(s)throw Error(r(479))}else s=kd(i,o,u,2),s!==null&&Cn(s,i,2)}function oh(i){var s=i.alternate;return i===Ct||s!==null&&s===Ct}function Gv(i,s){ro=eh=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function Kv(i,s,o){if((o&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,ml(i,o)}}var lh={readContext:Je,use:ih,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useLayoutEffect:ye,useInsertionEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useSyncExternalStore:ye,useId:ye,useHostTransitionStatus:ye,useFormState:ye,useActionState:ye,useOptimistic:ye,useMemoCache:ye,useCacheRefresh:ye},Yv={readContext:Je,use:ih,useCallback:function(i,s){return dn().memoizedState=[i,s===void 0?null:s],i},useContext:Je,useEffect:Dv,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,ah(4194308,4,Pv.bind(null,s,i),o)},useLayoutEffect:function(i,s){return ah(4194308,4,i,s)},useInsertionEffect:function(i,s){ah(4,2,i,s)},useMemo:function(i,s){var o=dn();s=s===void 0?null:s;var u=i();if(oa){Tn(!0);try{i()}finally{Tn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(i,s,o){var u=dn();if(o!==void 0){var f=o(s);if(oa){Tn(!0);try{o(s)}finally{Tn(!1)}}}else f=s;return u.memoizedState=u.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},u.queue=i,i=i.dispatch=j4.bind(null,Ct,i),[u.memoizedState,i]},useRef:function(i){var s=dn();return i={current:i},s.memoizedState=i},useState:function(i){i=hm(i);var s=i.queue,o=qv.bind(null,Ct,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:dm,useDeferredValue:function(i,s){var o=dn();return mm(o,i,s)},useTransition:function(){var i=hm(!1);return i=jv.bind(null,Ct,i.queue,!0,!1),dn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var u=Ct,f=dn();if(Ft){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),ee===null)throw Error(r(349));(jt&124)!==0||mv(u,s,o)}f.memoizedState=o;var g={value:o,getSnapshot:s};return f.queue=g,Dv(gv.bind(null,u,g,i),[i]),u.flags|=2048,ao(9,sh(),pv.bind(null,u,g,o,s),null),o},useId:function(){var i=dn(),s=ee.identifierPrefix;if(Ft){var o=Xi,u=Qi;o=(u&~(1<<32-Ze(u)-1)).toString(32)+o,s=""+s+"R"+o,o=nh++,0<o&&(s+="H"+o.toString(32)),s+=""}else o=V4++,s=""+s+"r"+o.toString(32)+"";return i.memoizedState=s},useHostTransitionStatus:gm,useFormState:Av,useActionState:Av,useOptimistic:function(i){var s=dn();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=ym.bind(null,Ct,!0,o),o.dispatch=s,[i,s]},useMemoCache:lm,useCacheRefresh:function(){return dn().memoizedState=U4.bind(null,Ct)}},$v={readContext:Je,use:ih,useCallback:kv,useContext:Je,useEffect:Nv,useImperativeHandle:Ov,useInsertionEffect:Mv,useLayoutEffect:Vv,useMemo:Lv,useReducer:rh,useRef:Iv,useState:function(){return rh(Ji)},useDebugValue:dm,useDeferredValue:function(i,s){var o=Ae();return Uv(o,Xt.memoizedState,i,s)},useTransition:function(){var i=rh(Ji)[0],s=Ae().memoizedState;return[typeof i=="boolean"?i:ql(i),s]},useSyncExternalStore:dv,useId:Fv,useHostTransitionStatus:gm,useFormState:xv,useActionState:xv,useOptimistic:function(i,s){var o=Ae();return _v(o,Xt,i,s)},useMemoCache:lm,useCacheRefresh:Hv},z4={readContext:Je,use:ih,useCallback:kv,useContext:Je,useEffect:Nv,useImperativeHandle:Ov,useInsertionEffect:Mv,useLayoutEffect:Vv,useMemo:Lv,useReducer:cm,useRef:Iv,useState:function(){return cm(Ji)},useDebugValue:dm,useDeferredValue:function(i,s){var o=Ae();return Xt===null?mm(o,i,s):Uv(o,Xt.memoizedState,i,s)},useTransition:function(){var i=cm(Ji)[0],s=Ae().memoizedState;return[typeof i=="boolean"?i:ql(i),s]},useSyncExternalStore:dv,useId:Fv,useHostTransitionStatus:gm,useFormState:Cv,useActionState:Cv,useOptimistic:function(i,s){var o=Ae();return Xt!==null?_v(o,Xt,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:lm,useCacheRefresh:Hv},oo=null,Yl=0;function uh(i){var s=Yl;return Yl+=1,oo===null&&(oo=[]),sv(oo,i,s)}function $l(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function ch(i,s){throw s.$$typeof===_?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Qv(i){var s=i._init;return s(i._payload)}function Xv(i){function s(B,j){if(i){var q=B.deletions;q===null?(B.deletions=[j],B.flags|=16):q.push(j)}}function o(B,j){if(!i)return null;for(;j!==null;)s(B,j),j=j.sibling;return null}function u(B){for(var j=new Map;B!==null;)B.key!==null?j.set(B.key,B):j.set(B.index,B),B=B.sibling;return j}function f(B,j){return B=$i(B,j),B.index=0,B.sibling=null,B}function g(B,j,q){return B.index=q,i?(q=B.alternate,q!==null?(q=q.index,q<j?(B.flags|=67108866,j):q):(B.flags|=67108866,j)):(B.flags|=1048576,j)}function E(B){return i&&B.alternate===null&&(B.flags|=67108866),B}function w(B,j,q,tt){return j===null||j.tag!==6?(j=Ud(q,B.mode,tt),j.return=B,j):(j=f(j,q),j.return=B,j)}function D(B,j,q,tt){var dt=q.type;return dt===C?Z(B,j,q.props.children,tt,q.key):j!==null&&(j.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===R&&Qv(dt)===j.type)?(j=f(j,q.props),$l(j,q),j.return=B,j):(j=Kc(q.type,q.key,q.props,null,B.mode,tt),$l(j,q),j.return=B,j)}function K(B,j,q,tt){return j===null||j.tag!==4||j.stateNode.containerInfo!==q.containerInfo||j.stateNode.implementation!==q.implementation?(j=jd(q,B.mode,tt),j.return=B,j):(j=f(j,q.children||[]),j.return=B,j)}function Z(B,j,q,tt,dt){return j===null||j.tag!==7?(j=Js(q,B.mode,tt,dt),j.return=B,j):(j=f(j,q),j.return=B,j)}function et(B,j,q){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Ud(""+j,B.mode,q),j.return=B,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case b:return q=Kc(j.type,j.key,j.props,null,B.mode,q),$l(q,j),q.return=B,q;case x:return j=jd(j,B.mode,q),j.return=B,j;case R:var tt=j._init;return j=tt(j._payload),et(B,j,q)}if(ae(j)||F(j))return j=Js(j,B.mode,q,null),j.return=B,j;if(typeof j.then=="function")return et(B,uh(j),q);if(j.$$typeof===Y)return et(B,Xc(B,j),q);ch(B,j)}return null}function $(B,j,q,tt){var dt=j!==null?j.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return dt!==null?null:w(B,j,""+q,tt);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case b:return q.key===dt?D(B,j,q,tt):null;case x:return q.key===dt?K(B,j,q,tt):null;case R:return dt=q._init,q=dt(q._payload),$(B,j,q,tt)}if(ae(q)||F(q))return dt!==null?null:Z(B,j,q,tt,null);if(typeof q.then=="function")return $(B,j,uh(q),tt);if(q.$$typeof===Y)return $(B,j,Xc(B,q),tt);ch(B,q)}return null}function Q(B,j,q,tt,dt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return B=B.get(q)||null,w(j,B,""+tt,dt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case b:return B=B.get(tt.key===null?q:tt.key)||null,D(j,B,tt,dt);case x:return B=B.get(tt.key===null?q:tt.key)||null,K(j,B,tt,dt);case R:var Nt=tt._init;return tt=Nt(tt._payload),Q(B,j,q,tt,dt)}if(ae(tt)||F(tt))return B=B.get(q)||null,Z(j,B,tt,dt,null);if(typeof tt.then=="function")return Q(B,j,q,uh(tt),dt);if(tt.$$typeof===Y)return Q(B,j,q,Xc(j,tt),dt);ch(j,tt)}return null}function Et(B,j,q,tt){for(var dt=null,Nt=null,mt=j,Tt=j=0,ze=null;mt!==null&&Tt<q.length;Tt++){mt.index>Tt?(ze=mt,mt=null):ze=mt.sibling;var Bt=$(B,mt,q[Tt],tt);if(Bt===null){mt===null&&(mt=ze);break}i&&mt&&Bt.alternate===null&&s(B,mt),j=g(Bt,j,Tt),Nt===null?dt=Bt:Nt.sibling=Bt,Nt=Bt,mt=ze}if(Tt===q.length)return o(B,mt),Ft&&ea(B,Tt),dt;if(mt===null){for(;Tt<q.length;Tt++)mt=et(B,q[Tt],tt),mt!==null&&(j=g(mt,j,Tt),Nt===null?dt=mt:Nt.sibling=mt,Nt=mt);return Ft&&ea(B,Tt),dt}for(mt=u(mt);Tt<q.length;Tt++)ze=Q(mt,B,Tt,q[Tt],tt),ze!==null&&(i&&ze.alternate!==null&&mt.delete(ze.key===null?Tt:ze.key),j=g(ze,j,Tt),Nt===null?dt=ze:Nt.sibling=ze,Nt=ze);return i&&mt.forEach(function(Jr){return s(B,Jr)}),Ft&&ea(B,Tt),dt}function vt(B,j,q,tt){if(q==null)throw Error(r(151));for(var dt=null,Nt=null,mt=j,Tt=j=0,ze=null,Bt=q.next();mt!==null&&!Bt.done;Tt++,Bt=q.next()){mt.index>Tt?(ze=mt,mt=null):ze=mt.sibling;var Jr=$(B,mt,Bt.value,tt);if(Jr===null){mt===null&&(mt=ze);break}i&&mt&&Jr.alternate===null&&s(B,mt),j=g(Jr,j,Tt),Nt===null?dt=Jr:Nt.sibling=Jr,Nt=Jr,mt=ze}if(Bt.done)return o(B,mt),Ft&&ea(B,Tt),dt;if(mt===null){for(;!Bt.done;Tt++,Bt=q.next())Bt=et(B,Bt.value,tt),Bt!==null&&(j=g(Bt,j,Tt),Nt===null?dt=Bt:Nt.sibling=Bt,Nt=Bt);return Ft&&ea(B,Tt),dt}for(mt=u(mt);!Bt.done;Tt++,Bt=q.next())Bt=Q(mt,B,Tt,Bt.value,tt),Bt!==null&&(i&&Bt.alternate!==null&&mt.delete(Bt.key===null?Tt:Bt.key),j=g(Bt,j,Tt),Nt===null?dt=Bt:Nt.sibling=Bt,Nt=Bt);return i&&mt.forEach(function(Bx){return s(B,Bx)}),Ft&&ea(B,Tt),dt}function Zt(B,j,q,tt){if(typeof q=="object"&&q!==null&&q.type===C&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case b:t:{for(var dt=q.key;j!==null;){if(j.key===dt){if(dt=q.type,dt===C){if(j.tag===7){o(B,j.sibling),tt=f(j,q.props.children),tt.return=B,B=tt;break t}}else if(j.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===R&&Qv(dt)===j.type){o(B,j.sibling),tt=f(j,q.props),$l(tt,q),tt.return=B,B=tt;break t}o(B,j);break}else s(B,j);j=j.sibling}q.type===C?(tt=Js(q.props.children,B.mode,tt,q.key),tt.return=B,B=tt):(tt=Kc(q.type,q.key,q.props,null,B.mode,tt),$l(tt,q),tt.return=B,B=tt)}return E(B);case x:t:{for(dt=q.key;j!==null;){if(j.key===dt)if(j.tag===4&&j.stateNode.containerInfo===q.containerInfo&&j.stateNode.implementation===q.implementation){o(B,j.sibling),tt=f(j,q.children||[]),tt.return=B,B=tt;break t}else{o(B,j);break}else s(B,j);j=j.sibling}tt=jd(q,B.mode,tt),tt.return=B,B=tt}return E(B);case R:return dt=q._init,q=dt(q._payload),Zt(B,j,q,tt)}if(ae(q))return Et(B,j,q,tt);if(F(q)){if(dt=F(q),typeof dt!="function")throw Error(r(150));return q=dt.call(q),vt(B,j,q,tt)}if(typeof q.then=="function")return Zt(B,j,uh(q),tt);if(q.$$typeof===Y)return Zt(B,j,Xc(B,q),tt);ch(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,j!==null&&j.tag===6?(o(B,j.sibling),tt=f(j,q),tt.return=B,B=tt):(o(B,j),tt=Ud(q,B.mode,tt),tt.return=B,B=tt),E(B)):o(B,j)}return function(B,j,q,tt){try{Yl=0;var dt=Zt(B,j,q,tt);return oo=null,dt}catch(mt){if(mt===Ul||mt===Zc)throw mt;var Nt=wn(29,mt,null,B.mode);return Nt.lanes=tt,Nt.return=B,Nt}finally{}}}var lo=Xv(!0),Wv=Xv(!1),Bn=it(null),Ti=null;function Ur(i){var s=i.alternate;ot(Ne,Ne.current&1),ot(Bn,i),Ti===null&&(s===null||io.current!==null||s.memoizedState!==null)&&(Ti=i)}function Zv(i){if(i.tag===22){if(ot(Ne,Ne.current),ot(Bn,i),Ti===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(Ti=i)}}else jr()}function jr(){ot(Ne,Ne.current),ot(Bn,Bn.current)}function tr(i){ct(Bn),Ti===i&&(Ti=null),ct(Ne)}var Ne=it(0);function hh(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||op(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function vm(i,s,o,u){s=i.memoizedState,o=o(u,s),o=o==null?s:y({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var _m={enqueueSetState:function(i,s,o){i=i._reactInternals;var u=Rn(),f=Or(u);f.payload=s,o!=null&&(f.callback=o),s=kr(i,f,u),s!==null&&(Cn(s,i,u),zl(s,i,u))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var u=Rn(),f=Or(u);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=kr(i,f,u),s!==null&&(Cn(s,i,u),zl(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=Rn(),u=Or(o);u.tag=2,s!=null&&(u.callback=s),s=kr(i,u,o),s!==null&&(Cn(s,i,o),zl(s,i,o))}};function Jv(i,s,o,u,f,g,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,E):s.prototype&&s.prototype.isPureReactComponent?!Dl(o,u)||!Dl(f,g):!0}function t1(i,s,o,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==i&&_m.enqueueReplaceState(s,s.state,null)}function la(i,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(i=i.defaultProps){o===s&&(o=y({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}var fh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function e1(i){fh(i)}function n1(i){console.error(i)}function i1(i){fh(i)}function dh(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function r1(i,s,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Tm(i,s,o){return o=Or(o),o.tag=3,o.payload={element:null},o.callback=function(){dh(i,s)},o}function s1(i){return i=Or(i),i.tag=3,i}function a1(i,s,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;i.payload=function(){return f(g)},i.callback=function(){r1(s,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){r1(s,o,u),typeof f!="function"&&(Gr===null?Gr=new Set([this]):Gr.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function B4(i,s,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Ol(s,o,f,!0),o=Bn.current,o!==null){switch(o.tag){case 13:return Ti===null?qm():o.alternate===null&&de===0&&(de=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===Qd?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Km(i,u,f)),!1;case 22:return o.flags|=65536,u===Qd?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Km(i,u,f)),!1}throw Error(r(435,o.tag))}return Km(i,u,f),qm(),!1}if(Ft)return s=Bn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,u!==Fd&&(i=Error(r(422),{cause:u}),Pl(Ln(i,o)))):(u!==Fd&&(s=Error(r(423),{cause:u}),Pl(Ln(s,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,u=Ln(u,o),f=Tm(i.stateNode,u,f),Zd(i,f),de!==4&&(de=2)),!1;var g=Error(r(520),{cause:u});if(g=Ln(g,o),eu===null?eu=[g]:eu.push(g),de!==4&&(de=2),s===null)return!0;u=Ln(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=Tm(o.stateNode,u,i),Zd(o,i),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Gr===null||!Gr.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=s1(f),a1(f,i,o,u),Zd(o,f),!1}o=o.return}while(o!==null);return!1}var o1=Error(r(461)),Ue=!1;function qe(i,s,o,u){s.child=i===null?Wv(s,null,o,u):lo(s,i.child,o,u)}function l1(i,s,o,u,f){o=o.render;var g=s.ref;if("ref"in u){var E={};for(var w in u)w!=="ref"&&(E[w]=u[w])}else E=u;return sa(s),u=im(i,s,o,E,g,f),w=rm(),i!==null&&!Ue?(sm(i,s,f),er(i,s,f)):(Ft&&w&&zd(s),s.flags|=1,qe(i,s,u,f),s.child)}function u1(i,s,o,u,f){if(i===null){var g=o.type;return typeof g=="function"&&!Ld(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,c1(i,s,g,u,f)):(i=Kc(o.type,null,u,s,s.mode,f),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!Cm(i,f)){var E=g.memoizedProps;if(o=o.compare,o=o!==null?o:Dl,o(E,u)&&i.ref===s.ref)return er(i,s,f)}return s.flags|=1,i=$i(g,u),i.ref=s.ref,i.return=s,s.child=i}function c1(i,s,o,u,f){if(i!==null){var g=i.memoizedProps;if(Dl(g,u)&&i.ref===s.ref)if(Ue=!1,s.pendingProps=u=g,Cm(i,f))(i.flags&131072)!==0&&(Ue=!0);else return s.lanes=i.lanes,er(i,s,f)}return Em(i,s,o,u,f)}function h1(i,s,o){var u=s.pendingProps,f=u.children,g=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,i!==null){for(f=s.child=i.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return f1(i,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Wc(s,g!==null?g.cachePool:null),g!==null?cv(s,g):tm(),Zv(s);else return s.lanes=s.childLanes=536870912,f1(i,s,g!==null?g.baseLanes|o:o,o)}else g!==null?(Wc(s,g.cachePool),cv(s,g),jr(),s.memoizedState=null):(i!==null&&Wc(s,null),tm(),jr());return qe(i,s,f,o),s.child}function f1(i,s,o,u){var f=$d();return f=f===null?null:{parent:De._currentValue,pool:f},s.memoizedState={baseLanes:o,cachePool:f},i!==null&&Wc(s,null),tm(),Zv(s),i!==null&&Ol(i,s,u,!0),null}function mh(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function Em(i,s,o,u,f){return sa(s),o=im(i,s,o,u,void 0,f),u=rm(),i!==null&&!Ue?(sm(i,s,f),er(i,s,f)):(Ft&&u&&zd(s),s.flags|=1,qe(i,s,o,f),s.child)}function d1(i,s,o,u,f,g){return sa(s),s.updateQueue=null,o=fv(s,u,o,f),hv(i),u=rm(),i!==null&&!Ue?(sm(i,s,g),er(i,s,g)):(Ft&&u&&zd(s),s.flags|=1,qe(i,s,o,g),s.child)}function m1(i,s,o,u,f){if(sa(s),s.stateNode===null){var g=Za,E=o.contextType;typeof E=="object"&&E!==null&&(g=Je(E)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=_m,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},Xd(s),E=o.contextType,g.context=typeof E=="object"&&E!==null?Je(E):Za,g.state=s.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(vm(s,o,E,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&_m.enqueueReplaceState(g,g.state,null),Fl(s,u,g,f),Bl(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){g=s.stateNode;var w=s.memoizedProps,D=la(o,w);g.props=D;var K=g.context,Z=o.contextType;E=Za,typeof Z=="object"&&Z!==null&&(E=Je(Z));var et=o.getDerivedStateFromProps;Z=typeof et=="function"||typeof g.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,Z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w||K!==E)&&t1(s,g,u,E),Pr=!1;var $=s.memoizedState;g.state=$,Fl(s,u,g,f),Bl(),K=s.memoizedState,w||$!==K||Pr?(typeof et=="function"&&(vm(s,o,et,u),K=s.memoizedState),(D=Pr||Jv(s,o,D,u,$,K,E))?(Z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=K),g.props=u,g.state=K,g.context=E,u=D):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,Wd(i,s),E=s.memoizedProps,Z=la(o,E),g.props=Z,et=s.pendingProps,$=g.context,K=o.contextType,D=Za,typeof K=="object"&&K!==null&&(D=Je(K)),w=o.getDerivedStateFromProps,(K=typeof w=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==et||$!==D)&&t1(s,g,u,D),Pr=!1,$=s.memoizedState,g.state=$,Fl(s,u,g,f),Bl();var Q=s.memoizedState;E!==et||$!==Q||Pr||i!==null&&i.dependencies!==null&&Qc(i.dependencies)?(typeof w=="function"&&(vm(s,o,w,u),Q=s.memoizedState),(Z=Pr||Jv(s,o,Z,u,$,Q,D)||i!==null&&i.dependencies!==null&&Qc(i.dependencies))?(K||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,Q,D),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,Q,D)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&$===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&$===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Q),g.props=u,g.state=Q,g.context=D,u=Z):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&$===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&$===i.memoizedState||(s.flags|=1024),u=!1)}return g=u,mh(i,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&u?(s.child=lo(s,i.child,null,f),s.child=lo(s,null,o,f)):qe(i,s,o,f),s.memoizedState=g.state,i=s.child):i=er(i,s,f),i}function p1(i,s,o,u){return Vl(),s.flags|=256,qe(i,s,o,u),s.child}var bm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wm(i){return{baseLanes:i,cachePool:nv()}}function Sm(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=Fn),i}function g1(i,s,o){var u=s.pendingProps,f=!1,g=(s.flags&128)!==0,E;if((E=g)||(E=i!==null&&i.memoizedState===null?!1:(Ne.current&2)!==0),E&&(f=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,i===null){if(Ft){if(f?Ur(s):jr(),Ft){var w=fe,D;if(D=w){t:{for(D=w,w=_i;D.nodeType!==8;){if(!w){w=null;break t}if(D=Jn(D.nextSibling),D===null){w=null;break t}}w=D}w!==null?(s.memoizedState={dehydrated:w,treeContext:ta!==null?{id:Qi,overflow:Xi}:null,retryLane:536870912,hydrationErrors:null},D=wn(18,null,null,0),D.stateNode=w,D.return=s,s.child=D,hn=s,fe=null,D=!0):D=!1}D||ia(s)}if(w=s.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return op(w)?s.lanes=32:s.lanes=536870912,null;tr(s)}return w=u.children,u=u.fallback,f?(jr(),f=s.mode,w=ph({mode:"hidden",children:w},f),u=Js(u,f,o,null),w.return=s,u.return=s,w.sibling=u,s.child=w,f=s.child,f.memoizedState=wm(o),f.childLanes=Sm(i,E,o),s.memoizedState=bm,u):(Ur(s),Am(s,w))}if(D=i.memoizedState,D!==null&&(w=D.dehydrated,w!==null)){if(g)s.flags&256?(Ur(s),s.flags&=-257,s=xm(i,s,o)):s.memoizedState!==null?(jr(),s.child=i.child,s.flags|=128,s=null):(jr(),f=u.fallback,w=s.mode,u=ph({mode:"visible",children:u.children},w),f=Js(f,w,o,null),f.flags|=2,u.return=s,f.return=s,u.sibling=f,s.child=u,lo(s,i.child,null,o),u=s.child,u.memoizedState=wm(o),u.childLanes=Sm(i,E,o),s.memoizedState=bm,s=f);else if(Ur(s),op(w)){if(E=w.nextSibling&&w.nextSibling.dataset,E)var K=E.dgst;E=K,u=Error(r(419)),u.stack="",u.digest=E,Pl({value:u,source:null,stack:null}),s=xm(i,s,o)}else if(Ue||Ol(i,s,o,!1),E=(o&i.childLanes)!==0,Ue||E){if(E=ee,E!==null&&(u=o&-o,u=(u&42)!==0?1:xr(u),u=(u&(E.suspendedLanes|o))!==0?0:u,u!==0&&u!==D.retryLane))throw D.retryLane=u,Wa(i,u),Cn(E,i,u),o1;w.data==="$?"||qm(),s=xm(i,s,o)}else w.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=D.treeContext,fe=Jn(w.nextSibling),hn=s,Ft=!0,na=null,_i=!1,i!==null&&(jn[zn++]=Qi,jn[zn++]=Xi,jn[zn++]=ta,Qi=i.id,Xi=i.overflow,ta=s),s=Am(s,u.children),s.flags|=4096);return s}return f?(jr(),f=u.fallback,w=s.mode,D=i.child,K=D.sibling,u=$i(D,{mode:"hidden",children:u.children}),u.subtreeFlags=D.subtreeFlags&65011712,K!==null?f=$i(K,f):(f=Js(f,w,o,null),f.flags|=2),f.return=s,u.return=s,u.sibling=f,s.child=u,u=f,f=s.child,w=i.child.memoizedState,w===null?w=wm(o):(D=w.cachePool,D!==null?(K=De._currentValue,D=D.parent!==K?{parent:K,pool:K}:D):D=nv(),w={baseLanes:w.baseLanes|o,cachePool:D}),f.memoizedState=w,f.childLanes=Sm(i,E,o),s.memoizedState=bm,u):(Ur(s),o=i.child,i=o.sibling,o=$i(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,i!==null&&(E=s.deletions,E===null?(s.deletions=[i],s.flags|=16):E.push(i)),s.child=o,s.memoizedState=null,o)}function Am(i,s){return s=ph({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function ph(i,s){return i=wn(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function xm(i,s,o){return lo(s,i.child,null,o),i=Am(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function y1(i,s,o){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),qd(i.return,s,o)}function Rm(i,s,o,u,f){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=f)}function v1(i,s,o){var u=s.pendingProps,f=u.revealOrder,g=u.tail;if(qe(i,s,u.children,o),u=Ne.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&y1(i,o,s);else if(i.tag===19)y1(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(ot(Ne,u),f){case"forwards":for(o=s.child,f=null;o!==null;)i=o.alternate,i!==null&&hh(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),Rm(s,!1,f,o,g);break;case"backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(i=f.alternate,i!==null&&hh(i)===null){s.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}Rm(s,!0,o,null,g);break;case"together":Rm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function er(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),qr|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(Ol(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=$i(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=$i(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function Cm(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Qc(i)))}function F4(i,s,o){switch(s.tag){case 3:te(s,s.stateNode.containerInfo),Vr(s,De,i.memoizedState.cache),Vl();break;case 27:case 5:Ar(s);break;case 4:te(s,s.stateNode.containerInfo);break;case 10:Vr(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Ur(s),s.flags|=128,null):(o&s.child.childLanes)!==0?g1(i,s,o):(Ur(s),i=er(i,s,o),i!==null?i.sibling:null);Ur(s);break;case 19:var f=(i.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Ol(i,s,o,!1),u=(o&s.childLanes)!==0),f){if(u)return v1(i,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ot(Ne,Ne.current),u)break;return null;case 22:case 23:return s.lanes=0,h1(i,s,o);case 24:Vr(s,De,i.memoizedState.cache)}return er(i,s,o)}function _1(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)Ue=!0;else{if(!Cm(i,o)&&(s.flags&128)===0)return Ue=!1,F4(i,s,o);Ue=(i.flags&131072)!==0}else Ue=!1,Ft&&(s.flags&1048576)!==0&&Q0(s,$c,s.index);switch(s.lanes=0,s.tag){case 16:t:{i=s.pendingProps;var u=s.elementType,f=u._init;if(u=f(u._payload),s.type=u,typeof u=="function")Ld(u)?(i=la(u,i),s.tag=1,s=m1(null,s,u,i,o)):(s.tag=0,s=Em(null,s,u,i,o));else{if(u!=null){if(f=u.$$typeof,f===st){s.tag=11,s=l1(null,s,u,i,o);break t}else if(f===V){s.tag=14,s=u1(null,s,u,i,o);break t}}throw s=Ee(u)||u,Error(r(306,s,""))}}return s;case 0:return Em(i,s,s.type,s.pendingProps,o);case 1:return u=s.type,f=la(u,s.pendingProps),m1(i,s,u,f,o);case 3:t:{if(te(s,s.stateNode.containerInfo),i===null)throw Error(r(387));u=s.pendingProps;var g=s.memoizedState;f=g.element,Wd(i,s),Fl(s,u,null,o);var E=s.memoizedState;if(u=E.cache,Vr(s,De,u),u!==g.cache&&Gd(s,[De],o,!0),Bl(),u=E.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=p1(i,s,u,o);break t}else if(u!==f){f=Ln(Error(r(424)),s),Pl(f),s=p1(i,s,u,o);break t}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(fe=Jn(i.firstChild),hn=s,Ft=!0,na=null,_i=!0,o=Wv(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Vl(),u===f){s=er(i,s,o);break t}qe(i,s,u,o)}s=s.child}return s;case 26:return mh(i,s),i===null?(o=w_(s.type,null,s.pendingProps,null))?s.memoizedState=o:Ft||(o=s.type,i=s.pendingProps,u=Ih(St.current).createElement(o),u[Re]=s,u[be]=i,Ke(u,o,i),ge(u),s.stateNode=u):s.memoizedState=w_(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Ar(s),i===null&&Ft&&(u=s.stateNode=T_(s.type,s.pendingProps,St.current),hn=s,_i=!0,f=fe,$r(s.type)?(lp=f,fe=Jn(u.firstChild)):fe=f),qe(i,s,s.pendingProps.children,o),mh(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Ft&&((f=u=fe)&&(u=gx(u,s.type,s.pendingProps,_i),u!==null?(s.stateNode=u,hn=s,fe=Jn(u.firstChild),_i=!1,f=!0):f=!1),f||ia(s)),Ar(s),f=s.type,g=s.pendingProps,E=i!==null?i.memoizedProps:null,u=g.children,rp(f,g)?u=null:E!==null&&rp(f,E)&&(s.flags|=32),s.memoizedState!==null&&(f=im(i,s,P4,null,null,o),cu._currentValue=f),mh(i,s),qe(i,s,u,o),s.child;case 6:return i===null&&Ft&&((i=o=fe)&&(o=yx(o,s.pendingProps,_i),o!==null?(s.stateNode=o,hn=s,fe=null,i=!0):i=!1),i||ia(s)),null;case 13:return g1(i,s,o);case 4:return te(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=lo(s,null,u,o):qe(i,s,u,o),s.child;case 11:return l1(i,s,s.type,s.pendingProps,o);case 7:return qe(i,s,s.pendingProps,o),s.child;case 8:return qe(i,s,s.pendingProps.children,o),s.child;case 12:return qe(i,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,Vr(s,s.type,u.value),qe(i,s,u.children,o),s.child;case 9:return f=s.type._context,u=s.pendingProps.children,sa(s),f=Je(f),u=u(f),s.flags|=1,qe(i,s,u,o),s.child;case 14:return u1(i,s,s.type,s.pendingProps,o);case 15:return c1(i,s,s.type,s.pendingProps,o);case 19:return v1(i,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},i===null?(o=ph(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=$i(i.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return h1(i,s,o);case 24:return sa(s),u=Je(De),i===null?(f=$d(),f===null&&(f=ee,g=Kd(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),s.memoizedState={parent:u,cache:f},Xd(s),Vr(s,De,f)):((i.lanes&o)!==0&&(Wd(i,s),Fl(s,null,null,o),Bl()),f=i.memoizedState,g=s.memoizedState,f.parent!==u?(f={parent:u,cache:u},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Vr(s,De,u)):(u=g.cache,Vr(s,De,u),u!==f.cache&&Gd(s,[De],o,!0))),qe(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function nr(i){i.flags|=4}function T1(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!C_(s)){if(s=Bn.current,s!==null&&((jt&4194048)===jt?Ti!==null:(jt&62914560)!==jt&&(jt&536870912)===0||s!==Ti))throw jl=Qd,iv;i.flags|=8192}}function gh(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?fl():536870912,i.lanes|=s,fo|=s)}function Ql(i,s){if(!Ft)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function oe(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(s)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=u,i.childLanes=o,s}function H4(i,s,o){var u=s.pendingProps;switch(Bd(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(s),null;case 1:return oe(s),null;case 3:return o=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Zi(De),oi(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Ml(s)?nr(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Z0())),oe(s),null;case 26:return o=s.memoizedState,i===null?(nr(s),o!==null?(oe(s),T1(s,o)):(oe(s),s.flags&=-16777217)):o?o!==i.memoizedState?(nr(s),oe(s),T1(s,o)):(oe(s),s.flags&=-16777217):(i.memoizedProps!==u&&nr(s),oe(s),s.flags&=-16777217),null;case 27:Oi(s),o=St.current;var f=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==u&&nr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return oe(s),null}i=gt.current,Ml(s)?X0(s):(i=T_(f,u,o),s.stateNode=i,nr(s))}return oe(s),null;case 5:if(Oi(s),o=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&nr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return oe(s),null}if(i=gt.current,Ml(s))X0(s);else{switch(f=Ih(St.current),i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}i[Re]=s,i[be]=u;t:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break t;for(;f.sibling===null;){if(f.return===null||f.return===s)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=i;t:switch(Ke(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&nr(s)}}return oe(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&nr(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=St.current,Ml(s)){if(i=s.stateNode,o=s.memoizedProps,u=null,f=hn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}i[Re]=s,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||d_(i.nodeValue,o)),i||ia(s)}else i=Ih(i).createTextNode(u),i[Re]=s,s.stateNode=i}return oe(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=Ml(s),u!==null&&u.dehydrated!==null){if(i===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Re]=s}else Vl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;oe(s),f=!1}else f=Z0(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(tr(s),s):(tr(s),null)}if(tr(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=s.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)}return o!==i&&o&&(s.child.flags|=8192),gh(s,s.updateQueue),oe(s),null;case 4:return oi(),i===null&&Jm(s.stateNode.containerInfo),oe(s),null;case 10:return Zi(s.type),oe(s),null;case 19:if(ct(Ne),f=s.memoizedState,f===null)return oe(s),null;if(u=(s.flags&128)!==0,g=f.rendering,g===null)if(u)Ql(f,!1);else{if(de!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=hh(i),g!==null){for(s.flags|=128,Ql(f,!1),i=g.updateQueue,s.updateQueue=i,gh(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)$0(o,i),o=o.sibling;return ot(Ne,Ne.current&1|2),s.child}i=i.sibling}f.tail!==null&&Nn()>_h&&(s.flags|=128,u=!0,Ql(f,!1),s.lanes=4194304)}else{if(!u)if(i=hh(g),i!==null){if(s.flags|=128,u=!0,i=i.updateQueue,s.updateQueue=i,gh(s,i),Ql(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Ft)return oe(s),null}else 2*Nn()-f.renderingStartTime>_h&&o!==536870912&&(s.flags|=128,u=!0,Ql(f,!1),s.lanes=4194304);f.isBackwards?(g.sibling=s.child,s.child=g):(i=f.last,i!==null?i.sibling=g:s.child=g,f.last=g)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=Nn(),s.sibling=null,i=Ne.current,ot(Ne,u?i&1|2:i&1),s):(oe(s),null);case 22:case 23:return tr(s),em(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(oe(s),s.subtreeFlags&6&&(s.flags|=8192)):oe(s),o=s.updateQueue,o!==null&&gh(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),i!==null&&ct(aa),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Zi(De),oe(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function q4(i,s){switch(Bd(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Zi(De),oi(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Oi(s),null;case 13:if(tr(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Vl()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ct(Ne),null;case 4:return oi(),null;case 10:return Zi(s.type),null;case 22:case 23:return tr(s),em(),i!==null&&ct(aa),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Zi(De),null;case 25:return null;default:return null}}function E1(i,s){switch(Bd(s),s.tag){case 3:Zi(De),oi();break;case 26:case 27:case 5:Oi(s);break;case 4:oi();break;case 13:tr(s);break;case 19:ct(Ne);break;case 10:Zi(s.type);break;case 22:case 23:tr(s),em(),i!==null&&ct(aa);break;case 24:Zi(De)}}function Xl(i,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&i)===i){u=void 0;var g=o.create,E=o.inst;u=g(),E.destroy=u}o=o.next}while(o!==f)}}catch(w){Jt(s,s.return,w)}}function zr(i,s,o){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&i)===i){var E=u.inst,w=E.destroy;if(w!==void 0){E.destroy=void 0,f=s;var D=o,K=w;try{K()}catch(Z){Jt(f,D,Z)}}}u=u.next}while(u!==g)}}catch(Z){Jt(s,s.return,Z)}}function b1(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{uv(s,o)}catch(u){Jt(i,i.return,u)}}}function w1(i,s,o){o.props=la(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Jt(i,s,u)}}function Wl(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(f){Jt(i,s,f)}}function Ei(i,s){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){Jt(i,s,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Jt(i,s,f)}else o.current=null}function S1(i){var s=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){Jt(i,i.return,f)}}function Im(i,s,o){try{var u=i.stateNode;hx(u,i.type,o,s),u[be]=s}catch(f){Jt(i,i.return,f)}}function A1(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&$r(i.type)||i.tag===4}function Dm(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||A1(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&$r(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Nm(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Ch));else if(u!==4&&(u===27&&$r(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(Nm(i,s,o),i=i.sibling;i!==null;)Nm(i,s,o),i=i.sibling}function yh(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(u!==4&&(u===27&&$r(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(yh(i,s,o),i=i.sibling;i!==null;)yh(i,s,o),i=i.sibling}function x1(i){var s=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Ke(s,u,o),s[Re]=i,s[be]=o}catch(g){Jt(i,i.return,g)}}var ir=!1,ve=!1,Mm=!1,R1=typeof WeakSet=="function"?WeakSet:Set,je=null;function G4(i,s){if(i=i.containerInfo,np=Oh,i=U0(i),Dd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var E=0,w=-1,D=-1,K=0,Z=0,et=i,$=null;e:for(;;){for(var Q;et!==o||f!==0&&et.nodeType!==3||(w=E+f),et!==g||u!==0&&et.nodeType!==3||(D=E+u),et.nodeType===3&&(E+=et.nodeValue.length),(Q=et.firstChild)!==null;)$=et,et=Q;for(;;){if(et===i)break e;if($===o&&++K===f&&(w=E),$===g&&++Z===u&&(D=E),(Q=et.nextSibling)!==null)break;et=$,$=et.parentNode}et=Q}o=w===-1||D===-1?null:{start:w,end:D}}else o=null}o=o||{start:0,end:0}}else o=null;for(ip={focusedElem:i,selectionRange:o},Oh=!1,je=s;je!==null;)if(s=je,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,je=i;else for(;je!==null;){switch(s=je,g=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=s,f=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var Et=la(o.type,f,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(Et,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(vt){Jt(o,o.return,vt)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)ap(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":ap(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,je=i;break}je=s.return}}function C1(i,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Br(i,o),u&4&&Xl(5,o);break;case 1:if(Br(i,o),u&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(E){Jt(o,o.return,E)}else{var f=la(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(f,s,i.__reactInternalSnapshotBeforeUpdate)}catch(E){Jt(o,o.return,E)}}u&64&&b1(o),u&512&&Wl(o,o.return);break;case 3:if(Br(i,o),u&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{uv(i,s)}catch(E){Jt(o,o.return,E)}}break;case 27:s===null&&u&4&&x1(o);case 26:case 5:Br(i,o),s===null&&u&4&&S1(o),u&512&&Wl(o,o.return);break;case 12:Br(i,o);break;case 13:Br(i,o),u&4&&N1(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=tx.bind(null,o),vx(i,o))));break;case 22:if(u=o.memoizedState!==null||ir,!u){s=s!==null&&s.memoizedState!==null||ve,f=ir;var g=ve;ir=u,(ve=s)&&!g?Fr(i,o,(o.subtreeFlags&8772)!==0):Br(i,o),ir=f,ve=g}break;case 30:break;default:Br(i,o)}}function I1(i){var s=i.alternate;s!==null&&(i.alternate=null,I1(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Ir(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ie=null,mn=!1;function rr(i,s,o){for(o=o.child;o!==null;)D1(i,s,o),o=o.sibling}function D1(i,s,o){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(he,o)}catch{}switch(o.tag){case 26:ve||Ei(o,s),rr(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ve||Ei(o,s);var u=ie,f=mn;$r(o.type)&&(ie=o.stateNode,mn=!1),rr(i,s,o),au(o.stateNode),ie=u,mn=f;break;case 5:ve||Ei(o,s);case 6:if(u=ie,f=mn,ie=null,rr(i,s,o),ie=u,mn=f,ie!==null)if(mn)try{(ie.nodeType===9?ie.body:ie.nodeName==="HTML"?ie.ownerDocument.body:ie).removeChild(o.stateNode)}catch(g){Jt(o,s,g)}else try{ie.removeChild(o.stateNode)}catch(g){Jt(o,s,g)}break;case 18:ie!==null&&(mn?(i=ie,v_(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),mu(i)):v_(ie,o.stateNode));break;case 4:u=ie,f=mn,ie=o.stateNode.containerInfo,mn=!0,rr(i,s,o),ie=u,mn=f;break;case 0:case 11:case 14:case 15:ve||zr(2,o,s),ve||zr(4,o,s),rr(i,s,o);break;case 1:ve||(Ei(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&w1(o,s,u)),rr(i,s,o);break;case 21:rr(i,s,o);break;case 22:ve=(u=ve)||o.memoizedState!==null,rr(i,s,o),ve=u;break;default:rr(i,s,o)}}function N1(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{mu(i)}catch(o){Jt(s,s.return,o)}}function K4(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new R1),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new R1),s;default:throw Error(r(435,i.tag))}}function Vm(i,s){var o=K4(i);s.forEach(function(u){var f=ex.bind(null,i,u);o.has(u)||(o.add(u),u.then(f,f))})}function Sn(i,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],g=i,E=s,w=E;t:for(;w!==null;){switch(w.tag){case 27:if($r(w.type)){ie=w.stateNode,mn=!1;break t}break;case 5:ie=w.stateNode,mn=!1;break t;case 3:case 4:ie=w.stateNode.containerInfo,mn=!0;break t}w=w.return}if(ie===null)throw Error(r(160));D1(g,E,f),ie=null,mn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)M1(s,i),s=s.sibling}var Zn=null;function M1(i,s){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Sn(s,i),An(i),u&4&&(zr(3,i,i.return),Xl(3,i),zr(5,i,i.return));break;case 1:Sn(s,i),An(i),u&512&&(ve||o===null||Ei(o,o.return)),u&64&&ir&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=Zn;if(Sn(s,i),An(i),u&512&&(ve||o===null||Ei(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Ls]||g[Re]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),Ke(g,u,o),g[Re]=i,ge(g),u=g;break t;case"link":var E=x_("link","href",f).get(u+(o.href||""));if(E){for(var w=0;w<E.length;w++)if(g=E[w],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(w,1);break e}}g=f.createElement(u),Ke(g,u,o),f.head.appendChild(g);break;case"meta":if(E=x_("meta","content",f).get(u+(o.content||""))){for(w=0;w<E.length;w++)if(g=E[w],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(w,1);break e}}g=f.createElement(u),Ke(g,u,o),f.head.appendChild(g);break;default:throw Error(r(468,u))}g[Re]=i,ge(g),u=g}i.stateNode=u}else R_(f,i.type,i.stateNode);else i.stateNode=A_(f,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?R_(f,i.type,i.stateNode):A_(f,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Im(i,i.memoizedProps,o.memoizedProps)}break;case 27:Sn(s,i),An(i),u&512&&(ve||o===null||Ei(o,o.return)),o!==null&&u&4&&Im(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Sn(s,i),An(i),u&512&&(ve||o===null||Ei(o,o.return)),i.flags&32){f=i.stateNode;try{Vn(f,"")}catch(Q){Jt(i,i.return,Q)}}u&4&&i.stateNode!=null&&(f=i.memoizedProps,Im(i,f,o!==null?o.memoizedProps:f)),u&1024&&(Mm=!0);break;case 6:if(Sn(s,i),An(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(Q){Jt(i,i.return,Q)}}break;case 3:if(Mh=null,f=Zn,Zn=Dh(s.containerInfo),Sn(s,i),Zn=f,An(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{mu(s.containerInfo)}catch(Q){Jt(i,i.return,Q)}Mm&&(Mm=!1,V1(i));break;case 4:u=Zn,Zn=Dh(i.stateNode.containerInfo),Sn(s,i),An(i),Zn=u;break;case 12:Sn(s,i),An(i);break;case 13:Sn(s,i),An(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(jm=Nn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Vm(i,u)));break;case 22:f=i.memoizedState!==null;var D=o!==null&&o.memoizedState!==null,K=ir,Z=ve;if(ir=K||f,ve=Z||D,Sn(s,i),ve=Z,ir=K,An(i),u&8192)t:for(s=i.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(o===null||D||ir||ve||ua(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){D=o=s;try{if(g=D.stateNode,f)E=g.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{w=D.stateNode;var et=D.memoizedProps.style,$=et!=null&&et.hasOwnProperty("display")?et.display:null;w.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(Q){Jt(D,D.return,Q)}}}else if(s.tag===6){if(o===null){D=s;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(Q){Jt(D,D.return,Q)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Vm(i,o))));break;case 19:Sn(s,i),An(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Vm(i,u)));break;case 30:break;case 21:break;default:Sn(s,i),An(i)}}function An(i){var s=i.flags;if(s&2){try{for(var o,u=i.return;u!==null;){if(A1(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var f=o.stateNode,g=Dm(i);yh(i,g,f);break;case 5:var E=o.stateNode;o.flags&32&&(Vn(E,""),o.flags&=-33);var w=Dm(i);yh(i,w,E);break;case 3:case 4:var D=o.stateNode.containerInfo,K=Dm(i);Nm(i,K,D);break;default:throw Error(r(161))}}catch(Z){Jt(i,i.return,Z)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function V1(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;V1(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Br(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)C1(i,s.alternate,s),s=s.sibling}function ua(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:zr(4,s,s.return),ua(s);break;case 1:Ei(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&w1(s,s.return,o),ua(s);break;case 27:au(s.stateNode);case 26:case 5:Ei(s,s.return),ua(s);break;case 22:s.memoizedState===null&&ua(s);break;case 30:ua(s);break;default:ua(s)}i=i.sibling}}function Fr(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,f=i,g=s,E=g.flags;switch(g.tag){case 0:case 11:case 15:Fr(f,g,o),Xl(4,g);break;case 1:if(Fr(f,g,o),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){Jt(u,u.return,K)}if(u=g,f=u.updateQueue,f!==null){var w=u.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)lv(D[f],w)}catch(K){Jt(u,u.return,K)}}o&&E&64&&b1(g),Wl(g,g.return);break;case 27:x1(g);case 26:case 5:Fr(f,g,o),o&&u===null&&E&4&&S1(g),Wl(g,g.return);break;case 12:Fr(f,g,o);break;case 13:Fr(f,g,o),o&&E&4&&N1(f,g);break;case 22:g.memoizedState===null&&Fr(f,g,o),Wl(g,g.return);break;case 30:break;default:Fr(f,g,o)}s=s.sibling}}function Pm(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&kl(o))}function Om(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&kl(i))}function bi(i,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)P1(i,s,o,u),s=s.sibling}function P1(i,s,o,u){var f=s.flags;switch(s.tag){case 0:case 11:case 15:bi(i,s,o,u),f&2048&&Xl(9,s);break;case 1:bi(i,s,o,u);break;case 3:bi(i,s,o,u),f&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&kl(i)));break;case 12:if(f&2048){bi(i,s,o,u),i=s.stateNode;try{var g=s.memoizedProps,E=g.id,w=g.onPostCommit;typeof w=="function"&&w(E,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(D){Jt(s,s.return,D)}}else bi(i,s,o,u);break;case 13:bi(i,s,o,u);break;case 23:break;case 22:g=s.stateNode,E=s.alternate,s.memoizedState!==null?g._visibility&2?bi(i,s,o,u):Zl(i,s):g._visibility&2?bi(i,s,o,u):(g._visibility|=2,uo(i,s,o,u,(s.subtreeFlags&10256)!==0)),f&2048&&Pm(E,s);break;case 24:bi(i,s,o,u),f&2048&&Om(s.alternate,s);break;default:bi(i,s,o,u)}}function uo(i,s,o,u,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=i,E=s,w=o,D=u,K=E.flags;switch(E.tag){case 0:case 11:case 15:uo(g,E,w,D,f),Xl(8,E);break;case 23:break;case 22:var Z=E.stateNode;E.memoizedState!==null?Z._visibility&2?uo(g,E,w,D,f):Zl(g,E):(Z._visibility|=2,uo(g,E,w,D,f)),f&&K&2048&&Pm(E.alternate,E);break;case 24:uo(g,E,w,D,f),f&&K&2048&&Om(E.alternate,E);break;default:uo(g,E,w,D,f)}s=s.sibling}}function Zl(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,u=s,f=u.flags;switch(u.tag){case 22:Zl(o,u),f&2048&&Pm(u.alternate,u);break;case 24:Zl(o,u),f&2048&&Om(u.alternate,u);break;default:Zl(o,u)}s=s.sibling}}var Jl=8192;function co(i){if(i.subtreeFlags&Jl)for(i=i.child;i!==null;)O1(i),i=i.sibling}function O1(i){switch(i.tag){case 26:co(i),i.flags&Jl&&i.memoizedState!==null&&Nx(Zn,i.memoizedState,i.memoizedProps);break;case 5:co(i);break;case 3:case 4:var s=Zn;Zn=Dh(i.stateNode.containerInfo),co(i),Zn=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=Jl,Jl=16777216,co(i),Jl=s):co(i));break;default:co(i)}}function k1(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function tu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];je=u,U1(u,i)}k1(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)L1(i),i=i.sibling}function L1(i){switch(i.tag){case 0:case 11:case 15:tu(i),i.flags&2048&&zr(9,i,i.return);break;case 3:tu(i);break;case 12:tu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,vh(i)):tu(i);break;default:tu(i)}}function vh(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];je=u,U1(u,i)}k1(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:zr(8,s,s.return),vh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,vh(s));break;default:vh(s)}i=i.sibling}}function U1(i,s){for(;je!==null;){var o=je;switch(o.tag){case 0:case 11:case 15:zr(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:kl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,je=u;else t:for(o=i;je!==null;){u=je;var f=u.sibling,g=u.return;if(I1(u),u===o){je=null;break t}if(f!==null){f.return=g,je=f;break t}je=g}}}var Y4={getCacheForType:function(i){var s=Je(De),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o}},$4=typeof WeakMap=="function"?WeakMap:Map,Yt=0,ee=null,Mt=null,jt=0,$t=0,xn=null,Hr=!1,ho=!1,km=!1,sr=0,de=0,qr=0,ca=0,Lm=0,Fn=0,fo=0,eu=null,pn=null,Um=!1,jm=0,_h=1/0,Th=null,Gr=null,Ge=0,Kr=null,mo=null,po=0,zm=0,Bm=null,j1=null,nu=0,Fm=null;function Rn(){if((Yt&2)!==0&&jt!==0)return jt&-jt;if(W.T!==null){var i=eo;return i!==0?i:Qm()}return Rr()}function z1(){Fn===0&&(Fn=(jt&536870912)===0||Ft?hl():536870912);var i=Bn.current;return i!==null&&(i.flags|=32),Fn}function Cn(i,s,o){(i===ee&&($t===2||$t===9)||i.cancelPendingCommit!==null)&&(go(i,0),Yr(i,jt,Fn,!1)),Li(i,o),((Yt&2)===0||i!==ee)&&(i===ee&&((Yt&2)===0&&(ca|=o),de===4&&Yr(i,jt,Fn,!1)),wi(i))}function B1(i,s,o){if((Yt&6)!==0)throw Error(r(327));var u=!o&&(s&124)===0&&(s&i.expiredLanes)===0||ks(i,s),f=u?W4(i,s):Gm(i,s,!0),g=u;do{if(f===0){ho&&!u&&Yr(i,s,0,!1);break}else{if(o=i.current.alternate,g&&!Q4(o)){f=Gm(i,s,!1),g=!1;continue}if(f===2){if(g=s,i.errorRecoveryDisabledLanes&g)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;t:{var w=i;f=eu;var D=w.current.memoizedState.isDehydrated;if(D&&(go(w,E).flags|=256),E=Gm(w,E,!1),E!==2){if(km&&!D){w.errorRecoveryDisabledLanes|=g,ca|=g,f=4;break t}g=pn,pn=f,g!==null&&(pn===null?pn=g:pn.push.apply(pn,g))}f=E}if(g=!1,f!==2)continue}}if(f===1){go(i,0),Yr(i,s,0,!0);break}t:{switch(u=i,g=f,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Yr(u,s,Fn,!Hr);break t;case 2:pn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=jm+300-Nn(),10<f)){if(Yr(u,s,Fn,!Hr),Ma(u,0,!0)!==0)break t;u.timeoutHandle=g_(F1.bind(null,u,o,pn,Th,Um,s,Fn,ca,fo,Hr,g,2,-0,0),f);break t}F1(u,o,pn,Th,Um,s,Fn,ca,fo,Hr,g,0,-0,0)}}break}while(!0);wi(i)}function F1(i,s,o,u,f,g,E,w,D,K,Z,et,$,Q){if(i.timeoutHandle=-1,et=s.subtreeFlags,(et&8192||(et&16785408)===16785408)&&(uu={stylesheets:null,count:0,unsuspend:Dx},O1(s),et=Mx(),et!==null)){i.cancelPendingCommit=et(Q1.bind(null,i,s,g,o,u,f,E,w,D,Z,1,$,Q)),Yr(i,g,E,!K);return}Q1(i,s,g,o,u,f,E,w,D)}function Q4(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],g=f.getSnapshot;f=f.value;try{if(!bn(g(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Yr(i,s,o,u){s&=~Lm,s&=~ca,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var f=s;0<f;){var g=31-Ze(f),E=1<<g;u[g]=-1,f&=~E}o!==0&&li(i,o,s)}function Eh(){return(Yt&6)===0?(iu(0),!1):!0}function Hm(){if(Mt!==null){if($t===0)var i=Mt.return;else i=Mt,Wi=ra=null,am(i),oo=null,Yl=0,i=Mt;for(;i!==null;)E1(i.alternate,i),i=i.return;Mt=null}}function go(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,dx(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Hm(),ee=i,Mt=o=$i(i.current,null),jt=s,$t=0,xn=null,Hr=!1,ho=ks(i,s),km=!1,fo=Fn=Lm=ca=qr=de=0,pn=eu=null,Um=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var f=31-Ze(u),g=1<<f;s|=i[f],u&=~g}return sr=s,Hc(),o}function H1(i,s){Ct=null,W.H=lh,s===Ul||s===Zc?(s=av(),$t=3):s===iv?(s=av(),$t=4):$t=s===o1?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,xn=s,Mt===null&&(de=1,dh(i,Ln(s,i.current)))}function q1(){var i=W.H;return W.H=lh,i===null?lh:i}function G1(){var i=W.A;return W.A=Y4,i}function qm(){de=4,Hr||(jt&4194048)!==jt&&Bn.current!==null||(ho=!0),(qr&134217727)===0&&(ca&134217727)===0||ee===null||Yr(ee,jt,Fn,!1)}function Gm(i,s,o){var u=Yt;Yt|=2;var f=q1(),g=G1();(ee!==i||jt!==s)&&(Th=null,go(i,s)),s=!1;var E=de;t:do try{if($t!==0&&Mt!==null){var w=Mt,D=xn;switch($t){case 8:Hm(),E=6;break t;case 3:case 2:case 9:case 6:Bn.current===null&&(s=!0);var K=$t;if($t=0,xn=null,yo(i,w,D,K),o&&ho){E=0;break t}break;default:K=$t,$t=0,xn=null,yo(i,w,D,K)}}X4(),E=de;break}catch(Z){H1(i,Z)}while(!0);return s&&i.shellSuspendCounter++,Wi=ra=null,Yt=u,W.H=f,W.A=g,Mt===null&&(ee=null,jt=0,Hc()),E}function X4(){for(;Mt!==null;)K1(Mt)}function W4(i,s){var o=Yt;Yt|=2;var u=q1(),f=G1();ee!==i||jt!==s?(Th=null,_h=Nn()+500,go(i,s)):ho=ks(i,s);t:do try{if($t!==0&&Mt!==null){s=Mt;var g=xn;e:switch($t){case 1:$t=0,xn=null,yo(i,s,g,1);break;case 2:case 9:if(rv(g)){$t=0,xn=null,Y1(s);break}s=function(){$t!==2&&$t!==9||ee!==i||($t=7),wi(i)},g.then(s,s);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:rv(g)?($t=0,xn=null,Y1(s)):($t=0,xn=null,yo(i,s,g,7));break;case 5:var E=null;switch(Mt.tag){case 26:E=Mt.memoizedState;case 5:case 27:var w=Mt;if(!E||C_(E)){$t=0,xn=null;var D=w.sibling;if(D!==null)Mt=D;else{var K=w.return;K!==null?(Mt=K,bh(K)):Mt=null}break e}}$t=0,xn=null,yo(i,s,g,5);break;case 6:$t=0,xn=null,yo(i,s,g,6);break;case 8:Hm(),de=6;break t;default:throw Error(r(462))}}Z4();break}catch(Z){H1(i,Z)}while(!0);return Wi=ra=null,W.H=u,W.A=f,Yt=o,Mt!==null?0:(ee=null,jt=0,Hc(),de)}function Z4(){for(;Mt!==null&&!ol();)K1(Mt)}function K1(i){var s=_1(i.alternate,i,sr);i.memoizedProps=i.pendingProps,s===null?bh(i):Mt=s}function Y1(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=d1(o,s,s.pendingProps,s.type,void 0,jt);break;case 11:s=d1(o,s,s.pendingProps,s.type.render,s.ref,jt);break;case 5:am(s);default:E1(o,s),s=Mt=$0(s,sr),s=_1(o,s,sr)}i.memoizedProps=i.pendingProps,s===null?bh(i):Mt=s}function yo(i,s,o,u){Wi=ra=null,am(s),oo=null,Yl=0;var f=s.return;try{if(B4(i,f,s,o,jt)){de=1,dh(i,Ln(o,i.current)),Mt=null;return}}catch(g){if(f!==null)throw Mt=f,g;de=1,dh(i,Ln(o,i.current)),Mt=null;return}s.flags&32768?(Ft||u===1?i=!0:ho||(jt&536870912)!==0?i=!1:(Hr=i=!0,(u===2||u===9||u===3||u===6)&&(u=Bn.current,u!==null&&u.tag===13&&(u.flags|=16384))),$1(s,i)):bh(s)}function bh(i){var s=i;do{if((s.flags&32768)!==0){$1(s,Hr);return}i=s.return;var o=H4(s.alternate,s,sr);if(o!==null){Mt=o;return}if(s=s.sibling,s!==null){Mt=s;return}Mt=s=i}while(s!==null);de===0&&(de=5)}function $1(i,s){do{var o=q4(i.alternate,i);if(o!==null){o.flags&=32767,Mt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){Mt=i;return}Mt=i=o}while(i!==null);de=6,Mt=null}function Q1(i,s,o,u,f,g,E,w,D){i.cancelPendingCommit=null;do wh();while(Ge!==0);if((Yt&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=Od,dl(i,o,g,E,w,D),i===ee&&(Mt=ee=null,jt=0),mo=s,Kr=i,po=o,zm=g,Bm=f,j1=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,nx(Ms,function(){return t_(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,f=at.p,at.p=2,E=Yt,Yt|=4;try{G4(i,s,o)}finally{Yt=E,at.p=f,W.T=u}}Ge=1,X1(),W1(),Z1()}}function X1(){if(Ge===1){Ge=0;var i=Kr,s=mo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=W.T,W.T=null;var u=at.p;at.p=2;var f=Yt;Yt|=4;try{M1(s,i);var g=ip,E=U0(i.containerInfo),w=g.focusedElem,D=g.selectionRange;if(E!==w&&w&&w.ownerDocument&&L0(w.ownerDocument.documentElement,w)){if(D!==null&&Dd(w)){var K=D.start,Z=D.end;if(Z===void 0&&(Z=K),"selectionStart"in w)w.selectionStart=K,w.selectionEnd=Math.min(Z,w.value.length);else{var et=w.ownerDocument||document,$=et&&et.defaultView||window;if($.getSelection){var Q=$.getSelection(),Et=w.textContent.length,vt=Math.min(D.start,Et),Zt=D.end===void 0?vt:Math.min(D.end,Et);!Q.extend&&vt>Zt&&(E=Zt,Zt=vt,vt=E);var B=k0(w,vt),j=k0(w,Zt);if(B&&j&&(Q.rangeCount!==1||Q.anchorNode!==B.node||Q.anchorOffset!==B.offset||Q.focusNode!==j.node||Q.focusOffset!==j.offset)){var q=et.createRange();q.setStart(B.node,B.offset),Q.removeAllRanges(),vt>Zt?(Q.addRange(q),Q.extend(j.node,j.offset)):(q.setEnd(j.node,j.offset),Q.addRange(q))}}}}for(et=[],Q=w;Q=Q.parentNode;)Q.nodeType===1&&et.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<et.length;w++){var tt=et[w];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}Oh=!!np,ip=np=null}finally{Yt=f,at.p=u,W.T=o}}i.current=s,Ge=2}}function W1(){if(Ge===2){Ge=0;var i=Kr,s=mo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=W.T,W.T=null;var u=at.p;at.p=2;var f=Yt;Yt|=4;try{C1(i,s.alternate,s)}finally{Yt=f,at.p=u,W.T=o}}Ge=3}}function Z1(){if(Ge===4||Ge===3){Ge=0,vc();var i=Kr,s=mo,o=po,u=j1;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ge=5:(Ge=0,mo=Kr=null,J1(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(Gr=null),Va(o),s=s.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(he,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=W.T,f=at.p,at.p=2,W.T=null;try{for(var g=i.onRecoverableError,E=0;E<u.length;E++){var w=u[E];g(w.value,{componentStack:w.stack})}}finally{W.T=s,at.p=f}}(po&3)!==0&&wh(),wi(i),f=i.pendingLanes,(o&4194090)!==0&&(f&42)!==0?i===Fm?nu++:(nu=0,Fm=i):nu=0,iu(0)}}function J1(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,kl(s)))}function wh(i){return X1(),W1(),Z1(),t_()}function t_(){if(Ge!==5)return!1;var i=Kr,s=zm;zm=0;var o=Va(po),u=W.T,f=at.p;try{at.p=32>o?32:o,W.T=null,o=Bm,Bm=null;var g=Kr,E=po;if(Ge=0,mo=Kr=null,po=0,(Yt&6)!==0)throw Error(r(331));var w=Yt;if(Yt|=4,L1(g.current),P1(g,g.current,E,o),Yt=w,iu(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(he,g)}catch{}return!0}finally{at.p=f,W.T=u,J1(i,s)}}function e_(i,s,o){s=Ln(o,s),s=Tm(i.stateNode,s,2),i=kr(i,s,2),i!==null&&(Li(i,2),wi(i))}function Jt(i,s,o){if(i.tag===3)e_(i,i,o);else for(;s!==null;){if(s.tag===3){e_(s,i,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Gr===null||!Gr.has(u))){i=Ln(o,i),o=s1(2),u=kr(s,o,2),u!==null&&(a1(o,u,s,i),Li(u,2),wi(u));break}}s=s.return}}function Km(i,s,o){var u=i.pingCache;if(u===null){u=i.pingCache=new $4;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(o)||(km=!0,f.add(o),i=J4.bind(null,i,s,o),s.then(i,i))}function J4(i,s,o){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ee===i&&(jt&o)===o&&(de===4||de===3&&(jt&62914560)===jt&&300>Nn()-jm?(Yt&2)===0&&go(i,0):Lm|=o,fo===jt&&(fo=0)),wi(i)}function n_(i,s){s===0&&(s=fl()),i=Wa(i,s),i!==null&&(Li(i,s),wi(i))}function tx(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),n_(i,o)}function ex(i,s){var o=0;switch(i.tag){case 13:var u=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),n_(i,o)}function nx(i,s){return Ds(i,s)}var Sh=null,vo=null,Ym=!1,Ah=!1,$m=!1,ha=0;function wi(i){i!==vo&&i.next===null&&(vo===null?Sh=vo=i:vo=vo.next=i),Ah=!0,Ym||(Ym=!0,rx())}function iu(i,s){if(!$m&&Ah){$m=!0;do for(var o=!1,u=Sh;u!==null;){if(i!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var E=u.suspendedLanes,w=u.pingedLanes;g=(1<<31-Ze(42|i)+1)-1,g&=f&~(E&~w),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,a_(u,g))}else g=jt,g=Ma(u,u===ee?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||ks(u,g)||(o=!0,a_(u,g));u=u.next}while(o);$m=!1}}function ix(){i_()}function i_(){Ah=Ym=!1;var i=0;ha!==0&&(fx()&&(i=ha),ha=0);for(var s=Nn(),o=null,u=Sh;u!==null;){var f=u.next,g=r_(u,s);g===0?(u.next=null,o===null?Sh=f:o.next=f,f===null&&(vo=o)):(o=u,(i!==0||(g&3)!==0)&&(Ah=!0)),u=f}iu(i)}function r_(i,s){for(var o=i.suspendedLanes,u=i.pingedLanes,f=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var E=31-Ze(g),w=1<<E,D=f[E];D===-1?((w&o)===0||(w&u)!==0)&&(f[E]=cl(w,s)):D<=s&&(i.expiredLanes|=w),g&=~w}if(s=ee,o=jt,o=Ma(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===s&&($t===2||$t===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Ns(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||ks(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(u!==null&&Ns(u),Va(o)){case 2:case 8:o=Da;break;case 32:o=Ms;break;case 268435456:o=Na;break;default:o=Ms}return u=s_.bind(null,i),o=Ds(o,u),i.callbackPriority=s,i.callbackNode=o,s}return u!==null&&u!==null&&Ns(u),i.callbackPriority=2,i.callbackNode=null,2}function s_(i,s){if(Ge!==0&&Ge!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(wh()&&i.callbackNode!==o)return null;var u=jt;return u=Ma(i,i===ee?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(B1(i,u,s),r_(i,Nn()),i.callbackNode!=null&&i.callbackNode===o?s_.bind(null,i):null)}function a_(i,s){if(wh())return null;B1(i,s,!0)}function rx(){mx(function(){(Yt&6)!==0?Ds(ll,ix):i_()})}function Qm(){return ha===0&&(ha=hl()),ha}function o_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ja(""+i)}function l_(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function sx(i,s,o,u,f){if(s==="submit"&&o&&o.stateNode===f){var g=o_((f[be]||null).action),E=u.submitter;E&&(s=(s=E[be]||null)?o_(s.formAction):E.getAttribute("formAction"),s!==null&&(g=s,E=null));var w=new za("action","action",null,u,f);i.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ha!==0){var D=E?l_(f,E):new FormData(f);pm(o,{pending:!0,data:D,method:f.method,action:g},null,D)}}else typeof g=="function"&&(w.preventDefault(),D=E?l_(f,E):new FormData(f),pm(o,{pending:!0,data:D,method:f.method,action:g},g,D))},currentTarget:f}]})}}for(var Xm=0;Xm<Pd.length;Xm++){var Wm=Pd[Xm],ax=Wm.toLowerCase(),ox=Wm[0].toUpperCase()+Wm.slice(1);Wn(ax,"on"+ox)}Wn(B0,"onAnimationEnd"),Wn(F0,"onAnimationIteration"),Wn(H0,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(S4,"onTransitionRun"),Wn(A4,"onTransitionStart"),Wn(x4,"onTransitionCancel"),Wn(q0,"onTransitionEnd"),ji("onMouseEnter",["mouseout","mouseover"]),ji("onMouseLeave",["mouseout","mouseover"]),ji("onPointerEnter",["pointerout","pointerover"]),ji("onPointerLeave",["pointerout","pointerover"]),Qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ru));function u_(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],f=u.event;u=u.listeners;t:{var g=void 0;if(s)for(var E=u.length-1;0<=E;E--){var w=u[E],D=w.instance,K=w.currentTarget;if(w=w.listener,D!==g&&f.isPropagationStopped())break t;g=w,f.currentTarget=K;try{g(f)}catch(Z){fh(Z)}f.currentTarget=null,g=D}else for(E=0;E<u.length;E++){if(w=u[E],D=w.instance,K=w.currentTarget,w=w.listener,D!==g&&f.isPropagationStopped())break t;g=w,f.currentTarget=K;try{g(f)}catch(Z){fh(Z)}f.currentTarget=null,g=D}}}}function Vt(i,s){var o=s[pl];o===void 0&&(o=s[pl]=new Set);var u=i+"__bubble";o.has(u)||(c_(s,i,2,!1),o.add(u))}function Zm(i,s,o){var u=0;s&&(u|=4),c_(o,i,u,s)}var xh="_reactListening"+Math.random().toString(36).slice(2);function Jm(i){if(!i[xh]){i[xh]=!0,gl.forEach(function(o){o!=="selectionchange"&&(lx.has(o)||Zm(o,!1,i),Zm(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[xh]||(s[xh]=!0,Zm("selectionchange",!1,s))}}function c_(i,s,o,u){switch(P_(s)){case 2:var f=Ox;break;case 8:f=kx;break;default:f=dp}o=f.bind(null,s,o,i),f=void 0,!On||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?i.addEventListener(s,o,{capture:!0,passive:f}):i.addEventListener(s,o,!0):f!==void 0?i.addEventListener(s,o,{passive:f}):i.addEventListener(s,o,!1)}function tp(i,s,o,u,f){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)t:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var w=u.stateNode.containerInfo;if(w===f)break;if(E===4)for(E=u.return;E!==null;){var D=E.tag;if((D===3||D===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;w!==null;){if(E=Ui(w),E===null)return;if(D=E.tag,D===5||D===6||D===26||D===27){u=g=E;continue t}w=w.parentNode}}u=u.return}Cc(function(){var K=g,Z=Pn(o),et=[];t:{var $=G0.get(i);if($!==void 0){var Q=za,Et=i;switch(i){case"keypress":if(mi(o)===0)break t;case"keydown":case"keyup":Q=Ka;break;case"focusin":Et="focus",Q=Ha;break;case"focusout":Et="blur",Q=Ha;break;case"beforeblur":case"afterblur":Q=Ha;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=kn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=xd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=kc;break;case B0:case F0:case H0:Q=qa;break;case q0:Q=Uc;break;case"scroll":case"scrollend":Q=Ic;break;case"wheel":Q=Ya;break;case"copy":case"cut":case"paste":Q=Ga;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Cl;break;case"toggle":case"beforetoggle":Q=zc}var vt=(s&4)!==0,Zt=!vt&&(i==="scroll"||i==="scrollend"),B=vt?$!==null?$+"Capture":null:$;vt=[];for(var j=K,q;j!==null;){var tt=j;if(q=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||q===null||B===null||(tt=qs(j,B),tt!=null&&vt.push(su(j,tt,q))),Zt)break;j=j.return}0<vt.length&&($=new Q($,Et,null,o,Z),et.push({event:$,listeners:vt}))}}if((s&7)===0){t:{if($=i==="mouseover"||i==="pointerover",Q=i==="mouseout"||i==="pointerout",$&&o!==Fi&&(Et=o.relatedTarget||o.fromElement)&&(Ui(Et)||Et[Mn]))break t;if((Q||$)&&($=Z.window===Z?Z:($=Z.ownerDocument)?$.defaultView||$.parentWindow:window,Q?(Et=o.relatedTarget||o.toElement,Q=K,Et=Et?Ui(Et):null,Et!==null&&(Zt=l(Et),vt=Et.tag,Et!==Zt||vt!==5&&vt!==27&&vt!==6)&&(Et=null)):(Q=null,Et=K),Q!==Et)){if(vt=kn,tt="onMouseLeave",B="onMouseEnter",j="mouse",(i==="pointerout"||i==="pointerover")&&(vt=Cl,tt="onPointerLeave",B="onPointerEnter",j="pointer"),Zt=Q==null?$:ci(Q),q=Et==null?$:ci(Et),$=new vt(tt,j+"leave",Q,o,Z),$.target=Zt,$.relatedTarget=q,tt=null,Ui(Z)===K&&(vt=new vt(B,j+"enter",Et,o,Z),vt.target=q,vt.relatedTarget=Zt,tt=vt),Zt=tt,Q&&Et)e:{for(vt=Q,B=Et,j=0,q=vt;q;q=_o(q))j++;for(q=0,tt=B;tt;tt=_o(tt))q++;for(;0<j-q;)vt=_o(vt),j--;for(;0<q-j;)B=_o(B),q--;for(;j--;){if(vt===B||B!==null&&vt===B.alternate)break e;vt=_o(vt),B=_o(B)}vt=null}else vt=null;Q!==null&&h_(et,$,Q,vt,!1),Et!==null&&Zt!==null&&h_(et,Zt,Et,vt,!0)}}t:{if($=K?ci(K):window,Q=$.nodeName&&$.nodeName.toLowerCase(),Q==="select"||Q==="input"&&$.type==="file")var dt=D0;else if(Ie($))if(N0)dt=E4;else{dt=_4;var Nt=v4}else Q=$.nodeName,!Q||Q.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?K&&El(K.elementType)&&(dt=D0):dt=T4;if(dt&&(dt=dt(i,K))){Yi(et,dt,o,Z);break t}Nt&&Nt(i,$,K),i==="focusout"&&K&&$.type==="number"&&K.memoizedProps.value!=null&&Nr($,"number",$.value)}switch(Nt=K?ci(K):window,i){case"focusin":(Ie(Nt)||Nt.contentEditable==="true")&&($a=Nt,Nd=K,Nl=null);break;case"focusout":Nl=Nd=$a=null;break;case"mousedown":Md=!0;break;case"contextmenu":case"mouseup":case"dragend":Md=!1,j0(et,o,Z);break;case"selectionchange":if(w4)break;case"keydown":case"keyup":j0(et,o,Z)}var mt;if(yi)t:{switch(i){case"compositionstart":var Tt="onCompositionStart";break t;case"compositionend":Tt="onCompositionEnd";break t;case"compositionupdate":Tt="onCompositionUpdate";break t}Tt=void 0}else Lt?X(i,o)&&(Tt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Tt="onCompositionStart");Tt&&(T&&o.locale!=="ko"&&(Lt||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&Lt&&(mt=wl()):(di=Z,Mr="value"in di?di.value:di.textContent,Lt=!0)),Nt=Rh(K,Tt),0<Nt.length&&(Tt=new xl(Tt,i,null,o,Z),et.push({event:Tt,listeners:Nt}),mt?Tt.data=mt:(mt=ut(o),mt!==null&&(Tt.data=mt)))),(mt=v?Ce(i,o):Ut(i,o))&&(Tt=Rh(K,"onBeforeInput"),0<Tt.length&&(Nt=new xl("onBeforeInput","beforeinput",null,o,Z),et.push({event:Nt,listeners:Tt}),Nt.data=mt)),sx(et,i,K,o,Z)}u_(et,s)})}function su(i,s,o){return{instance:i,listener:s,currentTarget:o}}function Rh(i,s){for(var o=s+"Capture",u=[];i!==null;){var f=i,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=qs(i,o),f!=null&&u.unshift(su(i,f,g)),f=qs(i,s),f!=null&&u.push(su(i,f,g))),i.tag===3)return u;i=i.return}return[]}function _o(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function h_(i,s,o,u,f){for(var g=s._reactName,E=[];o!==null&&o!==u;){var w=o,D=w.alternate,K=w.stateNode;if(w=w.tag,D!==null&&D===u)break;w!==5&&w!==26&&w!==27||K===null||(D=K,f?(K=qs(o,g),K!=null&&E.unshift(su(o,K,D))):f||(K=qs(o,g),K!=null&&E.push(su(o,K,D)))),o=o.return}E.length!==0&&i.push({event:s,listeners:E})}var ux=/\r\n?/g,cx=/\u0000|\uFFFD/g;function f_(i){return(typeof i=="string"?i:""+i).replace(ux,`
`).replace(cx,"")}function d_(i,s){return s=f_(s),f_(i)===s}function Ch(){}function Wt(i,s,o,u,f,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Vn(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Vn(i,""+u);break;case"className":hi(i,"class",u);break;case"tabIndex":hi(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":hi(i,o,u);break;case"style":Tl(i,u,g);break;case"data":if(s!=="object"){hi(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=ja(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&Wt(i,s,"name",f.name,f,null),Wt(i,s,"formEncType",f.formEncType,f,null),Wt(i,s,"formMethod",f.formMethod,f,null),Wt(i,s,"formTarget",f.formTarget,f,null)):(Wt(i,s,"encType",f.encType,f,null),Wt(i,s,"method",f.method,f,null),Wt(i,s,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=ja(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=Ch);break;case"onScroll":u!=null&&Vt("scroll",i);break;case"onScrollEnd":u!=null&&Vt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=ja(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Vt("beforetoggle",i),Vt("toggle",i),Dr(i,"popover",u);break;case"xlinkActuate":Fe(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Fe(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Fe(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Fe(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Fe(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Fe(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Fe(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Fe(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Fe(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Dr(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Sd.get(o)||o,Dr(i,o,u))}}function ep(i,s,o,u,f,g){switch(o){case"style":Tl(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Vn(i,u):(typeof u=="number"||typeof u=="bigint")&&Vn(i,""+u);break;case"onScroll":u!=null&&Vt("scroll",i);break;case"onScrollEnd":u!=null&&Vt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Ch);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pa.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),g=i[be]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(s,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,u,f);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Dr(i,o,u)}}}function Ke(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",i),Vt("load",i);var u=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var E=o[g];if(E!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Wt(i,s,g,E,o,null)}}f&&Wt(i,s,"srcSet",o.srcSet,o,null),u&&Wt(i,s,"src",o.src,o,null);return;case"input":Vt("invalid",i);var w=g=E=f=null,D=null,K=null;for(u in o)if(o.hasOwnProperty(u)){var Z=o[u];if(Z!=null)switch(u){case"name":f=Z;break;case"type":E=Z;break;case"checked":D=Z;break;case"defaultChecked":K=Z;break;case"value":g=Z;break;case"defaultValue":w=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:Wt(i,s,u,Z,o,null)}}Bs(i,g,w,D,K,E,f,!1),Ua(i);return;case"select":Vt("invalid",i),u=E=g=null;for(f in o)if(o.hasOwnProperty(f)&&(w=o[f],w!=null))switch(f){case"value":g=w;break;case"defaultValue":E=w;break;case"multiple":u=w;default:Wt(i,s,f,w,o,null)}s=g,o=E,i.multiple=!!u,s!=null?Bi(i,!!u,s,!1):o!=null&&Bi(i,!!u,o,!0);return;case"textarea":Vt("invalid",i),g=f=u=null;for(E in o)if(o.hasOwnProperty(E)&&(w=o[E],w!=null))switch(E){case"value":u=w;break;case"defaultValue":f=w;break;case"children":g=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:Wt(i,s,E,w,o,null)}Fs(i,u,f,g),Ua(i);return;case"option":for(D in o)if(o.hasOwnProperty(D)&&(u=o[D],u!=null))switch(D){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Wt(i,s,D,u,o,null)}return;case"dialog":Vt("beforetoggle",i),Vt("toggle",i),Vt("cancel",i),Vt("close",i);break;case"iframe":case"object":Vt("load",i);break;case"video":case"audio":for(u=0;u<ru.length;u++)Vt(ru[u],i);break;case"image":Vt("error",i),Vt("load",i);break;case"details":Vt("toggle",i);break;case"embed":case"source":case"link":Vt("error",i),Vt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(u=o[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Wt(i,s,K,u,o,null)}return;default:if(El(s)){for(Z in o)o.hasOwnProperty(Z)&&(u=o[Z],u!==void 0&&ep(i,s,Z,u,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(u=o[w],u!=null&&Wt(i,s,w,u,o,null))}function hx(i,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,E=null,w=null,D=null,K=null,Z=null;for(Q in o){var et=o[Q];if(o.hasOwnProperty(Q)&&et!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":D=et;default:u.hasOwnProperty(Q)||Wt(i,s,Q,null,u,et)}}for(var $ in u){var Q=u[$];if(et=o[$],u.hasOwnProperty($)&&(Q!=null||et!=null))switch($){case"type":g=Q;break;case"name":f=Q;break;case"checked":K=Q;break;case"defaultChecked":Z=Q;break;case"value":E=Q;break;case"defaultValue":w=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:Q!==et&&Wt(i,s,$,Q,u,et)}}En(i,E,w,D,K,Z,g,f);return;case"select":Q=E=w=$=null;for(g in o)if(D=o[g],o.hasOwnProperty(g)&&D!=null)switch(g){case"value":break;case"multiple":Q=D;default:u.hasOwnProperty(g)||Wt(i,s,g,null,u,D)}for(f in u)if(g=u[f],D=o[f],u.hasOwnProperty(f)&&(g!=null||D!=null))switch(f){case"value":$=g;break;case"defaultValue":w=g;break;case"multiple":E=g;default:g!==D&&Wt(i,s,f,g,u,D)}s=w,o=E,u=Q,$!=null?Bi(i,!!o,$,!1):!!u!=!!o&&(s!=null?Bi(i,!!o,s,!0):Bi(i,!!o,o?[]:"",!1));return;case"textarea":Q=$=null;for(w in o)if(f=o[w],o.hasOwnProperty(w)&&f!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Wt(i,s,w,null,u,f)}for(E in u)if(f=u[E],g=o[E],u.hasOwnProperty(E)&&(f!=null||g!=null))switch(E){case"value":$=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==g&&Wt(i,s,E,f,u,g)}Qt(i,$,Q);return;case"option":for(var Et in o)if($=o[Et],o.hasOwnProperty(Et)&&$!=null&&!u.hasOwnProperty(Et))switch(Et){case"selected":i.selected=!1;break;default:Wt(i,s,Et,null,u,$)}for(D in u)if($=u[D],Q=o[D],u.hasOwnProperty(D)&&$!==Q&&($!=null||Q!=null))switch(D){case"selected":i.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:Wt(i,s,D,$,u,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in o)$=o[vt],o.hasOwnProperty(vt)&&$!=null&&!u.hasOwnProperty(vt)&&Wt(i,s,vt,null,u,$);for(K in u)if($=u[K],Q=o[K],u.hasOwnProperty(K)&&$!==Q&&($!=null||Q!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,s));break;default:Wt(i,s,K,$,u,Q)}return;default:if(El(s)){for(var Zt in o)$=o[Zt],o.hasOwnProperty(Zt)&&$!==void 0&&!u.hasOwnProperty(Zt)&&ep(i,s,Zt,void 0,u,$);for(Z in u)$=u[Z],Q=o[Z],!u.hasOwnProperty(Z)||$===Q||$===void 0&&Q===void 0||ep(i,s,Z,$,u,Q);return}}for(var B in o)$=o[B],o.hasOwnProperty(B)&&$!=null&&!u.hasOwnProperty(B)&&Wt(i,s,B,null,u,$);for(et in u)$=u[et],Q=o[et],!u.hasOwnProperty(et)||$===Q||$==null&&Q==null||Wt(i,s,et,$,u,Q)}var np=null,ip=null;function Ih(i){return i.nodeType===9?i:i.ownerDocument}function m_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function p_(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function rp(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var sp=null;function fx(){var i=window.event;return i&&i.type==="popstate"?i===sp?!1:(sp=i,!0):(sp=null,!1)}var g_=typeof setTimeout=="function"?setTimeout:void 0,dx=typeof clearTimeout=="function"?clearTimeout:void 0,y_=typeof Promise=="function"?Promise:void 0,mx=typeof queueMicrotask=="function"?queueMicrotask:typeof y_<"u"?function(i){return y_.resolve(null).then(i).catch(px)}:g_;function px(i){setTimeout(function(){throw i})}function $r(i){return i==="head"}function v_(i,s){var o=s,u=0,f=0;do{var g=o.nextSibling;if(i.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var E=i.ownerDocument;if(o&1&&au(E.documentElement),o&2&&au(E.body),o&4)for(o=E.head,au(o),E=o.firstChild;E;){var w=E.nextSibling,D=E.nodeName;E[Ls]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=w}}if(f===0){i.removeChild(g),mu(s);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);mu(s)}function ap(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":ap(o),Ir(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function gx(i,s,o,u){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Ls])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Jn(i.nextSibling),i===null)break}return null}function yx(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Jn(i.nextSibling),i===null))return null;return i}function op(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function vx(i,s){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Jn(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var lp=null;function __(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return i;s--}else o==="/$"&&s++}i=i.previousSibling}return null}function T_(i,s,o){switch(s=Ih(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function au(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Ir(i)}var Hn=new Map,E_=new Set;function Dh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ar=at.d;at.d={f:_x,r:Tx,D:Ex,C:bx,L:wx,m:Sx,X:xx,S:Ax,M:Rx};function _x(){var i=ar.f(),s=Eh();return i||s}function Tx(i){var s=ui(i);s!==null&&s.tag===5&&s.type==="form"?Bv(s):ar.r(i)}var To=typeof document>"u"?null:document;function b_(i,s,o){var u=To;if(u&&typeof s=="string"&&s){var f=we(s);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),E_.has(f)||(E_.add(f),i={rel:i,crossOrigin:o,href:s},u.querySelector(f)===null&&(s=u.createElement("link"),Ke(s,"link",i),ge(s),u.head.appendChild(s)))}}function Ex(i){ar.D(i),b_("dns-prefetch",i,null)}function bx(i,s){ar.C(i,s),b_("preconnect",i,s)}function wx(i,s,o){ar.L(i,s,o);var u=To;if(u&&i&&s){var f='link[rel="preload"][as="'+we(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+we(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+we(o.imageSizes)+'"]')):f+='[href="'+we(i)+'"]';var g=f;switch(s){case"style":g=Eo(i);break;case"script":g=bo(i)}Hn.has(g)||(i=y({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),Hn.set(g,i),u.querySelector(f)!==null||s==="style"&&u.querySelector(ou(g))||s==="script"&&u.querySelector(lu(g))||(s=u.createElement("link"),Ke(s,"link",i),ge(s),u.head.appendChild(s)))}}function Sx(i,s){ar.m(i,s);var o=To;if(o&&i){var u=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+we(u)+'"][href="'+we(i)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=bo(i)}if(!Hn.has(g)&&(i=y({rel:"modulepreload",href:i},s),Hn.set(g,i),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(lu(g)))return}u=o.createElement("link"),Ke(u,"link",i),ge(u),o.head.appendChild(u)}}}function Ax(i,s,o){ar.S(i,s,o);var u=To;if(u&&i){var f=ln(u).hoistableStyles,g=Eo(i);s=s||"default";var E=f.get(g);if(!E){var w={loading:0,preload:null};if(E=u.querySelector(ou(g)))w.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":s},o),(o=Hn.get(g))&&up(i,o);var D=E=u.createElement("link");ge(D),Ke(D,"link",i),D._p=new Promise(function(K,Z){D.onload=K,D.onerror=Z}),D.addEventListener("load",function(){w.loading|=1}),D.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Nh(E,s,u)}E={type:"stylesheet",instance:E,count:1,state:w},f.set(g,E)}}}function xx(i,s){ar.X(i,s);var o=To;if(o&&i){var u=ln(o).hoistableScripts,f=bo(i),g=u.get(f);g||(g=o.querySelector(lu(f)),g||(i=y({src:i,async:!0},s),(s=Hn.get(f))&&cp(i,s),g=o.createElement("script"),ge(g),Ke(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function Rx(i,s){ar.M(i,s);var o=To;if(o&&i){var u=ln(o).hoistableScripts,f=bo(i),g=u.get(f);g||(g=o.querySelector(lu(f)),g||(i=y({src:i,async:!0,type:"module"},s),(s=Hn.get(f))&&cp(i,s),g=o.createElement("script"),ge(g),Ke(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function w_(i,s,o,u){var f=(f=St.current)?Dh(f):null;if(!f)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Eo(o.href),o=ln(f).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Eo(o.href);var g=ln(f).hoistableStyles,E=g.get(i);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,E),(g=f.querySelector(ou(i)))&&!g._p&&(E.instance=g,E.state.loading=5),Hn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Hn.set(i,o),g||Cx(f,i,o,E.state))),s&&u===null)throw Error(r(528,""));return E}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=bo(o),o=ln(f).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Eo(i){return'href="'+we(i)+'"'}function ou(i){return'link[rel="stylesheet"]['+i+"]"}function S_(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function Cx(i,s,o,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Ke(s,"link",o),ge(s),i.head.appendChild(s))}function bo(i){return'[src="'+we(i)+'"]'}function lu(i){return"script[async]"+i}function A_(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+we(o.href)+'"]');if(u)return s.instance=u,ge(u),u;var f=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),ge(u),Ke(u,"style",f),Nh(u,o.precedence,i),s.instance=u;case"stylesheet":f=Eo(o.href);var g=i.querySelector(ou(f));if(g)return s.state.loading|=4,s.instance=g,ge(g),g;u=S_(o),(f=Hn.get(f))&&up(u,f),g=(i.ownerDocument||i).createElement("link"),ge(g);var E=g;return E._p=new Promise(function(w,D){E.onload=w,E.onerror=D}),Ke(g,"link",u),s.state.loading|=4,Nh(g,o.precedence,i),s.instance=g;case"script":return g=bo(o.src),(f=i.querySelector(lu(g)))?(s.instance=f,ge(f),f):(u=o,(f=Hn.get(g))&&(u=y({},o),cp(u,f)),i=i.ownerDocument||i,f=i.createElement("script"),ge(f),Ke(f,"link",u),i.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Nh(u,o.precedence,i));return s.instance}function Nh(i,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,E=0;E<u.length;E++){var w=u[E];if(w.dataset.precedence===s)g=w;else if(g!==f)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function up(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function cp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Mh=null;function x_(i,s,o){if(Mh===null){var u=new Map,f=Mh=new Map;f.set(o,u)}else f=Mh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var g=o[f];if(!(g[Ls]||g[Re]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(s)||"";E=i+E;var w=u.get(E);w?w.push(g):u.set(E,[g])}}return u}function R_(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function Ix(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function C_(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var uu=null;function Dx(){}function Nx(i,s,o){if(uu===null)throw Error(r(475));var u=uu;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=Eo(o.href),g=i.querySelector(ou(f));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=Vh.bind(u),i.then(u,u)),s.state.loading|=4,s.instance=g,ge(g);return}g=i.ownerDocument||i,o=S_(o),(f=Hn.get(f))&&up(o,f),g=g.createElement("link"),ge(g);var E=g;E._p=new Promise(function(w,D){E.onload=w,E.onerror=D}),Ke(g,"link",o),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=Vh.bind(u),i.addEventListener("load",s),i.addEventListener("error",s))}}function Mx(){if(uu===null)throw Error(r(475));var i=uu;return i.stylesheets&&i.count===0&&hp(i,i.stylesheets),0<i.count?function(s){var o=setTimeout(function(){if(i.stylesheets&&hp(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Vh(){if(this.count--,this.count===0){if(this.stylesheets)hp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Ph=null;function hp(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Ph=new Map,s.forEach(Vx,i),Ph=null,Vh.call(i))}function Vx(i,s){if(!(s.state.loading&4)){var o=Ph.get(i);if(o)var u=o.get(null);else{o=new Map,Ph.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var E=f[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}f=s.instance,E=f.getAttribute("data-precedence"),g=o.get(E)||u,g===u&&o.set(null,f),o.set(E,f),this.count++,u=Vh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),s.state.loading|=4}}var cu={$$typeof:Y,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function Px(i,s,o,u,f,g,E,w){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ki(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ki(0),this.hiddenUpdates=ki(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function I_(i,s,o,u,f,g,E,w,D,K,Z,et){return i=new Px(i,s,o,E,w,D,K,et),s=1,g===!0&&(s|=24),g=wn(3,null,null,s),i.current=g,g.stateNode=i,s=Kd(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},Xd(g),i}function D_(i){return i?(i=Za,i):Za}function N_(i,s,o,u,f,g){f=D_(f),u.context===null?u.context=f:u.pendingContext=f,u=Or(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=kr(i,u,s),o!==null&&(Cn(o,i,s),zl(o,i,s))}function M_(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function fp(i,s){M_(i,s),(i=i.alternate)&&M_(i,s)}function V_(i){if(i.tag===13){var s=Wa(i,67108864);s!==null&&Cn(s,i,67108864),fp(i,67108864)}}var Oh=!0;function Ox(i,s,o,u){var f=W.T;W.T=null;var g=at.p;try{at.p=2,dp(i,s,o,u)}finally{at.p=g,W.T=f}}function kx(i,s,o,u){var f=W.T;W.T=null;var g=at.p;try{at.p=8,dp(i,s,o,u)}finally{at.p=g,W.T=f}}function dp(i,s,o,u){if(Oh){var f=mp(u);if(f===null)tp(i,s,u,kh,o),O_(i,u);else if(Ux(f,i,s,o,u))u.stopPropagation();else if(O_(i,u),s&4&&-1<Lx.indexOf(i)){for(;f!==null;){var g=ui(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=$n(g.pendingLanes);if(E!==0){var w=g;for(w.pendingLanes|=2,w.entangledLanes|=2;E;){var D=1<<31-Ze(E);w.entanglements[1]|=D,E&=~D}wi(g),(Yt&6)===0&&(_h=Nn()+500,iu(0))}}break;case 13:w=Wa(g,2),w!==null&&Cn(w,g,2),Eh(),fp(g,2)}if(g=mp(u),g===null&&tp(i,s,u,kh,o),g===f)break;f=g}f!==null&&u.stopPropagation()}else tp(i,s,u,null,o)}}function mp(i){return i=Pn(i),pp(i)}var kh=null;function pp(i){if(kh=null,i=Ui(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=c(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return kh=i,null}function P_(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vd()){case ll:return 2;case Da:return 8;case Ms:case _d:return 32;case Na:return 268435456;default:return 32}default:return 32}}var gp=!1,Qr=null,Xr=null,Wr=null,hu=new Map,fu=new Map,Zr=[],Lx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function O_(i,s){switch(i){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":Wr=null;break;case"pointerover":case"pointerout":hu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":fu.delete(s.pointerId)}}function du(i,s,o,u,f,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},s!==null&&(s=ui(s),s!==null&&V_(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),i)}function Ux(i,s,o,u,f){switch(s){case"focusin":return Qr=du(Qr,i,s,o,u,f),!0;case"dragenter":return Xr=du(Xr,i,s,o,u,f),!0;case"mouseover":return Wr=du(Wr,i,s,o,u,f),!0;case"pointerover":var g=f.pointerId;return hu.set(g,du(hu.get(g)||null,i,s,o,u,f)),!0;case"gotpointercapture":return g=f.pointerId,fu.set(g,du(fu.get(g)||null,i,s,o,u,f)),!0}return!1}function k_(i){var s=Ui(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){i.blockedOn=s,Ec(i.priority,function(){if(o.tag===13){var u=Rn();u=xr(u);var f=Wa(o,u);f!==null&&Cn(f,o,u),fp(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Lh(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=mp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Fi=u,o.target.dispatchEvent(u),Fi=null}else return s=ui(o),s!==null&&V_(s),i.blockedOn=o,!1;s.shift()}return!0}function L_(i,s,o){Lh(i)&&o.delete(s)}function jx(){gp=!1,Qr!==null&&Lh(Qr)&&(Qr=null),Xr!==null&&Lh(Xr)&&(Xr=null),Wr!==null&&Lh(Wr)&&(Wr=null),hu.forEach(L_),fu.forEach(L_)}function Uh(i,s){i.blockedOn===s&&(i.blockedOn=null,gp||(gp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,jx)))}var jh=null;function U_(i){jh!==i&&(jh=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){jh===i&&(jh=null);for(var s=0;s<i.length;s+=3){var o=i[s],u=i[s+1],f=i[s+2];if(typeof u!="function"){if(pp(u||o)===null)continue;break}var g=ui(o);g!==null&&(i.splice(s,3),s-=3,pm(g,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function mu(i){function s(D){return Uh(D,i)}Qr!==null&&Uh(Qr,i),Xr!==null&&Uh(Xr,i),Wr!==null&&Uh(Wr,i),hu.forEach(s),fu.forEach(s);for(var o=0;o<Zr.length;o++){var u=Zr[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Zr.length&&(o=Zr[0],o.blockedOn===null);)k_(o),o.blockedOn===null&&Zr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],g=o[u+1],E=f[be]||null;if(typeof g=="function")E||U_(o);else if(E){var w=null;if(g&&g.hasAttribute("formAction")){if(f=g,E=g[be]||null)w=E.formAction;else if(pp(f)!==null)continue}else w=E.action;typeof w=="function"?o[u+1]=w:(o.splice(u,3),u-=3),U_(o)}}}function yp(i){this._internalRoot=i}zh.prototype.render=yp.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=Rn();N_(o,u,i,s,null,null)},zh.prototype.unmount=yp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;N_(i.current,2,null,i,null,null),Eh(),s[Mn]=null}};function zh(i){this._internalRoot=i}zh.prototype.unstable_scheduleHydration=function(i){if(i){var s=Rr();i={blockedOn:null,target:i,priority:s};for(var o=0;o<Zr.length&&s!==0&&s<Zr[o].priority;o++);Zr.splice(o,0,i),o===0&&k_(i)}};var j_=t.version;if(j_!=="19.1.0")throw Error(r(527,j_,"19.1.0"));at.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=m(s),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var zx={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bh.isDisabled&&Bh.supportsFiber)try{he=Bh.inject(zx),Kt=Bh}catch{}}return gu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,u="",f=e1,g=n1,E=i1,w=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(w=s.unstable_transitionCallbacks)),s=I_(i,1,!1,null,null,o,u,f,g,E,w,null),i[Mn]=s.current,Jm(i),new yp(s)},gu.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var u=!1,f="",g=e1,E=n1,w=i1,D=null,K=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(D=o.unstable_transitionCallbacks),o.formState!==void 0&&(K=o.formState)),s=I_(i,1,!0,s,o??null,u,f,g,E,w,D,K),s.context=D_(null),o=s.current,u=Rn(),u=xr(u),f=Or(u),f.callback=null,kr(o,f,u),o=u,s.current.lanes=o,Li(s,o),wi(s),i[Mn]=s.current,Jm(i),new zh(s)},gu.version="19.1.0",gu}var Q_;function Xx(){if(Q_)return Tp.exports;Q_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Tp.exports=Qx(),Tp.exports}var Wx=Xx();const Zx=YE(Wx);var yu={},X_;function Jx(){if(X_)return yu;X_=1,Object.defineProperty(yu,"__esModule",{value:!0}),yu.parse=c,yu.serialize=p;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function c(b,x){const C=new l,U=b.length;if(U<2)return C;const N=(x==null?void 0:x.decode)||y;let k=0;do{const G=b.indexOf("=",k);if(G===-1)break;const Y=b.indexOf(";",k),st=Y===-1?U:Y;if(G>st){k=b.lastIndexOf(";",G-1)+1;continue}const J=d(b,k,G),lt=m(b,G,J),V=b.slice(J,lt);if(C[V]===void 0){let R=d(b,G+1,st),I=m(b,st,R);const P=N(b.slice(R,I));C[V]=P}k=st+1}while(k<U);return C}function d(b,x,C){do{const U=b.charCodeAt(x);if(U!==32&&U!==9)return x}while(++x<C);return C}function m(b,x,C){for(;x>C;){const U=b.charCodeAt(--x);if(U!==32&&U!==9)return x+1}return C}function p(b,x,C){const U=(C==null?void 0:C.encode)||encodeURIComponent;if(!e.test(b))throw new TypeError(`argument name is invalid: ${b}`);const N=U(x);if(!t.test(N))throw new TypeError(`argument val is invalid: ${x}`);let k=b+"="+N;if(!C)return k;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);k+="; Max-Age="+C.maxAge}if(C.domain){if(!n.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);k+="; Domain="+C.domain}if(C.path){if(!r.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);k+="; Path="+C.path}if(C.expires){if(!_(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);k+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(k+="; HttpOnly"),C.secure&&(k+="; Secure"),C.partitioned&&(k+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return k}function y(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function _(b){return a.call(b)==="[object Date]"}return yu}Jx();var W_="popstate";function t6(e={}){function t(r,a){let{pathname:l,search:c,hash:d}=r.location;return Xp("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:Lu(a)}return n6(t,n,null,e)}function se(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function si(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function e6(){return Math.random().toString(36).substring(2,10)}function Z_(e,t){return{usr:e.state,key:e.key,idx:t}}function Xp(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?$o(t):t,state:n,key:t&&t.key||r||e6()}}function Lu({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function $o(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function n6(e,t,n,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,d="POP",m=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function _(){d="POP";let N=y(),k=N==null?null:N-p;p=N,m&&m({action:d,location:U.location,delta:k})}function b(N,k){d="PUSH";let G=Xp(U.location,N,k);p=y()+1;let Y=Z_(G,p),st=U.createHref(G);try{c.pushState(Y,"",st)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;a.location.assign(st)}l&&m&&m({action:d,location:U.location,delta:1})}function x(N,k){d="REPLACE";let G=Xp(U.location,N,k);p=y();let Y=Z_(G,p),st=U.createHref(G);c.replaceState(Y,"",st),l&&m&&m({action:d,location:U.location,delta:0})}function C(N){return i6(N)}let U={get action(){return d},get location(){return e(a,c)},listen(N){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(W_,_),m=N,()=>{a.removeEventListener(W_,_),m=null}},createHref(N){return t(a,N)},createURL:C,encodeLocation(N){let k=C(N);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:b,replace:x,go(N){return c.go(N)}};return U}function i6(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),se(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Lu(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function $E(e,t,n="/"){return r6(e,t,n,!1)}function r6(e,t,n,r){let a=typeof t=="string"?$o(t):t,l=dr(a.pathname||"/",n);if(l==null)return null;let c=QE(e);s6(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let p=g6(l);d=m6(c[m],p,r)}return d}function QE(e,t=[],n=[],r=""){let a=(l,c,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(se(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length));let p=hr([r,m.relativePath]),y=n.concat(m);l.children&&l.children.length>0&&(se(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),QE(l.children,t,y,p)),!(l.path==null&&!l.index)&&t.push({path:p,score:f6(p,l.index),routesMeta:y})};return e.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,c);else for(let m of XE(l.path))a(l,c,m)}),t}function XE(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=XE(r.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>e.startsWith("/")&&m===""?"/":m)}function s6(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:d6(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var a6=/^:[\w-]+$/,o6=3,l6=2,u6=1,c6=10,h6=-2,J_=e=>e==="*";function f6(e,t){let n=e.split("/"),r=n.length;return n.some(J_)&&(r+=h6),t&&(r+=l6),n.filter(a=>!J_(a)).reduce((a,l)=>a+(a6.test(l)?o6:l===""?u6:c6),r)}function d6(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function m6(e,t,n=!1){let{routesMeta:r}=e,a={},l="/",c=[];for(let d=0;d<r.length;++d){let m=r[d],p=d===r.length-1,y=l==="/"?t:t.slice(l.length)||"/",_=gf({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),b=m.route;if(!_&&p&&n&&!r[r.length-1].route.index&&(_=gf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:hr([l,_.pathname]),pathnameBase:T6(hr([l,_.pathnameBase])),route:b}),_.pathnameBase!=="/"&&(l=hr([l,_.pathnameBase]))}return c}function gf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=p6(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:_},b)=>{if(y==="*"){let C=d[b]||"";c=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const x=d[b];return _&&!x?p[y]=void 0:p[y]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:e}}function p6(e,t=!1,n=!0){si(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(r.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function g6(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return si(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function dr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function y6(e,t="/"){let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?$o(e):e;return{pathname:n?n.startsWith("/")?n:v6(n,t):t,search:E6(r),hash:b6(a)}}function v6(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Sp(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _6(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Gg(e){let t=_6(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Kg(e,t,n,r=!1){let a;typeof e=="string"?a=$o(e):(a={...e},se(!a.pathname||!a.pathname.includes("?"),Sp("?","pathname","search",a)),se(!a.pathname||!a.pathname.includes("#"),Sp("#","pathname","hash",a)),se(!a.search||!a.search.includes("#"),Sp("#","search","hash",a)));let l=e===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let _=t.length-1;if(!r&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),_-=1;a.pathname=b.join("/")}d=_>=0?t[_]:"/"}let m=y6(a,d),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var hr=e=>e.join("/").replace(/\/\/+/g,"/"),T6=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),E6=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,b6=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function w6(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var WE=["POST","PUT","PATCH","DELETE"];new Set(WE);var S6=["GET",...WE];new Set(S6);var Qo=O.createContext(null);Qo.displayName="DataRouter";var qf=O.createContext(null);qf.displayName="DataRouterState";var ZE=O.createContext({isTransitioning:!1});ZE.displayName="ViewTransition";var A6=O.createContext(new Map);A6.displayName="Fetchers";var x6=O.createContext(null);x6.displayName="Await";var ai=O.createContext(null);ai.displayName="Navigation";var ec=O.createContext(null);ec.displayName="Location";var Vi=O.createContext({outlet:null,matches:[],isDataRoute:!1});Vi.displayName="Route";var Yg=O.createContext(null);Yg.displayName="RouteError";function R6(e,{relative:t}={}){se(Xo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=O.useContext(ai),{hash:a,pathname:l,search:c}=nc(e,{relative:t}),d=l;return n!=="/"&&(d=l==="/"?n:hr([n,l])),r.createHref({pathname:d,search:c,hash:a})}function Xo(){return O.useContext(ec)!=null}function Pi(){return se(Xo(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(ec).location}var JE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function tb(e){O.useContext(ai).static||O.useLayoutEffect(e)}function ws(){let{isDataRoute:e}=O.useContext(Vi);return e?z6():C6()}function C6(){se(Xo(),"useNavigate() may be used only in the context of a <Router> component.");let e=O.useContext(Qo),{basename:t,navigator:n}=O.useContext(ai),{matches:r}=O.useContext(Vi),{pathname:a}=Pi(),l=JSON.stringify(Gg(r)),c=O.useRef(!1);return tb(()=>{c.current=!0}),O.useCallback((m,p={})=>{if(si(c.current,JE),!c.current)return;if(typeof m=="number"){n.go(m);return}let y=Kg(m,JSON.parse(l),a,p.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:hr([t,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[t,n,l,a,e])}O.createContext(null);function nc(e,{relative:t}={}){let{matches:n}=O.useContext(Vi),{pathname:r}=Pi(),a=JSON.stringify(Gg(n));return O.useMemo(()=>Kg(e,JSON.parse(a),r,t==="path"),[e,a,r,t])}function I6(e,t){return eb(e,t)}function eb(e,t,n,r){var k;se(Xo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=O.useContext(ai),{matches:l}=O.useContext(Vi),c=l[l.length-1],d=c?c.params:{},m=c?c.pathname:"/",p=c?c.pathnameBase:"/",y=c&&c.route;{let G=y&&y.path||"";nb(m,!y||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let _=Pi(),b;if(t){let G=typeof t=="string"?$o(t):t;se(p==="/"||((k=G.pathname)==null?void 0:k.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${G.pathname}" was given in the \`location\` prop.`),b=G}else b=_;let x=b.pathname||"/",C=x;if(p!=="/"){let G=p.replace(/^\//,"").split("/");C="/"+x.replace(/^\//,"").split("/").slice(G.length).join("/")}let U=$E(e,{pathname:C});si(y||U!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),si(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=P6(U&&U.map(G=>Object.assign({},G,{params:Object.assign({},d,G.params),pathname:hr([p,a.encodeLocation?a.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?p:hr([p,a.encodeLocation?a.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),l,n,r);return t&&N?O.createElement(ec.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},N):N}function D6(){let e=j6(),t=w6(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:l},"ErrorBoundary")," or"," ",O.createElement("code",{style:l},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),n?O.createElement("pre",{style:a},n):null,c)}var N6=O.createElement(D6,null),M6=class extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?O.createElement(Vi.Provider,{value:this.props.routeContext},O.createElement(Yg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function V6({routeContext:e,match:t,children:n}){let r=O.useContext(Qo);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),O.createElement(Vi.Provider,{value:e},n)}function P6(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=n==null?void 0:n.errors;if(l!=null){let m=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);se(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,d=-1;if(n)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=m),p.route.id){let{loaderData:y,errors:_}=n,b=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||b){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((m,p,y)=>{let _,b=!1,x=null,C=null;n&&(_=l&&p.route.id?l[p.route.id]:void 0,x=p.route.errorElement||N6,c&&(d<0&&y===0?(nb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,C=null):d===y&&(b=!0,C=p.route.hydrateFallbackElement||null)));let U=t.concat(a.slice(0,y+1)),N=()=>{let k;return _?k=x:b?k=C:p.route.Component?k=O.createElement(p.route.Component,null):p.route.element?k=p.route.element:k=m,O.createElement(V6,{match:p,routeContext:{outlet:m,matches:U,isDataRoute:n!=null},children:k})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?O.createElement(M6,{location:n.location,revalidation:n.revalidation,component:x,error:_,children:N(),routeContext:{outlet:null,matches:U,isDataRoute:!0}}):N()},null)}function $g(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function O6(e){let t=O.useContext(Qo);return se(t,$g(e)),t}function k6(e){let t=O.useContext(qf);return se(t,$g(e)),t}function L6(e){let t=O.useContext(Vi);return se(t,$g(e)),t}function Qg(e){let t=L6(e),n=t.matches[t.matches.length-1];return se(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function U6(){return Qg("useRouteId")}function j6(){var r;let e=O.useContext(Yg),t=k6("useRouteError"),n=Qg("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function z6(){let{router:e}=O6("useNavigate"),t=Qg("useNavigate"),n=O.useRef(!1);return tb(()=>{n.current=!0}),O.useCallback(async(a,l={})=>{si(n.current,JE),n.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var t2={};function nb(e,t,n){!t&&!t2[e]&&(t2[e]=!0,si(!1,n))}O.memo(B6);function B6({routes:e,future:t,state:n}){return eb(e,void 0,n,t)}function F6({to:e,replace:t,state:n,relative:r}){se(Xo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=O.useContext(ai);si(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=O.useContext(Vi),{pathname:c}=Pi(),d=ws(),m=Kg(e,Gg(l),c,r==="path"),p=JSON.stringify(m);return O.useEffect(()=>{d(JSON.parse(p),{replace:t,state:n,relative:r})},[d,p,r,t,n]),null}function or(e){se(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function H6({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:a,static:l=!1}){se(!Xo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),d=O.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=$o(n));let{pathname:m="/",search:p="",hash:y="",state:_=null,key:b="default"}=n,x=O.useMemo(()=>{let C=dr(m,c);return C==null?null:{location:{pathname:C,search:p,hash:y,state:_,key:b},navigationType:r}},[c,m,p,y,_,b,r]);return si(x!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:O.createElement(ai.Provider,{value:d},O.createElement(ec.Provider,{children:t,value:x}))}function q6({children:e,location:t}){return I6(Wp(e),t)}function Wp(e,t=[]){let n=[];return O.Children.forEach(e,(r,a)=>{if(!O.isValidElement(r))return;let l=[...t,a];if(r.type===O.Fragment){n.push.apply(n,Wp(r.props.children,l));return}se(r.type===or,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),se(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Wp(r.props.children,l)),n.push(c)}),n}var tf="get",ef="application/x-www-form-urlencoded";function Gf(e){return e!=null&&typeof e.tagName=="string"}function G6(e){return Gf(e)&&e.tagName.toLowerCase()==="button"}function K6(e){return Gf(e)&&e.tagName.toLowerCase()==="form"}function Y6(e){return Gf(e)&&e.tagName.toLowerCase()==="input"}function $6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Q6(e,t){return e.button===0&&(!t||t==="_self")&&!$6(e)}var Fh=null;function X6(){if(Fh===null)try{new FormData(document.createElement("form"),0),Fh=!1}catch{Fh=!0}return Fh}var W6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ap(e){return e!=null&&!W6.has(e)?(si(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ef}"`),null):e}function Z6(e,t){let n,r,a,l,c;if(K6(e)){let d=e.getAttribute("action");r=d?dr(d,t):null,n=e.getAttribute("method")||tf,a=Ap(e.getAttribute("enctype"))||ef,l=new FormData(e)}else if(G6(e)||Y6(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||d.getAttribute("action");if(r=m?dr(m,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||tf,a=Ap(e.getAttribute("formenctype"))||Ap(d.getAttribute("enctype"))||ef,l=new FormData(d,e),!X6()){let{name:p,type:y,value:_}=e;if(y==="image"){let b=p?`${p}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else p&&l.append(p,_)}}else{if(Gf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=tf,r=null,a=ef,c=e}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:l,body:c}}function Xg(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function J6(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tR(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function eR(e,t,n){let r=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let c=await J6(l,n);return c.links?c.links():[]}return[]}));return sR(r.flat(1).filter(tR).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function e2(e,t,n,r,a,l){let c=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,d=(m,p)=>{var y;return n[p].pathname!==m.pathname||((y=n[p].route.path)==null?void 0:y.endsWith("*"))&&n[p].params["*"]!==m.params["*"]};return l==="assets"?t.filter((m,p)=>c(m,p)||d(m,p)):l==="data"?t.filter((m,p)=>{var _;let y=r.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function nR(e,t,{includeHydrateFallback:n}={}){return iR(e.map(r=>{let a=t.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function iR(e){return[...new Set(e)]}function rR(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function sR(e,t){let n=new Set;return new Set(t),e.reduce((r,a)=>{let l=JSON.stringify(rR(a));return n.has(l)||(n.add(l),r.push({key:l,link:a})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var aR=new Set([100,101,204,205]);function oR(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&dr(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function ib(){let e=O.useContext(Qo);return Xg(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function lR(){let e=O.useContext(qf);return Xg(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Wg=O.createContext(void 0);Wg.displayName="FrameworkContext";function rb(){let e=O.useContext(Wg);return Xg(e,"You must render this element inside a <HydratedRouter> element"),e}function uR(e,t){let n=O.useContext(Wg),[r,a]=O.useState(!1),[l,c]=O.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=t,b=O.useRef(null);O.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let U=k=>{k.forEach(G=>{c(G.isIntersecting)})},N=new IntersectionObserver(U,{threshold:.5});return b.current&&N.observe(b.current),()=>{N.disconnect()}}},[e]),O.useEffect(()=>{if(r){let U=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(U)}}},[r]);let x=()=>{a(!0)},C=()=>{a(!1),c(!1)};return n?e!=="intent"?[l,b,{}]:[l,b,{onFocus:vu(d,x),onBlur:vu(m,C),onMouseEnter:vu(p,x),onMouseLeave:vu(y,C),onTouchStart:vu(_,x)}]:[!1,b,{}]}function vu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function cR({page:e,...t}){let{router:n}=ib(),r=O.useMemo(()=>$E(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?O.createElement(fR,{page:e,matches:r,...t}):null}function hR(e){let{manifest:t,routeModules:n}=rb(),[r,a]=O.useState([]);return O.useEffect(()=>{let l=!1;return eR(e,t,n).then(c=>{l||a(c)}),()=>{l=!0}},[e,t,n]),r}function fR({page:e,matches:t,...n}){let r=Pi(),{manifest:a,routeModules:l}=rb(),{basename:c}=ib(),{loaderData:d,matches:m}=lR(),p=O.useMemo(()=>e2(e,t,m,a,r,"data"),[e,t,m,a,r]),y=O.useMemo(()=>e2(e,t,m,a,r,"assets"),[e,t,m,a,r]),_=O.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let C=new Set,U=!1;if(t.forEach(k=>{var Y;let G=a.routes[k.route.id];!G||!G.hasLoader||(!p.some(st=>st.route.id===k.route.id)&&k.route.id in d&&((Y=l[k.route.id])!=null&&Y.shouldRevalidate)||G.hasClientLoader?U=!0:C.add(k.route.id))}),C.size===0)return[];let N=oR(e,c);return U&&C.size>0&&N.searchParams.set("_routes",t.filter(k=>C.has(k.route.id)).map(k=>k.route.id).join(",")),[N.pathname+N.search]},[c,d,r,a,p,t,e,l]),b=O.useMemo(()=>nR(y,a),[y,a]),x=hR(y);return O.createElement(O.Fragment,null,_.map(C=>O.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),b.map(C=>O.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),x.map(({key:C,link:U})=>O.createElement("link",{key:C,...U})))}function dR(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var sb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{sb&&(window.__reactRouterVersion="7.6.1")}catch{}function mR({basename:e,children:t,window:n}){let r=O.useRef();r.current==null&&(r.current=t6({window:n,v5Compat:!0}));let a=r.current,[l,c]=O.useState({action:a.action,location:a.location}),d=O.useCallback(m=>{O.startTransition(()=>c(m))},[c]);return O.useLayoutEffect(()=>a.listen(d),[a,d]),O.createElement(H6,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:a})}var ab=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ei=O.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:p,preventScrollReset:y,viewTransition:_,...b},x){let{basename:C}=O.useContext(ai),U=typeof p=="string"&&ab.test(p),N,k=!1;if(typeof p=="string"&&U&&(N=p,sb))try{let I=new URL(window.location.href),P=p.startsWith("//")?new URL(I.protocol+p):new URL(p),z=dr(P.pathname,C);P.origin===I.origin&&z!=null?p=z+P.search+P.hash:k=!0}catch{si(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=R6(p,{relative:a}),[Y,st,J]=uR(r,b),lt=vR(p,{replace:c,state:d,target:m,preventScrollReset:y,relative:a,viewTransition:_});function V(I){t&&t(I),I.defaultPrevented||lt(I)}let R=O.createElement("a",{...b,...J,href:N||G,onClick:k||l?t:V,ref:dR(x,st),target:m,"data-discover":!U&&n==="render"?"true":void 0});return Y&&!U?O.createElement(O.Fragment,null,R,O.createElement(cR,{page:G})):R});ei.displayName="Link";var pR=O.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...p},y){let _=nc(c,{relative:p.relative}),b=Pi(),x=O.useContext(qf),{navigator:C,basename:U}=O.useContext(ai),N=x!=null&&wR(_)&&d===!0,k=C.encodeLocation?C.encodeLocation(_).pathname:_.pathname,G=b.pathname,Y=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(G=G.toLowerCase(),Y=Y?Y.toLowerCase():null,k=k.toLowerCase()),Y&&U&&(Y=dr(Y,U)||Y);const st=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let J=G===k||!a&&G.startsWith(k)&&G.charAt(st)==="/",lt=Y!=null&&(Y===k||!a&&Y.startsWith(k)&&Y.charAt(k.length)==="/"),V={isActive:J,isPending:lt,isTransitioning:N},R=J?t:void 0,I;typeof r=="function"?I=r(V):I=[r,J?"active":null,lt?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(V):l;return O.createElement(ei,{...p,"aria-current":R,className:I,ref:y,style:P,to:c,viewTransition:d},typeof m=="function"?m(V):m)});pR.displayName="NavLink";var gR=O.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:a,state:l,method:c=tf,action:d,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:_,...b},x)=>{let C=ER(),U=bR(d,{relative:p}),N=c.toLowerCase()==="get"?"get":"post",k=typeof d=="string"&&ab.test(d),G=Y=>{if(m&&m(Y),Y.defaultPrevented)return;Y.preventDefault();let st=Y.nativeEvent.submitter,J=(st==null?void 0:st.getAttribute("formmethod"))||c;C(st||Y.currentTarget,{fetcherKey:t,method:J,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:_})};return O.createElement("form",{ref:x,method:N,action:U,onSubmit:r?m:G,...b,"data-discover":!k&&e==="render"?"true":void 0})});gR.displayName="Form";function yR(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ob(e){let t=O.useContext(Qo);return se(t,yR(e)),t}function vR(e,{target:t,replace:n,state:r,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=ws(),m=Pi(),p=nc(e,{relative:l});return O.useCallback(y=>{if(Q6(y,t)){y.preventDefault();let _=n!==void 0?n:Lu(m)===Lu(p);d(e,{replace:_,state:r,preventScrollReset:a,relative:l,viewTransition:c})}},[m,d,p,n,r,t,e,a,l,c])}var _R=0,TR=()=>`__${String(++_R)}__`;function ER(){let{router:e}=ob("useSubmit"),{basename:t}=O.useContext(ai),n=U6();return O.useCallback(async(r,a={})=>{let{action:l,method:c,encType:d,formData:m,body:p}=Z6(r,t);if(a.navigate===!1){let y=a.fetcherKey||TR();await e.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await e.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,n])}function bR(e,{relative:t}={}){let{basename:n}=O.useContext(ai),r=O.useContext(Vi);se(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...nc(e||".",{relative:t})},c=Pi();if(e==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(y=>y==="")){d.delete("index"),m.filter(_=>_).forEach(_=>d.append("index",_));let y=d.toString();l.search=y?`?${y}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:hr([n,l.pathname])),Lu(l)}function wR(e,t={}){let n=O.useContext(ZE);se(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ob("useViewTransitionState"),a=nc(e,{relative:t.relative});if(!n.isTransitioning)return!1;let l=dr(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=dr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return gf(a.pathname,c)!=null||gf(a.pathname,l)!=null}[...aR];const Zg=O.createContext({});function Jg(e){const t=O.useRef(null);return t.current===null&&(t.current=e()),t.current}const ty=typeof window<"u",lb=ty?O.useLayoutEffect:O.useEffect,Kf=O.createContext(null);function ey(e,t){e.indexOf(t)===-1&&e.push(t)}function ny(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const mr=(e,t,n)=>n>t?t:n<e?e:n;let iy=()=>{};const pr={},ub=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function cb(e){return typeof e=="object"&&e!==null}const hb=e=>/^0[^.\s]+$/u.test(e);function ry(e){let t;return()=>(t===void 0&&(t=e()),t)}const Kn=e=>e,SR=(e,t)=>n=>t(e(n)),ic=(...e)=>e.reduce(SR),Uu=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class sy{constructor(){this.subscriptions=[]}add(t){return ey(this.subscriptions,t),()=>ny(this.subscriptions,t)}notify(t,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,r);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ai=e=>e*1e3,xi=e=>e/1e3;function fb(e,t){return t?e*(1e3/t):0}const db=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,AR=1e-7,xR=12;function RR(e,t,n,r,a){let l,c,d=0;do c=t+(n-t)/2,l=db(c,r,a)-e,l>0?n=c:t=c;while(Math.abs(l)>AR&&++d<xR);return c}function rc(e,t,n,r){if(e===t&&n===r)return Kn;const a=l=>RR(l,0,1,e,n);return l=>l===0||l===1?l:db(a(l),t,r)}const mb=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,pb=e=>t=>1-e(1-t),gb=rc(.33,1.53,.69,.99),ay=pb(gb),yb=mb(ay),vb=e=>(e*=2)<1?.5*ay(e):.5*(2-Math.pow(2,-10*(e-1))),oy=e=>1-Math.sin(Math.acos(e)),_b=pb(oy),Tb=mb(oy),CR=rc(.42,0,1,1),IR=rc(0,0,.58,1),Eb=rc(.42,0,.58,1),DR=e=>Array.isArray(e)&&typeof e[0]!="number",bb=e=>Array.isArray(e)&&typeof e[0]=="number",NR={linear:Kn,easeIn:CR,easeInOut:Eb,easeOut:IR,circIn:oy,circInOut:Tb,circOut:_b,backIn:ay,backInOut:yb,backOut:gb,anticipate:vb},MR=e=>typeof e=="string",n2=e=>{if(bb(e)){iy(e.length===4);const[t,n,r,a]=e;return rc(t,n,r,a)}else if(MR(e))return NR[e];return e},Hh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],i2={value:null};function VR(e,t){let n=new Set,r=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1},m=0;function p(_){c.has(_)&&(y.schedule(_),e()),m++,_(d)}const y={schedule:(_,b=!1,x=!1)=>{const U=x&&a?n:r;return b&&c.add(_),U.has(_)||U.add(_),_},cancel:_=>{r.delete(_),c.delete(_)},process:_=>{if(d=_,a){l=!0;return}a=!0,[n,r]=[r,n],n.forEach(p),t&&i2.value&&i2.value.frameloop[t].push(m),m=0,n.clear(),a=!1,l&&(l=!1,y.process(_))}};return y}const PR=40;function wb(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Hh.reduce((Y,st)=>(Y[st]=VR(l,t?st:void 0),Y),{}),{setup:d,read:m,resolveKeyframes:p,preUpdate:y,update:_,preRender:b,render:x,postRender:C}=c,U=()=>{const Y=pr.useManualTiming?a.timestamp:performance.now();n=!1,pr.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(Y-a.timestamp,PR),1)),a.timestamp=Y,a.isProcessing=!0,d.process(a),m.process(a),p.process(a),y.process(a),_.process(a),b.process(a),x.process(a),C.process(a),a.isProcessing=!1,n&&t&&(r=!1,e(U))},N=()=>{n=!0,r=!0,a.isProcessing||e(U)};return{schedule:Hh.reduce((Y,st)=>{const J=c[st];return Y[st]=(lt,V=!1,R=!1)=>(n||N(),J.schedule(lt,V,R)),Y},{}),cancel:Y=>{for(let st=0;st<Hh.length;st++)c[Hh[st]].cancel(Y)},state:a,steps:c}}const{schedule:ue,cancel:ds,state:Ye,steps:xp}=wb(typeof requestAnimationFrame<"u"?requestAnimationFrame:Kn,!0);let nf;function OR(){nf=void 0}const vn={now:()=>(nf===void 0&&vn.set(Ye.isProcessing||pr.useManualTiming?Ye.timestamp:performance.now()),nf),set:e=>{nf=e,queueMicrotask(OR)}},Sb=e=>t=>typeof t=="string"&&t.startsWith(e),ly=Sb("--"),kR=Sb("var(--"),uy=e=>kR(e)?LR.test(e.split("/*")[0].trim()):!1,LR=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Wo={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ju={...Wo,transform:e=>mr(0,1,e)},qh={...Wo,default:1},xu=e=>Math.round(e*1e5)/1e5,cy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function UR(e){return e==null}const jR=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,hy=(e,t)=>n=>!!(typeof n=="string"&&jR.test(n)&&n.startsWith(e)||t&&!UR(n)&&Object.prototype.hasOwnProperty.call(n,t)),Ab=(e,t,n)=>r=>{if(typeof r!="string")return r;const[a,l,c,d]=r.match(cy);return{[e]:parseFloat(a),[t]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},zR=e=>mr(0,255,e),Rp={...Wo,transform:e=>Math.round(zR(e))},pa={test:hy("rgb","red"),parse:Ab("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Rp.transform(e)+", "+Rp.transform(t)+", "+Rp.transform(n)+", "+xu(ju.transform(r))+")"};function BR(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const Zp={test:hy("#"),parse:BR,transform:pa.transform},sc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),es=sc("deg"),Ri=sc("%"),bt=sc("px"),FR=sc("vh"),HR=sc("vw"),r2={...Ri,parse:e=>Ri.parse(e)/100,transform:e=>Ri.transform(e*100)},Co={test:hy("hsl","hue"),parse:Ab("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Ri.transform(xu(t))+", "+Ri.transform(xu(n))+", "+xu(ju.transform(r))+")"},nn={test:e=>pa.test(e)||Zp.test(e)||Co.test(e),parse:e=>pa.test(e)?pa.parse(e):Co.test(e)?Co.parse(e):Zp.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?pa.transform(e):Co.transform(e)},qR=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function GR(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(cy))==null?void 0:t.length)||0)+(((n=e.match(qR))==null?void 0:n.length)||0)>0}const xb="number",Rb="color",KR="var",YR="var(",s2="${}",$R=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function zu(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},a=[];let l=0;const d=t.replace($R,m=>(nn.test(m)?(r.color.push(l),a.push(Rb),n.push(nn.parse(m))):m.startsWith(YR)?(r.var.push(l),a.push(KR),n.push(m)):(r.number.push(l),a.push(xb),n.push(parseFloat(m))),++l,s2)).split(s2);return{values:n,split:d,indexes:r,types:a}}function Cb(e){return zu(e).values}function Ib(e){const{split:t,types:n}=zu(e),r=t.length;return a=>{let l="";for(let c=0;c<r;c++)if(l+=t[c],a[c]!==void 0){const d=n[c];d===xb?l+=xu(a[c]):d===Rb?l+=nn.transform(a[c]):l+=a[c]}return l}}const QR=e=>typeof e=="number"?0:e;function XR(e){const t=Cb(e);return Ib(e)(t.map(QR))}const ms={test:GR,parse:Cb,createTransformer:Ib,getAnimatableNone:XR};function Cp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function WR({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let a=0,l=0,c=0;if(!t)a=l=c=n;else{const d=n<.5?n*(1+t):n+t-n*t,m=2*n-d;a=Cp(m,d,e+1/3),l=Cp(m,d,e),c=Cp(m,d,e-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:r}}function yf(e,t){return n=>n>0?t:e}const le=(e,t,n)=>e+(t-e)*n,Ip=(e,t,n)=>{const r=e*e,a=n*(t*t-r)+r;return a<0?0:Math.sqrt(a)},ZR=[Zp,pa,Co],JR=e=>ZR.find(t=>t.test(e));function a2(e){const t=JR(e);if(!t)return!1;let n=t.parse(e);return t===Co&&(n=WR(n)),n}const o2=(e,t)=>{const n=a2(e),r=a2(t);if(!n||!r)return yf(e,t);const a={...n};return l=>(a.red=Ip(n.red,r.red,l),a.green=Ip(n.green,r.green,l),a.blue=Ip(n.blue,r.blue,l),a.alpha=le(n.alpha,r.alpha,l),pa.transform(a))},Jp=new Set(["none","hidden"]);function t3(e,t){return Jp.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function e3(e,t){return n=>le(e,t,n)}function fy(e){return typeof e=="number"?e3:typeof e=="string"?uy(e)?yf:nn.test(e)?o2:r3:Array.isArray(e)?Db:typeof e=="object"?nn.test(e)?o2:n3:yf}function Db(e,t){const n=[...e],r=n.length,a=e.map((l,c)=>fy(l)(l,t[c]));return l=>{for(let c=0;c<r;c++)n[c]=a[c](l);return n}}function n3(e,t){const n={...e,...t},r={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(r[a]=fy(e[a])(e[a],t[a]));return a=>{for(const l in r)n[l]=r[l](a);return n}}function i3(e,t){const n=[],r={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],c=e.indexes[l][r[l]],d=e.values[c]??0;n[a]=d,r[l]++}return n}const r3=(e,t)=>{const n=ms.createTransformer(t),r=zu(e),a=zu(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?Jp.has(e)&&!a.values.length||Jp.has(t)&&!r.values.length?t3(e,t):ic(Db(i3(r,a),a.values),n):yf(e,t)};function Nb(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?le(e,t,n):fy(e)(e,t)}const s3=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ue.update(t,n),stop:()=>ds(t),now:()=>Ye.isProcessing?Ye.timestamp:vn.now()}},Mb=(e,t,n=10)=>{let r="";const a=Math.max(Math.round(t/n),2);for(let l=0;l<a;l++)r+=e(l/(a-1))+", ";return`linear(${r.substring(0,r.length-2)})`},vf=2e4;function dy(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<vf;)t+=n,r=e.next(t);return t>=vf?1/0:t}function a3(e,t=100,n){const r=n({...e,keyframes:[0,t]}),a=Math.min(dy(r),vf);return{type:"keyframes",ease:l=>r.next(a*l).value/t,duration:xi(a)}}const o3=5;function Vb(e,t,n){const r=Math.max(t-o3,0);return fb(n-e(r),t-r)}const me={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},l2=.001;function l3({duration:e=me.duration,bounce:t=me.bounce,velocity:n=me.velocity,mass:r=me.mass}){let a,l,c=1-t;c=mr(me.minDamping,me.maxDamping,c),e=mr(me.minDuration,me.maxDuration,xi(e)),c<1?(a=p=>{const y=p*c,_=y*e,b=y-n,x=tg(p,c),C=Math.exp(-_);return l2-b/x*C},l=p=>{const _=p*c*e,b=_*n+n,x=Math.pow(c,2)*Math.pow(p,2)*e,C=Math.exp(-_),U=tg(Math.pow(p,2),c);return(-a(p)+l2>0?-1:1)*((b-x)*C)/U}):(a=p=>{const y=Math.exp(-p*e),_=(p-n)*e+1;return-.001+y*_},l=p=>{const y=Math.exp(-p*e),_=(n-p)*(e*e);return y*_});const d=5/e,m=c3(a,l,d);if(e=Ai(e),isNaN(m))return{stiffness:me.stiffness,damping:me.damping,duration:e};{const p=Math.pow(m,2)*r;return{stiffness:p,damping:c*2*Math.sqrt(r*p),duration:e}}}const u3=12;function c3(e,t,n){let r=n;for(let a=1;a<u3;a++)r=r-e(r)/t(r);return r}function tg(e,t){return e*Math.sqrt(1-t*t)}const h3=["duration","bounce"],f3=["stiffness","damping","mass"];function u2(e,t){return t.some(n=>e[n]!==void 0)}function d3(e){let t={velocity:me.velocity,stiffness:me.stiffness,damping:me.damping,mass:me.mass,isResolvedFromDuration:!1,...e};if(!u2(e,f3)&&u2(e,h3))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,l=2*mr(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:me.mass,stiffness:a,damping:l}}else{const n=l3(e);t={...t,...n,mass:me.mass},t.isResolvedFromDuration=!0}return t}function _f(e=me.visualDuration,t=me.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:_,velocity:b,isResolvedFromDuration:x}=d3({...n,velocity:-xi(n.velocity||0)}),C=b||0,U=p/(2*Math.sqrt(m*y)),N=c-l,k=xi(Math.sqrt(m/y)),G=Math.abs(N)<5;r||(r=G?me.restSpeed.granular:me.restSpeed.default),a||(a=G?me.restDelta.granular:me.restDelta.default);let Y;if(U<1){const J=tg(k,U);Y=lt=>{const V=Math.exp(-U*k*lt);return c-V*((C+U*k*N)/J*Math.sin(J*lt)+N*Math.cos(J*lt))}}else if(U===1)Y=J=>c-Math.exp(-k*J)*(N+(C+k*N)*J);else{const J=k*Math.sqrt(U*U-1);Y=lt=>{const V=Math.exp(-U*k*lt),R=Math.min(J*lt,300);return c-V*((C+U*k*N)*Math.sinh(R)+J*N*Math.cosh(R))/J}}const st={calculatedDuration:x&&_||null,next:J=>{const lt=Y(J);if(x)d.done=J>=_;else{let V=J===0?C:0;U<1&&(V=J===0?Ai(C):Vb(Y,J,lt));const R=Math.abs(V)<=r,I=Math.abs(c-lt)<=a;d.done=R&&I}return d.value=d.done?c:lt,d},toString:()=>{const J=Math.min(dy(st),vf),lt=Mb(V=>st.next(J*V).value,J,30);return J+"ms "+lt},toTransition:()=>{}};return st}_f.applyToOptions=e=>{const t=a3(e,100,_f);return e.ease=t.ease,e.duration=Ai(t.duration),e.type="keyframes",e};function eg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:m,restDelta:p=.5,restSpeed:y}){const _=e[0],b={done:!1,value:_},x=R=>d!==void 0&&R<d||m!==void 0&&R>m,C=R=>d===void 0?m:m===void 0||Math.abs(d-R)<Math.abs(m-R)?d:m;let U=n*t;const N=_+U,k=c===void 0?N:c(N);k!==N&&(U=k-_);const G=R=>-U*Math.exp(-R/r),Y=R=>k+G(R),st=R=>{const I=G(R),P=Y(R);b.done=Math.abs(I)<=p,b.value=b.done?k:P};let J,lt;const V=R=>{x(b.value)&&(J=R,lt=_f({keyframes:[b.value,C(b.value)],velocity:Vb(Y,R,b.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return V(0),{calculatedDuration:null,next:R=>{let I=!1;return!lt&&J===void 0&&(I=!0,st(R),V(R)),J!==void 0&&R>=J?lt.next(R-J):(!I&&st(R),b)}}}function m3(e,t,n){const r=[],a=n||pr.mix||Nb,l=e.length-1;for(let c=0;c<l;c++){let d=a(e[c],e[c+1]);if(t){const m=Array.isArray(t)?t[c]||Kn:t;d=ic(m,d)}r.push(d)}return r}function p3(e,t,{clamp:n=!0,ease:r,mixer:a}={}){const l=e.length;if(iy(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=m3(t,r,a),m=d.length,p=y=>{if(c&&y<e[0])return t[0];let _=0;if(m>1)for(;_<e.length-2&&!(y<e[_+1]);_++);const b=Uu(e[_],e[_+1],y);return d[_](b)};return n?y=>p(mr(e[0],e[l-1],y)):p}function g3(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=Uu(0,t,r);e.push(le(n,1,a))}}function y3(e){const t=[0];return g3(t,e.length-1),t}function v3(e,t){return e.map(n=>n*t)}function _3(e,t){return e.map(()=>t||Eb).splice(0,e.length-1)}function Ru({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const a=DR(r)?r.map(n2):n2(r),l={done:!1,value:t[0]},c=v3(n&&n.length===t.length?n:y3(t),e),d=p3(c,t,{ease:Array.isArray(a)?a:_3(t,a)});return{calculatedDuration:e,next:m=>(l.value=d(m),l.done=m>=e,l)}}const T3=e=>e!==null;function my(e,{repeat:t,repeatType:n="loop"},r,a=1){const l=e.filter(T3),d=a<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!d||r===void 0?l[d]:r}const E3={decay:eg,inertia:eg,tween:Ru,keyframes:Ru,spring:_f};function Pb(e){typeof e.type=="string"&&(e.type=E3[e.type])}class py{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const b3=e=>e/100;class gy extends py{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,a;const{motionValue:n}=this.options;n&&n.updatedAt!==vn.now()&&this.tick(vn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(r=this.options).onStop)==null||a.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Pb(t);const{type:n=Ru,repeat:r=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=t;let{keyframes:d}=t;const m=n||Ru;m!==Ru&&typeof d[0]!="number"&&(this.mixKeyframes=ic(b3,Nb(d[0],d[1])),d=[0,100]);const p=m({...t,keyframes:d});l==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...d].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=dy(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=p}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:y,repeat:_,repeatType:b,repeatDelay:x,type:C,onUpdate:U,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const k=this.currentTime-p*(this.playbackSpeed>=0?1:-1),G=this.playbackSpeed>=0?k<0:k>a;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let Y=this.currentTime,st=r;if(_){const R=Math.min(this.currentTime,a)/d;let I=Math.floor(R),P=R%1;!P&&R>=1&&(P=1),P===1&&I--,I=Math.min(I,_+1),!!(I%2)&&(b==="reverse"?(P=1-P,x&&(P-=x/d)):b==="mirror"&&(st=c)),Y=mr(0,1,P)*d}const J=G?{done:!1,value:y[0]}:st.next(Y);l&&(J.value=l(J.value));let{done:lt}=J;!G&&m!==null&&(lt=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&lt);return V&&C!==eg&&(J.value=my(y,this.options,N,this.speed)),U&&U(J.value),V&&this.finish(),J}then(t,n){return this.finished.then(t,n)}get duration(){return xi(this.calculatedDuration)}get time(){return xi(this.currentTime)}set time(t){var n;t=Ai(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(vn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=xi(this.currentTime))}play(){var a,l;if(this.isStopped)return;const{driver:t=s3,startTime:n}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),(l=(a=this.options).onPlay)==null||l.call(a);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(vn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function w3(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ga=e=>e*180/Math.PI,ng=e=>{const t=ga(Math.atan2(e[1],e[0]));return ig(t)},S3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:ng,rotateZ:ng,skewX:e=>ga(Math.atan(e[1])),skewY:e=>ga(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},ig=e=>(e=e%360,e<0&&(e+=360),e),c2=ng,h2=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),f2=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),A3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:h2,scaleY:f2,scale:e=>(h2(e)+f2(e))/2,rotateX:e=>ig(ga(Math.atan2(e[6],e[5]))),rotateY:e=>ig(ga(Math.atan2(-e[2],e[0]))),rotateZ:c2,rotate:c2,skewX:e=>ga(Math.atan(e[4])),skewY:e=>ga(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function rg(e){return e.includes("scale")?1:0}function sg(e,t){if(!e||e==="none")return rg(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=A3,a=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=S3,a=d}if(!a)return rg(t);const l=r[t],c=a[1].split(",").map(R3);return typeof l=="function"?l(c):c[l]}const x3=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return sg(n,t)};function R3(e){return parseFloat(e.trim())}const Zo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Jo=new Set(Zo),d2=e=>e===Wo||e===bt,C3=new Set(["x","y","z"]),I3=Zo.filter(e=>!C3.has(e));function D3(e){const t=[];return I3.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const _a={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>sg(t,"x"),y:(e,{transform:t})=>sg(t,"y")};_a.translateX=_a.x;_a.translateY=_a.y;const Ta=new Set;let ag=!1,og=!1,lg=!1;function Ob(){if(og){const e=Array.from(Ta).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const a=D3(r);a.length&&(n.set(r,a),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([l,c])=>{var d;(d=r.getValue(l))==null||d.set(c)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}og=!1,ag=!1,Ta.forEach(e=>e.complete(lg)),Ta.clear()}function kb(){Ta.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(og=!0)})}function N3(){lg=!0,kb(),Ob(),lg=!1}class yy{constructor(t,n,r,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ta.add(this),ag||(ag=!0,ue.read(kb),ue.resolveKeyframes(Ob))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:a}=this;if(t[0]===null){const l=a==null?void 0:a.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(r&&n){const d=r.readValue(n,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),a&&l===void 0&&a.set(t[0])}w3(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ta.delete(this)}cancel(){this.state==="scheduled"&&(Ta.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const M3=e=>e.startsWith("--");function V3(e,t,n){M3(t)?e.style.setProperty(t,n):e.style[t]=n}const P3=ry(()=>window.ScrollTimeline!==void 0),O3={};function k3(e,t){const n=ry(e);return()=>O3[t]??n()}const Lb=k3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Tu=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,m2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Tu([0,.65,.55,1]),circOut:Tu([.55,0,1,.45]),backIn:Tu([.31,.01,.66,-.59]),backOut:Tu([.33,1.53,.69,.99])};function Ub(e,t){if(e)return typeof e=="function"?Lb()?Mb(e,t):"ease-out":bb(e)?Tu(e):Array.isArray(e)?e.map(n=>Ub(n,t)||m2.easeOut):m2[e]}function L3(e,t,n,{delay:r=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:m}={},p=void 0){const y={[t]:n};m&&(y.offset=m);const _=Ub(d,a);Array.isArray(_)&&(y.easing=_);const b={delay:r,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(b.pseudoElement=p),e.animate(y,b)}function jb(e){return typeof e=="function"&&"applyToOptions"in e}function U3({type:e,...t}){return jb(e)&&Lb()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class j3 extends py{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:m}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,iy(typeof t.type!="string");const p=U3(t);this.animation=L3(n,r,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=my(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):V3(n,r,y),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return xi(Number(t))}get time(){return xi(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Ai(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&P3()?(this.animation.timeline=t,Kn):n(this)}}const zb={anticipate:vb,backInOut:yb,circInOut:Tb};function z3(e){return e in zb}function B3(e){typeof e.ease=="string"&&z3(e.ease)&&(e.ease=zb[e.ease])}const p2=10;class F3 extends j3{constructor(t){B3(t),Pb(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:a,element:l,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const d=new gy({...c,autoplay:!1}),m=Ai(this.finishedTime??this.time);n.setWithVelocity(d.sample(m-p2).value,d.sample(m).value,p2),d.stop()}}const g2=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ms.test(e)||e==="0")&&!e.startsWith("url("));function H3(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function q3(e,t,n,r){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=g2(a,t),d=g2(l,t);return!c||!d?!1:H3(e)||(n==="spring"||jb(n))&&r}function vy(e){return cb(e)&&"offsetHeight"in e}const G3=new Set(["opacity","clipPath","filter","transform"]),K3=ry(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Y3(e){var p;const{motionValue:t,name:n,repeatDelay:r,repeatType:a,damping:l,type:c}=e;if(!vy((p=t==null?void 0:t.owner)==null?void 0:p.current))return!1;const{onUpdate:d,transformTemplate:m}=t.owner.getProps();return K3()&&n&&G3.has(n)&&(n!=="transform"||!m)&&!d&&!r&&a!=="mirror"&&l!==0&&c!=="inertia"}const $3=40;class Q3 extends py{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:m,motionValue:p,element:y,..._}){var C;super(),this.stop=()=>{var U,N;this._animation&&(this._animation.stop(),(U=this.stopTimeline)==null||U.call(this)),(N=this.keyframeResolver)==null||N.cancel()},this.createdAt=vn.now();const b={autoplay:t,delay:n,type:r,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:p,element:y,..._},x=(y==null?void 0:y.KeyframeResolver)||yy;this.keyframeResolver=new x(d,(U,N,k)=>this.onKeyframesResolved(U,N,b,!k),m,p,y),(C=this.keyframeResolver)==null||C.scheduleResolve()}onKeyframesResolved(t,n,r,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:m,isHandoff:p,onUpdate:y}=r;this.resolvedAt=vn.now(),q3(t,l,c,d)||((pr.instantAnimations||!m)&&(y==null||y(my(t,r,n))),t[0]=t[t.length-1],r.duration=0,r.repeat=0);const b={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>$3?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},x=!p&&Y3(b)?new F3({...b,element:b.motionValue.owner.current}):new gy(b);x.finished.then(()=>this.notifyFinished()).catch(Kn),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),N3()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const X3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function W3(e){const t=X3.exec(e);if(!t)return[,];const[,n,r,a]=t;return[`--${n??r}`,a]}function Bb(e,t,n=1){const[r,a]=W3(e);if(!r)return;const l=window.getComputedStyle(t).getPropertyValue(r);if(l){const c=l.trim();return ub(c)?parseFloat(c):c}return uy(a)?Bb(a,t,n+1):a}function _y(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Fb=new Set(["width","height","top","left","right","bottom",...Zo]),Z3={test:e=>e==="auto",parse:e=>e},Hb=e=>t=>t.test(e),qb=[Wo,bt,Ri,es,HR,FR,Z3],y2=e=>qb.find(Hb(e));function J3(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||hb(e):!0}const tC=new Set(["brightness","contrast","saturate","opacity"]);function eC(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(cy)||[];if(!r)return e;const a=n.replace(r,"");let l=tC.has(t)?1:0;return r!==n&&(l*=100),t+"("+l+a+")"}const nC=/\b([a-z-]*)\(.*?\)/gu,ug={...ms,getAnimatableNone:e=>{const t=e.match(nC);return t?t.map(eC).join(" "):e}},v2={...Wo,transform:Math.round},iC={rotate:es,rotateX:es,rotateY:es,rotateZ:es,scale:qh,scaleX:qh,scaleY:qh,scaleZ:qh,skew:es,skewX:es,skewY:es,distance:bt,translateX:bt,translateY:bt,translateZ:bt,x:bt,y:bt,z:bt,perspective:bt,transformPerspective:bt,opacity:ju,originX:r2,originY:r2,originZ:bt},Ty={borderWidth:bt,borderTopWidth:bt,borderRightWidth:bt,borderBottomWidth:bt,borderLeftWidth:bt,borderRadius:bt,radius:bt,borderTopLeftRadius:bt,borderTopRightRadius:bt,borderBottomRightRadius:bt,borderBottomLeftRadius:bt,width:bt,maxWidth:bt,height:bt,maxHeight:bt,top:bt,right:bt,bottom:bt,left:bt,padding:bt,paddingTop:bt,paddingRight:bt,paddingBottom:bt,paddingLeft:bt,margin:bt,marginTop:bt,marginRight:bt,marginBottom:bt,marginLeft:bt,backgroundPositionX:bt,backgroundPositionY:bt,...iC,zIndex:v2,fillOpacity:ju,strokeOpacity:ju,numOctaves:v2},rC={...Ty,color:nn,backgroundColor:nn,outlineColor:nn,fill:nn,stroke:nn,borderColor:nn,borderTopColor:nn,borderRightColor:nn,borderBottomColor:nn,borderLeftColor:nn,filter:ug,WebkitFilter:ug},Gb=e=>rC[e];function Kb(e,t){let n=Gb(e);return n!==ug&&(n=ms),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const sC=new Set(["auto","none","0"]);function aC(e,t,n){let r=0,a;for(;r<e.length&&!a;){const l=e[r];typeof l=="string"&&!sC.has(l)&&zu(l).values.length&&(a=e[r]),r++}if(a&&n)for(const l of t)e[l]=Kb(n,a)}class oC extends yy{constructor(t,n,r,a,l){super(t,n,r,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let p=t[m];if(typeof p=="string"&&(p=p.trim(),uy(p))){const y=Bb(p,n.current);y!==void 0&&(t[m]=y),m===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!Fb.has(r)||t.length!==2)return;const[a,l]=t,c=y2(a),d=y2(l);if(c!==d)if(d2(c)&&d2(d))for(let m=0;m<t.length;m++){const p=t[m];typeof p=="string"&&(t[m]=parseFloat(p))}else _a[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let a=0;a<t.length;a++)(t[a]===null||J3(t[a]))&&r.push(a);r.length&&aC(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=_a[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(r,a).jump(a,!1)}measureEndState(){var d;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=r.length-1,c=r[l];r[l]=_a[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([m,p])=>{t.getValue(m).set(p)}),this.resolveNoneKeyframes()}}function lC(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const a=(n==null?void 0:n[e])??r.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const Yb=(e,t)=>t&&typeof e=="number"?t.transform(e):e,_2=30,uC=e=>!isNaN(parseFloat(e));class cC{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,a=!0)=>{var c,d;const l=vn.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current),this.dependents))for(const m of this.dependents)m.dirty();a&&((d=this.events.renderRequest)==null||d.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=vn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=uC(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new sy);const r=this.events[t].add(n);return t==="change"?()=>{r(),ue.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=vn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>_2)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,_2);return fb(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Uo(e,t){return new cC(e,t)}const{schedule:Ey}=wb(queueMicrotask,!1),ti={x:!1,y:!1};function $b(){return ti.x||ti.y}function hC(e){return e==="x"||e==="y"?ti[e]?null:(ti[e]=!0,()=>{ti[e]=!1}):ti.x||ti.y?null:(ti.x=ti.y=!0,()=>{ti.x=ti.y=!1})}function Qb(e,t){const n=lC(e),r=new AbortController,a={passive:!0,...t,signal:r.signal};return[n,a,()=>r.abort()]}function T2(e){return!(e.pointerType==="touch"||$b())}function fC(e,t,n={}){const[r,a,l]=Qb(e,n),c=d=>{if(!T2(d))return;const{target:m}=d,p=t(m,d);if(typeof p!="function"||!m)return;const y=_=>{T2(_)&&(p(_),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return r.forEach(d=>{d.addEventListener("pointerenter",c,a)}),l}const Xb=(e,t)=>t?e===t?!0:Xb(e,t.parentElement):!1,by=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,dC=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function mC(e){return dC.has(e.tagName)||e.tabIndex!==-1}const rf=new WeakSet;function E2(e){return t=>{t.key==="Enter"&&e(t)}}function Dp(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const pC=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=E2(()=>{if(rf.has(n))return;Dp(n,"down");const a=E2(()=>{Dp(n,"up")}),l=()=>Dp(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function b2(e){return by(e)&&!$b()}function gC(e,t,n={}){const[r,a,l]=Qb(e,n),c=d=>{const m=d.currentTarget;if(!b2(d))return;rf.add(m);const p=t(m,d),y=(x,C)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",b),rf.has(m)&&rf.delete(m),b2(x)&&typeof p=="function"&&p(x,{success:C})},_=x=>{y(x,m===window||m===document||n.useGlobalTarget||Xb(m,x.target))},b=x=>{y(x,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",b,a)};return r.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),vy(d)&&(d.addEventListener("focus",p=>pC(p,a)),!mC(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function Wb(e){return cb(e)&&"ownerSVGElement"in e}function yC(e){return Wb(e)&&e.tagName==="svg"}const an=e=>!!(e&&e.getVelocity),vC=[...qb,nn,ms],_C=e=>vC.find(Hb(e)),wy=O.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class TC extends O.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,a=vy(r)&&r.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function EC({children:e,isPresent:t,anchorX:n}){const r=O.useId(),a=O.useRef(null),l=O.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=O.useContext(wy);return O.useInsertionEffect(()=>{const{width:d,height:m,top:p,left:y,right:_}=l.current;if(t||!a.current||!d||!m)return;const b=n==="left"?`left: ${y}`:`right: ${_}`;a.current.dataset.motionPopId=r;const x=document.createElement("style");return c&&(x.nonce=c),document.head.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${m}px !important;
            ${b}px !important;
            top: ${p}px !important;
          }
        `),()=>{document.head.contains(x)&&document.head.removeChild(x)}},[t]),S.jsx(TC,{isPresent:t,childRef:a,sizeRef:l,children:O.cloneElement(e,{ref:a})})}const bC=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:l,mode:c,anchorX:d})=>{const m=Jg(wC),p=O.useId();let y=!0,_=O.useMemo(()=>(y=!1,{id:p,initial:t,isPresent:n,custom:a,onExitComplete:b=>{m.set(b,!0);for(const x of m.values())if(!x)return;r&&r()},register:b=>(m.set(b,!1),()=>m.delete(b))}),[n,m,r]);return l&&y&&(_={..._}),O.useMemo(()=>{m.forEach((b,x)=>m.set(x,!1))},[n]),O.useEffect(()=>{!n&&!m.size&&r&&r()},[n]),c==="popLayout"&&(e=S.jsx(EC,{isPresent:n,anchorX:d,children:e})),S.jsx(Kf.Provider,{value:_,children:e})};function wC(){return new Map}function Zb(e=!0){const t=O.useContext(Kf);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=t,l=O.useId();O.useEffect(()=>{if(e)return a(l)},[e]);const c=O.useCallback(()=>e&&r&&r(l),[l,r,e]);return!n&&r?[!1,c]:[!0]}const Gh=e=>e.key||"";function w2(e){const t=[];return O.Children.forEach(e,n=>{O.isValidElement(n)&&t.push(n)}),t}const Yf=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:d="left"})=>{const[m,p]=Zb(c),y=O.useMemo(()=>w2(e),[e]),_=c&&!m?[]:y.map(Gh),b=O.useRef(!0),x=O.useRef(y),C=Jg(()=>new Map),[U,N]=O.useState(y),[k,G]=O.useState(y);lb(()=>{b.current=!1,x.current=y;for(let J=0;J<k.length;J++){const lt=Gh(k[J]);_.includes(lt)?C.delete(lt):C.get(lt)!==!0&&C.set(lt,!1)}},[k,_.length,_.join("-")]);const Y=[];if(y!==U){let J=[...y];for(let lt=0;lt<k.length;lt++){const V=k[lt],R=Gh(V);_.includes(R)||(J.splice(lt,0,V),Y.push(V))}return l==="wait"&&Y.length&&(J=Y),G(w2(J)),N(y),null}const{forceRender:st}=O.useContext(Zg);return S.jsx(S.Fragment,{children:k.map(J=>{const lt=Gh(J),V=c&&!m?!1:y===k||_.includes(lt),R=()=>{if(C.has(lt))C.set(lt,!0);else return;let I=!0;C.forEach(P=>{P||(I=!1)}),I&&(st==null||st(),G(x.current),c&&(p==null||p()),r&&r())};return S.jsx(bC,{isPresent:V,initial:!b.current||n?void 0:!1,custom:t,presenceAffectsLayout:a,mode:l,onExitComplete:V?void 0:R,anchorX:d,children:J},lt)})})},Jb=O.createContext({strict:!1}),S2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},jo={};for(const e in S2)jo[e]={isEnabled:t=>S2[e].some(n=>!!t[n])};function SC(e){for(const t in e)jo[t]={...jo[t],...e[t]}}const AC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Tf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||AC.has(e)}let tw=e=>!Tf(e);function xC(e){e&&(tw=t=>t.startsWith("on")?!Tf(t):e(t))}try{xC(require("@emotion/is-prop-valid").default)}catch{}function RC(e,t,n){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(tw(a)||n===!0&&Tf(a)||!t&&!Tf(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}function CC(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const $f=O.createContext({});function Qf(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Bu(e){return typeof e=="string"||Array.isArray(e)}const Sy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ay=["initial",...Sy];function Xf(e){return Qf(e.animate)||Ay.some(t=>Bu(e[t]))}function ew(e){return!!(Xf(e)||e.variants)}function IC(e,t){if(Xf(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Bu(n)?n:void 0,animate:Bu(r)?r:void 0}}return e.inherit!==!1?t:{}}function DC(e){const{initial:t,animate:n}=IC(e,O.useContext($f));return O.useMemo(()=>({initial:t,animate:n}),[A2(t),A2(n)])}function A2(e){return Array.isArray(e)?e.join(" "):e}const NC=Symbol.for("motionComponentSymbol");function Io(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function MC(e,t,n){return O.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Io(n)&&(n.current=r))},[t])}const xy=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),VC="framerAppearId",nw="data-"+xy(VC),iw=O.createContext({});function PC(e,t,n,r,a){var U,N;const{visualElement:l}=O.useContext($f),c=O.useContext(Jb),d=O.useContext(Kf),m=O.useContext(wy).reducedMotion,p=O.useRef(null);r=r||c.renderer,!p.current&&r&&(p.current=r(e,{visualState:t,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const y=p.current,_=O.useContext(iw);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&OC(p.current,n,a,_);const b=O.useRef(!1);O.useInsertionEffect(()=>{y&&b.current&&y.update(n,d)});const x=n[nw],C=O.useRef(!!x&&!((U=window.MotionHandoffIsComplete)!=null&&U.call(window,x))&&((N=window.MotionHasOptimisedAnimation)==null?void 0:N.call(window,x)));return lb(()=>{y&&(b.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),Ey.render(y.render),C.current&&y.animationState&&y.animationState.animateChanges())}),O.useEffect(()=>{y&&(!C.current&&y.animationState&&y.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var k;(k=window.MotionHandoffMarkAsComplete)==null||k.call(window,x)}),C.current=!1))}),y}function OC(e,t,n,r){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:rw(e.parent)),e.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&Io(d),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,crossfade:y,layoutScroll:m,layoutRoot:p})}function rw(e){if(e)return e.options.allowProjection!==!1?e.projection:rw(e.parent)}function kC({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:a}){e&&SC(e);function l(d,m){let p;const y={...O.useContext(wy),...d,layoutId:LC(d)},{isStatic:_}=y,b=DC(d),x=r(d,_);if(!_&&ty){UC();const C=jC(y);p=C.MeasureLayout,b.visualElement=PC(a,x,y,t,C.ProjectionNode)}return S.jsxs($f.Provider,{value:b,children:[p&&b.visualElement?S.jsx(p,{visualElement:b.visualElement,...y}):null,n(a,d,MC(x,b.visualElement,m),x,_,b.visualElement)]})}l.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const c=O.forwardRef(l);return c[NC]=a,c}function LC({layoutId:e}){const t=O.useContext(Zg).id;return t&&e!==void 0?t+"-"+e:e}function UC(e,t){O.useContext(Jb).strict}function jC(e){const{drag:t,layout:n}=jo;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Fu={};function zC(e){for(const t in e)Fu[t]=e[t],ly(t)&&(Fu[t].isCSSVariable=!0)}function sw(e,{layout:t,layoutId:n}){return Jo.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Fu[e]||e==="opacity")}const BC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},FC=Zo.length;function HC(e,t,n){let r="",a=!0;for(let l=0;l<FC;l++){const c=Zo[l],d=e[c];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(c.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||n){const p=Yb(d,Ty[c]);if(!m){a=!1;const y=BC[c]||c;r+=`${y}(${p}) `}n&&(t[c]=p)}}return r=r.trim(),n?r=n(t,a?"":r):a&&(r="none"),r}function Ry(e,t,n){const{style:r,vars:a,transformOrigin:l}=e;let c=!1,d=!1;for(const m in t){const p=t[m];if(Jo.has(m)){c=!0;continue}else if(ly(m)){a[m]=p;continue}else{const y=Yb(p,Ty[m]);m.startsWith("origin")?(d=!0,l[m]=y):r[m]=y}}if(t.transform||(c||n?r.transform=HC(t,e.transform,n):r.transform&&(r.transform="none")),d){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;r.transformOrigin=`${m} ${p} ${y}`}}const Cy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function aw(e,t,n){for(const r in t)!an(t[r])&&!sw(r,n)&&(e[r]=t[r])}function qC({transformTemplate:e},t){return O.useMemo(()=>{const n=Cy();return Ry(n,t,e),Object.assign({},n.vars,n.style)},[t])}function GC(e,t){const n=e.style||{},r={};return aw(r,n,e),Object.assign(r,qC(e,t)),r}function KC(e,t){const n={},r=GC(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const YC={offset:"stroke-dashoffset",array:"stroke-dasharray"},$C={offset:"strokeDashoffset",array:"strokeDasharray"};function QC(e,t,n=1,r=0,a=!0){e.pathLength=1;const l=a?YC:$C;e[l.offset]=bt.transform(-r);const c=bt.transform(t),d=bt.transform(n);e[l.array]=`${c} ${d}`}function ow(e,{attrX:t,attrY:n,attrScale:r,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},m,p,y){if(Ry(e,d,p),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:_,style:b}=e;_.transform&&(b.transform=_.transform,delete _.transform),(b.transform||_.transformOrigin)&&(b.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),b.transform&&(b.transformBox=(y==null?void 0:y.transformBox)??"fill-box",delete _.transformBox),t!==void 0&&(_.x=t),n!==void 0&&(_.y=n),r!==void 0&&(_.scale=r),a!==void 0&&QC(_,a,l,c,!1)}const lw=()=>({...Cy(),attrs:{}}),uw=e=>typeof e=="string"&&e.toLowerCase()==="svg";function XC(e,t,n,r){const a=O.useMemo(()=>{const l=lw();return ow(l,t,uw(r),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};aw(l,e.style,e),a.style={...l,...a.style}}return a}const WC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Iy(e){return typeof e!="string"||e.includes("-")?!1:!!(WC.indexOf(e)>-1||/[A-Z]/u.test(e))}function ZC(e=!1){return(n,r,a,{latestValues:l},c)=>{const m=(Iy(n)?XC:KC)(r,l,c,n),p=RC(r,typeof n=="string",e),y=n!==O.Fragment?{...p,...m,ref:a}:{},{children:_}=r,b=O.useMemo(()=>an(_)?_.get():_,[_]);return O.createElement(n,{...y,children:b})}}function x2(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Dy(e,t,n,r){if(typeof t=="function"){const[a,l]=x2(r);t=t(n!==void 0?n:e.custom,a,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,l]=x2(r);t=t(n!==void 0?n:e.custom,a,l)}return t}function sf(e){return an(e)?e.get():e}function JC({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,a){return{latestValues:tI(n,r,a,e),renderState:t()}}const cw=e=>(t,n)=>{const r=O.useContext($f),a=O.useContext(Kf),l=()=>JC(e,t,r,a);return n?l():Jg(l)};function tI(e,t,n,r){const a={},l=r(e,{});for(const b in l)a[b]=sf(l[b]);let{initial:c,animate:d}=e;const m=Xf(e),p=ew(e);t&&p&&!m&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const _=y?d:c;if(_&&typeof _!="boolean"&&!Qf(_)){const b=Array.isArray(_)?_:[_];for(let x=0;x<b.length;x++){const C=Dy(e,b[x]);if(C){const{transitionEnd:U,transition:N,...k}=C;for(const G in k){let Y=k[G];if(Array.isArray(Y)){const st=y?Y.length-1:0;Y=Y[st]}Y!==null&&(a[G]=Y)}for(const G in U)a[G]=U[G]}}}return a}function Ny(e,t,n){var l;const{style:r}=e,a={};for(const c in r)(an(r[c])||t.style&&an(t.style[c])||sw(c,e)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(a[c]=r[c]);return a}const eI={useVisualState:cw({scrapeMotionValuesFromProps:Ny,createRenderState:Cy})};function hw(e,t,n){const r=Ny(e,t,n);for(const a in e)if(an(e[a])||an(t[a])){const l=Zo.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[l]=e[a]}return r}const nI={useVisualState:cw({scrapeMotionValuesFromProps:hw,createRenderState:lw})};function iI(e,t){return function(r,{forwardMotionProps:a}={forwardMotionProps:!1}){const c={...Iy(r)?nI:eI,preloadedFeatures:e,useRender:ZC(a),createVisualElement:t,Component:r};return kC(c)}}function Hu(e,t,n){const r=e.getProps();return Dy(r,t,n!==void 0?n:r.custom,e)}const cg=e=>Array.isArray(e);function rI(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Uo(n))}function sI(e){return cg(e)?e[e.length-1]||0:e}function aI(e,t){const n=Hu(e,t);let{transitionEnd:r={},transition:a={},...l}=n||{};l={...l,...r};for(const c in l){const d=sI(l[c]);rI(e,c,d)}}function oI(e){return!!(an(e)&&e.add)}function hg(e,t){const n=e.getValue("willChange");if(oI(n))return n.add(t);if(!n&&pr.WillChange){const r=new pr.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function fw(e){return e.props[nw]}const lI=e=>e!==null;function uI(e,{repeat:t,repeatType:n="loop"},r){const a=e.filter(lI),l=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[l]}const cI={type:"spring",stiffness:500,damping:25,restSpeed:10},hI=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),fI={type:"keyframes",duration:.8},dI={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},mI=(e,{keyframes:t})=>t.length>2?fI:Jo.has(e)?e.startsWith("scale")?hI(t[1]):cI:dI;function pI({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const My=(e,t,n,r={},a,l)=>c=>{const d=_y(r,e)||{},m=d.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Ai(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-p,onUpdate:b=>{t.set(b),d.onUpdate&&d.onUpdate(b)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:l?void 0:a};pI(d)||Object.assign(y,mI(e,y)),y.duration&&(y.duration=Ai(y.duration)),y.repeatDelay&&(y.repeatDelay=Ai(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(_=!0)),(pr.instantAnimations||pr.skipAnimations)&&(_=!0,y.duration=0,y.delay=0),y.allowFlatten=!d.type&&!d.ease,_&&!l&&t.get()!==void 0){const b=uI(y.keyframes,d);if(b!==void 0){ue.update(()=>{y.onUpdate(b),y.onComplete()});return}}return d.isSync?new gy(y):new Q3(y)};function gI({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function dw(e,t,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...d}=t;r&&(l=r);const m=[],p=a&&e.animationState&&e.animationState.getState()[a];for(const y in d){const _=e.getValue(y,e.latestValues[y]??null),b=d[y];if(b===void 0||p&&gI(p,y))continue;const x={delay:n,..._y(l||{},y)},C=_.get();if(C!==void 0&&!_.isAnimating&&!Array.isArray(b)&&b===C&&!x.velocity)continue;let U=!1;if(window.MotionHandoffAnimation){const k=fw(e);if(k){const G=window.MotionHandoffAnimation(k,y,ue);G!==null&&(x.startTime=G,U=!0)}}hg(e,y),_.start(My(y,_,b,e.shouldReduceMotion&&Fb.has(y)?{type:!1}:x,e,U));const N=_.animation;N&&m.push(N)}return c&&Promise.all(m).then(()=>{ue.update(()=>{c&&aI(e,c)})}),m}function fg(e,t,n={}){var m;const r=Hu(e,t,n.type==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const l=r?()=>Promise.all(dw(e,r,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(p=0)=>{const{delayChildren:y=0,staggerChildren:_,staggerDirection:b}=a;return yI(e,t,y+p,_,b,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[p,y]=d==="beforeChildren"?[l,c]:[c,l];return p().then(()=>y())}else return Promise.all([l(),c(n.delay)])}function yI(e,t,n=0,r=0,a=1,l){const c=[],d=(e.variantChildren.size-1)*r,m=a===1?(p=0)=>p*r:(p=0)=>d-p*r;return Array.from(e.variantChildren).sort(vI).forEach((p,y)=>{p.notify("AnimationStart",t),c.push(fg(p,t,{...l,delay:n+m(y)}).then(()=>p.notify("AnimationComplete",t)))}),Promise.all(c)}function vI(e,t){return e.sortNodePosition(t)}function _I(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(l=>fg(e,l,n));r=Promise.all(a)}else if(typeof t=="string")r=fg(e,t,n);else{const a=typeof t=="function"?Hu(e,t,n.custom):t;r=Promise.all(dw(e,a,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function mw(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const TI=Ay.length;function pw(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?pw(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<TI;n++){const r=Ay[n],a=e.props[r];(Bu(a)||a===!1)&&(t[r]=a)}return t}const EI=[...Sy].reverse(),bI=Sy.length;function wI(e){return t=>Promise.all(t.map(({animation:n,options:r})=>_I(e,n,r)))}function SI(e){let t=wI(e),n=R2(),r=!0;const a=m=>(p,y)=>{var b;const _=Hu(e,y,m==="exit"?(b=e.presenceContext)==null?void 0:b.custom:void 0);if(_){const{transition:x,transitionEnd:C,...U}=_;p={...p,...U,...C}}return p};function l(m){t=m(e)}function c(m){const{props:p}=e,y=pw(e.parent)||{},_=[],b=new Set;let x={},C=1/0;for(let N=0;N<bI;N++){const k=EI[N],G=n[k],Y=p[k]!==void 0?p[k]:y[k],st=Bu(Y),J=k===m?G.isActive:null;J===!1&&(C=N);let lt=Y===y[k]&&Y!==p[k]&&st;if(lt&&r&&e.manuallyAnimateOnMount&&(lt=!1),G.protectedKeys={...x},!G.isActive&&J===null||!Y&&!G.prevProp||Qf(Y)||typeof Y=="boolean")continue;const V=AI(G.prevProp,Y);let R=V||k===m&&G.isActive&&!lt&&st||N>C&&st,I=!1;const P=Array.isArray(Y)?Y:[Y];let z=P.reduce(a(k),{});J===!1&&(z={});const{prevResolvedValues:F={}}=G,M={...F,...z},Ee=at=>{R=!0,b.has(at)&&(I=!0,b.delete(at)),G.needsAnimating[at]=!0;const ft=e.getValue(at);ft&&(ft.liveStyle=!1)};for(const at in M){const ft=z[at],kt=F[at];if(x.hasOwnProperty(at))continue;let L=!1;cg(ft)&&cg(kt)?L=!mw(ft,kt):L=ft!==kt,L?ft!=null?Ee(at):b.add(at):ft!==void 0&&b.has(at)?Ee(at):G.protectedKeys[at]=!0}G.prevProp=Y,G.prevResolvedValues=z,G.isActive&&(x={...x,...z}),r&&e.blockInitialAnimation&&(R=!1),R&&(!(lt&&V)||I)&&_.push(...P.map(at=>({animation:at,options:{type:k}})))}if(b.size){const N={};if(typeof p.initial!="boolean"){const k=Hu(e,Array.isArray(p.initial)?p.initial[0]:p.initial);k&&k.transition&&(N.transition=k.transition)}b.forEach(k=>{const G=e.getBaseTarget(k),Y=e.getValue(k);Y&&(Y.liveStyle=!0),N[k]=G??null}),_.push({animation:N})}let U=!!_.length;return r&&(p.initial===!1||p.initial===p.animate)&&!e.manuallyAnimateOnMount&&(U=!1),r=!1,U?t(_):Promise.resolve()}function d(m,p){var _;if(n[m].isActive===p)return Promise.resolve();(_=e.variantChildren)==null||_.forEach(b=>{var x;return(x=b.animationState)==null?void 0:x.setActive(m,p)}),n[m].isActive=p;const y=c(m);for(const b in n)n[b].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=R2(),r=!0}}}function AI(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!mw(t,e):!1}function fa(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function R2(){return{animate:fa(!0),whileInView:fa(),whileHover:fa(),whileTap:fa(),whileDrag:fa(),whileFocus:fa(),exit:fa()}}class Ss{constructor(t){this.isMounted=!1,this.node=t}update(){}}class xI extends Ss{constructor(t){super(t),t.animationState||(t.animationState=SI(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Qf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let RI=0;class CI extends Ss{constructor(){super(...arguments),this.id=RI++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const II={animation:{Feature:xI},exit:{Feature:CI}};function qu(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function ac(e){return{point:{x:e.pageX,y:e.pageY}}}const DI=e=>t=>by(t)&&e(t,ac(t));function Cu(e,t,n,r){return qu(e,t,DI(n),r)}function gw({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function NI({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function MI(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const yw=1e-4,VI=1-yw,PI=1+yw,vw=.01,OI=0-vw,kI=0+vw;function fn(e){return e.max-e.min}function LI(e,t,n){return Math.abs(e-t)<=n}function C2(e,t,n,r=.5){e.origin=r,e.originPoint=le(t.min,t.max,e.origin),e.scale=fn(n)/fn(t),e.translate=le(n.min,n.max,e.origin)-e.originPoint,(e.scale>=VI&&e.scale<=PI||isNaN(e.scale))&&(e.scale=1),(e.translate>=OI&&e.translate<=kI||isNaN(e.translate))&&(e.translate=0)}function Iu(e,t,n,r){C2(e.x,t.x,n.x,r?r.originX:void 0),C2(e.y,t.y,n.y,r?r.originY:void 0)}function I2(e,t,n){e.min=n.min+t.min,e.max=e.min+fn(t)}function UI(e,t,n){I2(e.x,t.x,n.x),I2(e.y,t.y,n.y)}function D2(e,t,n){e.min=t.min-n.min,e.max=e.min+fn(t)}function Du(e,t,n){D2(e.x,t.x,n.x),D2(e.y,t.y,n.y)}const N2=()=>({translate:0,scale:1,origin:0,originPoint:0}),Do=()=>({x:N2(),y:N2()}),M2=()=>({min:0,max:0}),_e=()=>({x:M2(),y:M2()});function Gn(e){return[e("x"),e("y")]}function Np(e){return e===void 0||e===1}function dg({scale:e,scaleX:t,scaleY:n}){return!Np(e)||!Np(t)||!Np(n)}function da(e){return dg(e)||_w(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function _w(e){return V2(e.x)||V2(e.y)}function V2(e){return e&&e!=="0%"}function Ef(e,t,n){const r=e-n,a=t*r;return n+a}function P2(e,t,n,r,a){return a!==void 0&&(e=Ef(e,a,r)),Ef(e,n,r)+t}function mg(e,t=0,n=1,r,a){e.min=P2(e.min,t,n,r,a),e.max=P2(e.max,t,n,r,a)}function Tw(e,{x:t,y:n}){mg(e.x,t.translate,t.scale,t.originPoint),mg(e.y,n.translate,n.scale,n.originPoint)}const O2=.999999999999,k2=1.0000000000001;function jI(e,t,n,r=!1){const a=n.length;if(!a)return;t.x=t.y=1;let l,c;for(let d=0;d<a;d++){l=n[d],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Mo(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,Tw(e,c)),r&&da(l.latestValues)&&Mo(e,l.latestValues))}t.x<k2&&t.x>O2&&(t.x=1),t.y<k2&&t.y>O2&&(t.y=1)}function No(e,t){e.min=e.min+t,e.max=e.max+t}function L2(e,t,n,r,a=.5){const l=le(e.min,e.max,a);mg(e,t,n,l,r)}function Mo(e,t){L2(e.x,t.x,t.scaleX,t.scale,t.originX),L2(e.y,t.y,t.scaleY,t.scale,t.originY)}function Ew(e,t){return gw(MI(e.getBoundingClientRect(),t))}function zI(e,t,n){const r=Ew(e,n),{scroll:a}=t;return a&&(No(r.x,a.offset.x),No(r.y,a.offset.y)),r}const bw=({current:e})=>e?e.ownerDocument.defaultView:null,U2=(e,t)=>Math.abs(e-t);function BI(e,t){const n=U2(e.x,t.x),r=U2(e.y,t.y);return Math.sqrt(n**2+r**2)}class ww{constructor(t,n,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Vp(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,x=BI(_.offset,{x:0,y:0})>=3;if(!b&&!x)return;const{point:C}=_,{timestamp:U}=Ye;this.history.push({...C,timestamp:U});const{onStart:N,onMove:k}=this.handlers;b||(N&&N(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,_)},this.handlePointerMove=(_,b)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=Mp(b,this.transformPagePoint),ue.update(this.updatePoint,!0)},this.handlePointerUp=(_,b)=>{this.end();const{onEnd:x,onSessionEnd:C,resumeAnimation:U}=this.handlers;if(this.dragSnapToOrigin&&U&&U(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=Vp(_.type==="pointercancel"?this.lastMoveEventInfo:Mp(b,this.transformPagePoint),this.history);this.startEvent&&x&&x(_,N),C&&C(_,N)},!by(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.contextWindow=a||window;const c=ac(t),d=Mp(c,this.transformPagePoint),{point:m}=d,{timestamp:p}=Ye;this.history=[{...m,timestamp:p}];const{onSessionStart:y}=n;y&&y(t,Vp(d,this.history)),this.removeListeners=ic(Cu(this.contextWindow,"pointermove",this.handlePointerMove),Cu(this.contextWindow,"pointerup",this.handlePointerUp),Cu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ds(this.updatePoint)}}function Mp(e,t){return t?{point:t(e.point)}:e}function j2(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Vp({point:e},t){return{point:e,delta:j2(e,Sw(t)),offset:j2(e,FI(t)),velocity:HI(t,.1)}}function FI(e){return e[0]}function Sw(e){return e[e.length-1]}function HI(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=Sw(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>Ai(t)));)n--;if(!r)return{x:0,y:0};const l=xi(a.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-r.x)/l,y:(a.y-r.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function qI(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?le(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?le(n,e,r.max):Math.min(e,n)),e}function z2(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function GI(e,{top:t,left:n,bottom:r,right:a}){return{x:z2(e.x,n,a),y:z2(e.y,t,r)}}function B2(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function KI(e,t){return{x:B2(e.x,t.x),y:B2(e.y,t.y)}}function YI(e,t){let n=.5;const r=fn(e),a=fn(t);return a>r?n=Uu(t.min,t.max-r,e.min):r>a&&(n=Uu(e.min,e.max-a,t.min)),mr(0,1,n)}function $I(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const pg=.35;function QI(e=pg){return e===!1?e=0:e===!0&&(e=pg),{x:F2(e,"left","right"),y:F2(e,"top","bottom")}}function F2(e,t,n){return{min:H2(e,t),max:H2(e,n)}}function H2(e,t){return typeof e=="number"?e:e[t]||0}const XI=new WeakMap;class WI{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=_e(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=y=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ac(y).point)},l=(y,_)=>{const{drag:b,dragPropagation:x,onDragStart:C}=this.getProps();if(b&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=hC(b),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Gn(N=>{let k=this.getAxisMotionValue(N).get()||0;if(Ri.test(k)){const{projection:G}=this.visualElement;if(G&&G.layout){const Y=G.layout.layoutBox[N];Y&&(k=fn(Y)*(parseFloat(k)/100))}}this.originPoint[N]=k}),C&&ue.postRender(()=>C(y,_)),hg(this.visualElement,"transform");const{animationState:U}=this.visualElement;U&&U.setActive("whileDrag",!0)},c=(y,_)=>{const{dragPropagation:b,dragDirectionLock:x,onDirectionLock:C,onDrag:U}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:N}=_;if(x&&this.currentDirection===null){this.currentDirection=ZI(N),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",_.point,N),this.updateAxis("y",_.point,N),this.visualElement.render(),U&&U(y,_)},d=(y,_)=>this.stop(y,_),m=()=>Gn(y=>{var _;return this.getAnimationState(y)==="paused"&&((_=this.getAxisMotionValue(y).animation)==null?void 0:_.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new ww(t,{onSessionStart:a,onStart:l,onMove:c,onSessionEnd:d,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:bw(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&ue.postRender(()=>l(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:a}=this.getProps();if(!r||!Kh(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=qI(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;t&&Io(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=GI(r.layoutBox,t):this.constraints=!1,this.elastic=QI(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Gn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=$I(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Io(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=zI(r,a.root,this.visualElement.getTransformPagePoint());let c=KI(a.layout.layoutBox,l);if(n){const d=n(NI(c));this.hasMutatedConstraints=!!d,d&&(c=gw(d))}return c}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},p=Gn(y=>{if(!Kh(y,n,this.currentDirection))return;let _=m&&m[y]||{};c&&(_={min:0,max:0});const b=a?200:1e6,x=a?40:1e7,C={type:"inertia",velocity:r?t[y]:0,bounceStiffness:b,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,C)});return Promise.all(p).then(d)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return hg(this.visualElement,t),r.start(My(t,r,0,n,this.visualElement,!1))}stopAnimation(){Gn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Gn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Gn(n=>{const{drag:r}=this.getProps();if(!Kh(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n];l.set(t[n]-le(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Io(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Gn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const m=d.get();a[c]=YI({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Gn(c=>{if(!Kh(c,t,null))return;const d=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];d.set(le(m,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;XI.set(this.visualElement,this);const t=this.visualElement.current,n=Cu(t,"pointerdown",m=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(m)}),r=()=>{const{dragConstraints:m}=this.getProps();Io(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ue.read(r);const c=qu(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(Gn(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=m[y].translate,_.set(_.get()+m[y].translate))}),this.visualElement.render())});return()=>{c(),n(),l(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=pg,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function Kh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function ZI(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class JI extends Ss{constructor(t){super(t),this.removeGroupControls=Kn,this.removeListeners=Kn,this.controls=new WI(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Kn}unmount(){this.removeGroupControls(),this.removeListeners()}}const q2=e=>(t,n)=>{e&&ue.postRender(()=>e(t,n))};class t5 extends Ss{constructor(){super(...arguments),this.removePointerDownListener=Kn}onPointerDown(t){this.session=new ww(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:bw(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:q2(t),onStart:q2(n),onMove:r,onEnd:(l,c)=>{delete this.session,a&&ue.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Cu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const af={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function G2(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const _u={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(bt.test(e))e=parseFloat(e);else return e;const n=G2(e,t.target.x),r=G2(e,t.target.y);return`${n}% ${r}%`}},e5={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,a=ms.parse(e);if(a.length>5)return r;const l=ms.createTransformer(e),c=typeof a[0]!="number"?1:0,d=n.x.scale*t.x,m=n.y.scale*t.y;a[0+c]/=d,a[1+c]/=m;const p=le(d,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}};class n5 extends O.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:l}=t;zC(i5),l&&(n.group&&n.group.add(l),r&&r.register&&a&&r.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),af.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:a,isPresent:l}=this.props,{projection:c}=r;return c&&(c.isPresent=l,a||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||ue.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Ey.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Aw(e){const[t,n]=Zb(),r=O.useContext(Zg);return S.jsx(n5,{...e,layoutGroup:r,switchLayoutGroup:O.useContext(iw),isPresent:t,safeToRemove:n})}const i5={borderRadius:{..._u,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:_u,borderTopRightRadius:_u,borderBottomLeftRadius:_u,borderBottomRightRadius:_u,boxShadow:e5};function r5(e,t,n){const r=an(e)?e:Uo(e);return r.start(My("",r,t,n)),r.animation}const s5=(e,t)=>e.depth-t.depth;class a5{constructor(){this.children=[],this.isDirty=!1}add(t){ey(this.children,t),this.isDirty=!0}remove(t){ny(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(s5),this.isDirty=!1,this.children.forEach(t)}}function o5(e,t){const n=vn.now(),r=({timestamp:a})=>{const l=a-n;l>=t&&(ds(r),e(l-t))};return ue.setup(r,!0),()=>ds(r)}const xw=["TopLeft","TopRight","BottomLeft","BottomRight"],l5=xw.length,K2=e=>typeof e=="string"?parseFloat(e):e,Y2=e=>typeof e=="number"||bt.test(e);function u5(e,t,n,r,a,l){a?(e.opacity=le(0,n.opacity??1,c5(r)),e.opacityExit=le(t.opacity??1,0,h5(r))):l&&(e.opacity=le(t.opacity??1,n.opacity??1,r));for(let c=0;c<l5;c++){const d=`border${xw[c]}Radius`;let m=$2(t,d),p=$2(n,d);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||Y2(m)===Y2(p)?(e[d]=Math.max(le(K2(m),K2(p),r),0),(Ri.test(p)||Ri.test(m))&&(e[d]+="%")):e[d]=p}(t.rotate||n.rotate)&&(e.rotate=le(t.rotate||0,n.rotate||0,r))}function $2(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const c5=Rw(0,.5,_b),h5=Rw(.5,.95,Kn);function Rw(e,t,n){return r=>r<e?0:r>t?1:n(Uu(e,t,r))}function Q2(e,t){e.min=t.min,e.max=t.max}function qn(e,t){Q2(e.x,t.x),Q2(e.y,t.y)}function X2(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function W2(e,t,n,r,a){return e-=t,e=Ef(e,1/n,r),a!==void 0&&(e=Ef(e,1/a,r)),e}function f5(e,t=0,n=1,r=.5,a,l=e,c=e){if(Ri.test(t)&&(t=parseFloat(t),t=le(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=le(l.min,l.max,r);e===l&&(d-=t),e.min=W2(e.min,t,n,d,a),e.max=W2(e.max,t,n,d,a)}function Z2(e,t,[n,r,a],l,c){f5(e,t[n],t[r],t[a],t.scale,l,c)}const d5=["x","scaleX","originX"],m5=["y","scaleY","originY"];function J2(e,t,n,r){Z2(e.x,t,d5,n?n.x:void 0,r?r.x:void 0),Z2(e.y,t,m5,n?n.y:void 0,r?r.y:void 0)}function tT(e){return e.translate===0&&e.scale===1}function Cw(e){return tT(e.x)&&tT(e.y)}function eT(e,t){return e.min===t.min&&e.max===t.max}function p5(e,t){return eT(e.x,t.x)&&eT(e.y,t.y)}function nT(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Iw(e,t){return nT(e.x,t.x)&&nT(e.y,t.y)}function iT(e){return fn(e.x)/fn(e.y)}function rT(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class g5{constructor(){this.members=[]}add(t){ey(this.members,t),t.scheduleRender()}remove(t){if(ny(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function y5(e,t,n){let r="";const a=e.x.translate/t.x,l=e.y.translate/t.y,c=(n==null?void 0:n.z)||0;if((a||l||c)&&(r=`translate3d(${a}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:_,rotateY:b,skewX:x,skewY:C}=n;p&&(r=`perspective(${p}px) ${r}`),y&&(r+=`rotate(${y}deg) `),_&&(r+=`rotateX(${_}deg) `),b&&(r+=`rotateY(${b}deg) `),x&&(r+=`skewX(${x}deg) `),C&&(r+=`skewY(${C}deg) `)}const d=e.x.scale*t.x,m=e.y.scale*t.y;return(d!==1||m!==1)&&(r+=`scale(${d}, ${m})`),r||"none"}const Pp=["","X","Y","Z"],v5={visibility:"hidden"},_5=1e3;let T5=0;function Op(e,t,n,r){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Dw(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=fw(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ue,!(a||l))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Dw(r)}function Nw({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(c={},d=t==null?void 0:t()){this.id=T5++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(w5),this.nodes.forEach(C5),this.nodes.forEach(I5),this.nodes.forEach(S5)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new a5)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new sy),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const m=this.eventHandlers.get(c);m&&m.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=Wb(c)&&!yC(c),this.instance=c;const{layoutId:d,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),e){let y;const _=()=>this.root.updateBlockedByResize=!1;e(c,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=o5(_,250),af.hasAnimatedSinceResize&&(af.hasAnimatedSinceResize=!1,this.nodes.forEach(aT))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:b,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||p.getDefaultTransition()||P5,{onLayoutAnimationStart:U,onLayoutAnimationComplete:N}=p.getProps(),k=!this.targetLayout||!Iw(this.targetLayout,x),G=!_&&b;if(this.options.layoutRoot||this.resumeFrom||G||_&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Y={..._y(C,"layout"),onPlay:U,onComplete:N};(p.shouldReduceMotion||this.options.layoutRoot)&&(Y.delay=0,Y.type=!1),this.startAnimation(Y),this.setAnimationOrigin(y,G)}else _||aT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ds(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(D5),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Dw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(sT);return}this.isUpdating||this.nodes.forEach(x5),this.isUpdating=!1,this.nodes.forEach(R5),this.nodes.forEach(E5),this.nodes.forEach(b5),this.clearAllSnapshots();const d=vn.now();Ye.delta=mr(0,1e3/60,d-Ye.timestamp),Ye.timestamp=d,Ye.isProcessing=!0,xp.update.process(Ye),xp.preRender.process(Ye),xp.render.process(Ye),Ye.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ey.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(A5),this.sharedNodes.forEach(N5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ue.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ue.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!fn(this.snapshot.measuredBox.x)&&!fn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=_e(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const m=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!Cw(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&this.instance&&(d||da(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return c&&(m=this.removeTransform(m)),O5(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return _e();const d=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(k5))){const{scroll:y}=this.root;y&&(No(d.x,y.offset.x),No(d.y,y.offset.y))}return d}removeElementScroll(c){var m;const d=_e();if(qn(d,c),(m=this.scroll)!=null&&m.wasRoot)return d;for(let p=0;p<this.path.length;p++){const y=this.path[p],{scroll:_,options:b}=y;y!==this.root&&_&&b.layoutScroll&&(_.wasRoot&&qn(d,c),No(d.x,_.offset.x),No(d.y,_.offset.y))}return d}applyTransform(c,d=!1){const m=_e();qn(m,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Mo(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),da(y.latestValues)&&Mo(m,y.latestValues)}return da(this.latestValues)&&Mo(m,this.latestValues),m}removeTransform(c){const d=_e();qn(d,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!da(p.latestValues))continue;dg(p.latestValues)&&p.updateSnapshot();const y=_e(),_=p.measurePageBox();qn(y,_),J2(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return da(this.latestValues)&&J2(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ye.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var b;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!(!this.layout||!(y||_))){if(this.resolvedRelativeTargetAt=Ye.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_e(),this.relativeTargetOrigin=_e(),Du(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),qn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=_e(),this.targetWithTransforms=_e()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),UI(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):qn(this.target,this.layout.layoutBox),Tw(this.target,this.targetDelta)):qn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_e(),this.relativeTargetOrigin=_e(),Du(this.relativeTargetOrigin,this.target,x.target),qn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||dg(this.parent.latestValues)||_w(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var C;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||(C=this.parent)!=null&&C.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Ye.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;qn(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,b=this.treeScale.y;jI(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=_e());const{target:x}=c;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(X2(this.prevProjectionDelta.x,this.projectionDelta.x),X2(this.prevProjectionDelta.y,this.projectionDelta.y)),Iu(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==b||!rT(this.projectionDelta.x,this.prevProjectionDelta.x)||!rT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Do(),this.projectionDelta=Do(),this.projectionDeltaWithTransform=Do()}setAnimationOrigin(c,d=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},_=Do();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const b=_e(),x=m?m.source:void 0,C=this.layout?this.layout.source:void 0,U=x!==C,N=this.getStack(),k=!N||N.members.length<=1,G=!!(U&&!k&&this.options.crossfade===!0&&!this.path.some(V5));this.animationProgress=0;let Y;this.mixTargetDelta=st=>{const J=st/1e3;oT(_.x,c.x,J),oT(_.y,c.y,J),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Du(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),M5(this.relativeTarget,this.relativeTargetOrigin,b,J),Y&&p5(this.relativeTarget,Y)&&(this.isProjectionDirty=!1),Y||(Y=_e()),qn(Y,this.relativeTarget)),U&&(this.animationValues=y,u5(y,p,this.latestValues,J,G,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=J},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var d,m,p;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(),(p=(m=this.resumingFrom)==null?void 0:m.currentAnimation)==null||p.stop(),this.pendingAnimation&&(ds(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ue.update(()=>{af.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Uo(0)),this.currentAnimation=r5(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:y=>{this.mixTargetDelta(y),c.onUpdate&&c.onUpdate(y)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(_5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:m,layout:p,latestValues:y}=c;if(!(!d||!m||!p)){if(this!==c&&this.layout&&p&&Mw(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||_e();const _=fn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+_;const b=fn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+b}qn(d,m),Mo(d,y),Iu(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new g5),this.sharedNodes.get(c).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var d;const{layoutId:c}=this.options;return c?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:c}=this.options;return c?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const p={};m.z&&Op("z",c,p,this.animationValues);for(let y=0;y<Pp.length;y++)Op(`rotate${Pp[y]}`,c,p,this.animationValues),Op(`skew${Pp[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}getProjectionStyles(c){if(!this.instance||this.isSVG)return;if(!this.isVisible)return v5;const d={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=sf(c==null?void 0:c.pointerEvents)||"",d.transform=m?m(this.latestValues,""):"none",d;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=sf(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!da(this.latestValues)&&(x.transform=m?m({},""):"none",this.hasProjected=!1),x}const y=p.animationValues||p.latestValues;this.applyTransformsToTarget(),d.transform=y5(this.projectionDeltaWithTransform,this.treeScale,y),m&&(d.transform=m(y,d.transform));const{x:_,y:b}=this.projectionDelta;d.transformOrigin=`${_.origin*100}% ${b.origin*100}% 0`,p.animationValues?d.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:d.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const x in Fu){if(y[x]===void 0)continue;const{correct:C,applyTo:U,isCSSVariable:N}=Fu[x],k=d.transform==="none"?y[x]:C(y[x],p);if(U){const G=U.length;for(let Y=0;Y<G;Y++)d[U[Y]]=k}else N?this.options.visualElement.renderState.vars[x]=k:d[x]=k}return this.options.layoutId&&(d.pointerEvents=p===this?sf(c==null?void 0:c.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(sT),this.root.sharedNodes.clear()}}}function E5(e){e.updateLayout()}function b5(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=e.layout,{animationType:l}=e.options,c=t.source!==e.layout.source;l==="size"?Gn(_=>{const b=c?t.measuredBox[_]:t.layoutBox[_],x=fn(b);b.min=r[_].min,b.max=b.min+x}):Mw(l,t.layoutBox,r)&&Gn(_=>{const b=c?t.measuredBox[_]:t.layoutBox[_],x=fn(r[_]);b.max=b.min+x,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[_].max=e.relativeTarget[_].min+x)});const d=Do();Iu(d,r,t.layoutBox);const m=Do();c?Iu(m,e.applyTransform(a,!0),t.measuredBox):Iu(m,r,t.layoutBox);const p=!Cw(d);let y=!1;if(!e.resumeFrom){const _=e.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:b,layout:x}=_;if(b&&x){const C=_e();Du(C,t.layoutBox,b.layoutBox);const U=_e();Du(U,r,x.layoutBox),Iw(C,U)||(y=!0),_.options.layoutRoot&&(e.relativeTarget=U,e.relativeTargetOrigin=C,e.relativeParent=_)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:m,layoutDelta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:y})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function w5(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function S5(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function A5(e){e.clearSnapshot()}function sT(e){e.clearMeasurements()}function x5(e){e.isLayoutDirty=!1}function R5(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function aT(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function C5(e){e.resolveTargetDelta()}function I5(e){e.calcProjection()}function D5(e){e.resetSkewAndRotation()}function N5(e){e.removeLeadSnapshot()}function oT(e,t,n){e.translate=le(t.translate,0,n),e.scale=le(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function lT(e,t,n,r){e.min=le(t.min,n.min,r),e.max=le(t.max,n.max,r)}function M5(e,t,n,r){lT(e.x,t.x,n.x,r),lT(e.y,t.y,n.y,r)}function V5(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const P5={duration:.45,ease:[.4,0,.1,1]},uT=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),cT=uT("applewebkit/")&&!uT("chrome/")?Math.round:Kn;function hT(e){e.min=cT(e.min),e.max=cT(e.max)}function O5(e){hT(e.x),hT(e.y)}function Mw(e,t,n){return e==="position"||e==="preserve-aspect"&&!LI(iT(t),iT(n),.2)}function k5(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const L5=Nw({attachResizeListener:(e,t)=>qu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),kp={current:void 0},Vw=Nw({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!kp.current){const e=new L5({});e.mount(window),e.setOptions({layoutScroll:!0}),kp.current=e}return kp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),U5={pan:{Feature:t5},drag:{Feature:JI,ProjectionNode:Vw,MeasureLayout:Aw}};function fT(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=r[a];l&&ue.postRender(()=>l(t,ac(t)))}class j5 extends Ss{mount(){const{current:t}=this.node;t&&(this.unmount=fC(t,(n,r)=>(fT(this.node,r,"Start"),a=>fT(this.node,a,"End"))))}unmount(){}}class z5 extends Ss{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ic(qu(this.node.current,"focus",()=>this.onFocus()),qu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function dT(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=r[a];l&&ue.postRender(()=>l(t,ac(t)))}class B5 extends Ss{mount(){const{current:t}=this.node;t&&(this.unmount=gC(t,(n,r)=>(dT(this.node,r,"Start"),(a,{success:l})=>dT(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const gg=new WeakMap,Lp=new WeakMap,F5=e=>{const t=gg.get(e.target);t&&t(e)},H5=e=>{e.forEach(F5)};function q5({root:e,...t}){const n=e||document;Lp.has(n)||Lp.set(n,{});const r=Lp.get(n),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(H5,{root:e,...t})),r[a]}function G5(e,t,n){const r=q5(t);return gg.set(e,n),r.observe(e),()=>{gg.delete(e),r.unobserve(e)}}const K5={some:0,all:1};class Y5 extends Ss{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:K5[a]},d=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),b=p?y:_;b&&b(m)};return G5(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some($5(t,n))&&this.startObserver()}unmount(){}}function $5({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Q5={inView:{Feature:Y5},tap:{Feature:B5},focus:{Feature:z5},hover:{Feature:j5}},X5={layout:{ProjectionNode:Vw,MeasureLayout:Aw}},yg={current:null},Pw={current:!1};function W5(){if(Pw.current=!0,!!ty)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>yg.current=e.matches;e.addListener(t),t()}else yg.current=!1}const Z5=new WeakMap;function J5(e,t,n){for(const r in t){const a=t[r],l=n[r];if(an(a))e.addValue(r,a);else if(an(l))e.addValue(r,Uo(a,{owner:e}));else if(l!==a)if(e.hasValue(r)){const c=e.getValue(r);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=e.getStaticValue(r);e.addValue(r,Uo(c!==void 0?c:a,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const mT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class tD{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=yy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=vn.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,ue.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=Xf(n),this.isVariantNode=ew(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in _){const x=_[b];m[b]!==void 0&&an(x)&&x.set(m[b],!1)}}mount(t){this.current=t,Z5.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Pw.current||W5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:yg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ds(this.notifyUpdate),ds(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Jo.has(t);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",d=>{this.latestValues[t]=d,this.props.onUpdate&&ue.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),l(),c&&c(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in jo){const n=jo[t];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[t]&&a&&r(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):_e()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<mT.length;r++){const a=mT[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=t[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=J5(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Uo(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(ub(r)||hb(r))?r=parseFloat(r):!_C(r)&&ms.test(n)&&(r=Kb(t,n)),this.setBaseTarget(t,an(r)?r.get():r)),an(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var l;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const c=Dy(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(r=c[t])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!an(a)?a:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new sy),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Ow extends tD{constructor(){super(...arguments),this.KeyframeResolver=oC}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;an(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function kw(e,{style:t,vars:n},r,a){Object.assign(e.style,t,a&&a.getProjectionStyles(r));for(const l in n)e.style.setProperty(l,n[l])}function eD(e){return window.getComputedStyle(e)}class nD extends Ow{constructor(){super(...arguments),this.type="html",this.renderInstance=kw}readValueFromInstance(t,n){var r;if(Jo.has(n))return(r=this.projection)!=null&&r.isProjecting?rg(n):x3(t,n);{const a=eD(t),l=(ly(n)?a.getPropertyValue(n):a[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Ew(t,n)}build(t,n,r){Ry(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Ny(t,n,r)}}const Lw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function iD(e,t,n,r){kw(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(Lw.has(a)?a:xy(a),t.attrs[a])}class rD extends Ow{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=_e}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Jo.has(n)){const r=Gb(n);return r&&r.default||0}return n=Lw.has(n)?n:xy(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return hw(t,n,r)}build(t,n,r){ow(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,a){iD(t,n,r,a)}mount(t){this.isSVGTag=uw(t.tagName),super.mount(t)}}const sD=(e,t)=>Iy(e)?new rD(t):new nD(t,{allowProjection:e!==O.Fragment}),aD=iI({...II,...Q5,...U5,...X5},sD),pe=CC(aD);var Uw={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},pT=as.createContext&&as.createContext(Uw),oD=["attr","size","title"];function lD(e,t){if(e==null)return{};var n=uD(e,t),r,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function uD(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function bf(){return bf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bf.apply(this,arguments)}function gT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function wf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gT(Object(n),!0).forEach(function(r){cD(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cD(e,t,n){return t=hD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hD(e){var t=fD(e,"string");return typeof t=="symbol"?t:t+""}function fD(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jw(e){return e&&e.map((t,n)=>as.createElement(t.tag,wf({key:n},t.attr),jw(t.child)))}function Ht(e){return t=>as.createElement(dD,bf({attr:wf({},e.attr)},t),jw(e.child))}function dD(e){var t=n=>{var{attr:r,size:a,title:l}=e,c=lD(e,oD),d=a||n.size||"1em",m;return n.className&&(m=n.className),e.className&&(m=(m?m+" ":"")+e.className),as.createElement("svg",bf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,c,{className:m,style:wf(wf({color:e.color||n.color},n.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&as.createElement("title",null,l),e.children)};return pT!==void 0?as.createElement(pT.Consumer,null,n=>t(n)):t(Uw)}function mD(e){return Ht({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"},child:[]}]})(e)}function pD(e){return Ht({attr:{viewBox:"0 0 528 512"},child:[{tag:"path",attr:{d:"M264.4 116.3l-132 84.3 132 84.3-132 84.3L0 284.1l132.3-84.3L0 116.3 132.3 32l132.1 84.3zM131.6 395.7l132-84.3 132 84.3-132 84.3-132-84.3zm132.8-111.6l132-84.3-132-83.6L395.7 32 528 116.3l-132.3 84.3L528 284.8l-132.3 84.3-131.3-85z"},child:[]}]})(e)}function Yh(e){return Ht({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(e)}function gD(e){return Ht({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 32h214.6v214.6H0V32zm233.4 0H448v214.6H233.4V32zM0 265.4h214.6V480H0V265.4zm233.4 0H448V480H233.4V265.4z"},child:[]}]})(e)}function yD(e){return Ht({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(e)}function vD(e){return Ht({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M208 0c-29.9 0-54.7 20.5-61.8 48.2-.8 0-1.4-.2-2.2-.2-35.3 0-64 28.7-64 64 0 4.8.6 9.5 1.7 14C52.5 138 32 166.6 32 200c0 12.6 3.2 24.3 8.3 34.9C16.3 248.7 0 274.3 0 304c0 33.3 20.4 61.9 49.4 73.9-.9 4.6-1.4 9.3-1.4 14.1 0 39.8 32.2 72 72 72 4.1 0 8.1-.5 12-1.2 9.6 28.5 36.2 49.2 68 49.2 39.8 0 72-32.2 72-72V64c0-35.3-28.7-64-64-64zm368 304c0-29.7-16.3-55.3-40.3-69.1 5.2-10.6 8.3-22.3 8.3-34.9 0-33.4-20.5-62-49.7-74 1-4.5 1.7-9.2 1.7-14 0-35.3-28.7-64-64-64-.8 0-1.5.2-2.2.2C422.7 20.5 397.9 0 368 0c-35.3 0-64 28.6-64 64v376c0 39.8 32.2 72 72 72 31.8 0 58.4-20.7 68-49.2 3.9.7 7.9 1.2 12 1.2 39.8 0 72-32.2 72-72 0-4.8-.5-9.5-1.4-14.1 29-12 49.4-40.6 49.4-73.9z"},child:[]}]})(e)}function Vy(e){return Ht({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function _D(e){return Ht({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(e)}function TD(e){return Ht({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm121.2 231.8l-143 141.8c-4.7 4.7-12.3 4.6-17-.1l-82.6-83.3c-4.7-4.7-4.6-12.3.1-17L99.1 285c4.7-4.7 12.3-4.6 17 .1l46 46.4 106-105.2c4.7-4.7 12.3-4.6 17 .1l28.2 28.4c4.7 4.8 4.6 12.3-.1 17z"},child:[]}]})(e)}function ED(e){return Ht({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32zM128 272c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(e)}function bD(e){return Ht({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M176 216h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16H176c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16zm-16 80c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16H176c-8.84 0-16 7.16-16 16v16zm96 121.13c-16.42 0-32.84-5.06-46.86-15.19L0 250.86V464c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V250.86L302.86 401.94c-14.02 10.12-30.44 15.19-46.86 15.19zm237.61-254.18c-8.85-6.94-17.24-13.47-29.61-22.81V96c0-26.51-21.49-48-48-48h-77.55c-3.04-2.2-5.87-4.26-9.04-6.56C312.6 29.17 279.2-.35 256 0c-23.2-.35-56.59 29.17-73.41 41.44-3.17 2.3-6 4.36-9.04 6.56H96c-26.51 0-48 21.49-48 48v44.14c-12.37 9.33-20.76 15.87-29.61 22.81A47.995 47.995 0 0 0 0 200.72v10.65l96 69.35V96h320v184.72l96-69.35v-10.65c0-14.74-6.78-28.67-18.39-37.77z"},child:[]}]})(e)}function wD(e){return Ht({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function zw(e){return Ht({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function SD(e){return Ht({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"},child:[]}]})(e)}function Bw(e){return Ht({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M640 130.94V96c0-17.67-14.33-32-32-32H32C14.33 64 0 78.33 0 96v34.94c18.6 6.61 32 24.19 32 45.06s-13.4 38.45-32 45.06V320h640v-98.94c-18.6-6.61-32-24.19-32-45.06s13.4-38.45 32-45.06zM224 256h-64V128h64v128zm128 0h-64V128h64v128zm128 0h-64V128h64v128zM0 448h64v-26.67c0-8.84 7.16-16 16-16s16 7.16 16 16V448h128v-26.67c0-8.84 7.16-16 16-16s16 7.16 16 16V448h128v-26.67c0-8.84 7.16-16 16-16s16 7.16 16 16V448h128v-26.67c0-8.84 7.16-16 16-16s16 7.16 16 16V448h64v-96H0v96z"},child:[]}]})(e)}function AD(e){return Ht({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(e)}function xD(e){return Ht({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(e)}function vg(e){return Ht({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 448H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h608c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM80.55 341.27c6.28 6.84 15.1 10.72 24.33 10.71l130.54-.18a65.62 65.62 0 0 0 29.64-7.12l290.96-147.65c26.74-13.57 50.71-32.94 67.02-58.31 18.31-28.48 20.3-49.09 13.07-63.65-7.21-14.57-24.74-25.27-58.25-27.45-29.85-1.94-59.54 5.92-86.28 19.48l-98.51 49.99-218.7-82.06a17.799 17.799 0 0 0-18-1.11L90.62 67.29c-10.67 5.41-13.25 19.65-5.17 28.53l156.22 98.1-103.21 52.38-72.35-36.47a17.804 17.804 0 0 0-16.07.02L9.91 230.22c-10.44 5.3-13.19 19.12-5.57 28.08l76.21 82.97z"},child:[]}]})(e)}function Fw(e){return Ht({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M32,224H64V416H32A31.96166,31.96166,0,0,1,0,384V256A31.96166,31.96166,0,0,1,32,224Zm512-48V448a64.06328,64.06328,0,0,1-64,64H160a64.06328,64.06328,0,0,1-64-64V176a79.974,79.974,0,0,1,80-80H288V32a32,32,0,0,1,64,0V96H464A79.974,79.974,0,0,1,544,176ZM264,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,264,256Zm-8,128H192v32h64Zm96,0H288v32h64ZM456,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,456,256Zm-8,128H384v32h64ZM640,256V384a31.96166,31.96166,0,0,1-32,32H576V224h32A31.96166,31.96166,0,0,1,640,256Z"},child:[]}]})(e)}function RD(e){return Ht({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(e)}function CD(e){return Ht({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z"},child:[]}]})(e)}function Hw(e){return Ht({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M139.61 35.5a12 12 0 0 0-17 0L58.93 98.81l-22.7-22.12a12 12 0 0 0-17 0L3.53 92.41a12 12 0 0 0 0 17l47.59 47.4a12.78 12.78 0 0 0 17.61 0l15.59-15.62L156.52 69a12.09 12.09 0 0 0 .09-17zm0 159.19a12 12 0 0 0-17 0l-63.68 63.72-22.7-22.1a12 12 0 0 0-17 0L3.53 252a12 12 0 0 0 0 17L51 316.5a12.77 12.77 0 0 0 17.6 0l15.7-15.69 72.2-72.22a12 12 0 0 0 .09-16.9zM64 368c-26.49 0-48.59 21.5-48.59 48S37.53 464 64 464a48 48 0 0 0 0-96zm432 16H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(e)}function ID(e){return Ht({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(e)}function DD(){const[e,t]=O.useState(!0);return O.useEffect(()=>{const n=()=>{t(window.scrollY<50)};return window.addEventListener("scroll",n),()=>window.removeEventListener("scroll",n)},[]),e?S.jsx(pe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"absolute bottom-6 left-0 right-0 flex justify-center z-20",children:S.jsx(_D,{className:"text-rose-400 dark:text-rose-500 animate-bounce",size:20})}):null}function ND(){const e=ws();return S.jsx(S.Fragment,{children:S.jsx(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"bg-white dark:bg-gray-900",children:S.jsxs("section",{className:"min-h-[85vh] flex flex-col items-center justify-center text-center px-6 py-20 transition-colors relative",children:[S.jsx("img",{src:"/assets/images/DonnaCircleColored.png",alt:"Donna Assistant",className:"w-32 h-32 rounded-full shadow-lg mb-6"}),S.jsx("h1",{className:"text-4xl sm:text-5xl font-bold text-rose-500 mb-4",children:"Meet Donna"}),S.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-lg sm:text-xl max-w-xl mb-8",children:"Your AI assistant for work and life  scheduling, emails, reminders, and more."}),S.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:[S.jsx("button",{onClick:()=>e("/waitlist"),className:"bg-rose-500 hover:bg-rose-600 text-white font-semibold px-6 py-3 rounded-xl shadow transition",children:"Join the Waitlist"}),S.jsx("button",{onClick:()=>e("/explore"),className:"text-rose-600 dark:text-rose-400 hover:text-white hover:bg-rose-100 dark:hover:bg-rose-600 font-semibold px-6 py-3 rounded-xl transition",children:"Explore Donna"})]})]})})})}function MD(e){return Ht({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M6 1.807L0 5.629l6 3.822 6.001-3.822L6 1.807zM18 1.807l-6 3.822 6 3.822 6-3.822-6-3.822zM0 13.274l6 3.822 6.001-3.822L6 9.452l-6 3.822zM18 9.452l-6 3.822 6 3.822 6-3.822-6-3.822zM6 18.371l6.001 3.822 6-3.822-6-3.822L6 18.371z"},child:[]}]})(e)}function VD(e){return Ht({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"},child:[]}]})(e)}function PD(e){return Ht({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z"},child:[]}]})(e)}function OD(e){return Ht({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"},child:[]}]})(e)}function kD(e){return Ht({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M4.459 4.208c.746.606 1.026.56 2.428.466l13.215-.793c.28 0 .047-.28-.046-.326L17.86 1.968c-.42-.326-.981-.7-2.055-.607L3.01 2.295c-.466.046-.56.28-.374.466zm.793 3.08v13.904c0 .747.373 1.027 1.214.98l14.523-.84c.841-.046.935-.56.935-1.167V6.354c0-.606-.233-.933-.748-.887l-15.177.887c-.56.047-.747.327-.747.933zm14.337.745c.093.42 0 .84-.42.888l-.7.14v10.264c-.608.327-1.168.514-1.635.514-.748 0-.935-.234-1.495-.933l-4.577-7.186v6.952L12.21 19s0 .84-1.168.84l-3.222.186c-.093-.186 0-.653.327-.746l.84-.233V9.854L7.822 9.76c-.094-.42.14-1.026.793-1.073l3.456-.233 4.764 7.279v-6.44l-1.215-.139c-.093-.514.28-.887.747-.933zM1.936 1.035l13.31-.98c1.634-.14 2.055-.047 3.082.7l4.249 2.986c.7.513.934.653.934 1.213v16.378c0 1.026-.373 1.634-1.68 1.726l-15.458.934c-.98.047-1.448-.093-1.962-.747l-3.129-4.06c-.56-.747-.793-1.306-.793-1.96V2.667c0-.839.374-1.54 1.447-1.632z"},child:[]}]})(e)}function LD(e){return Ht({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M22.2819 9.8211a5.9847 5.9847 0 0 0-.5157-4.9108 6.0462 6.0462 0 0 0-6.5098-2.9A6.0651 6.0651 0 0 0 4.9807 4.1818a5.9847 5.9847 0 0 0-3.9977 2.9 6.0462 6.0462 0 0 0 .7427 7.0966 5.98 5.98 0 0 0 .511 4.9107 6.051 6.051 0 0 0 6.5146 2.9001A5.9847 5.9847 0 0 0 13.2599 24a6.0557 6.0557 0 0 0 5.7718-4.2058 5.9894 5.9894 0 0 0 3.9977-2.9001 6.0557 6.0557 0 0 0-.7475-7.0729zm-9.022 12.6081a4.4755 4.4755 0 0 1-2.8764-1.0408l.1419-.0804 4.7783-2.7582a.7948.7948 0 0 0 .3927-.6813v-6.7369l2.02 1.1686a.071.071 0 0 1 .038.052v5.5826a4.504 4.504 0 0 1-4.4945 4.4944zm-9.6607-4.1254a4.4708 4.4708 0 0 1-.5346-3.0137l.142.0852 4.783 2.7582a.7712.7712 0 0 0 .7806 0l5.8428-3.3685v2.3324a.0804.0804 0 0 1-.0332.0615L9.74 19.9502a4.4992 4.4992 0 0 1-6.1408-1.6464zM2.3408 7.8956a4.485 4.485 0 0 1 2.3655-1.9728V11.6a.7664.7664 0 0 0 .3879.6765l5.8144 3.3543-2.0201 1.1685a.0757.0757 0 0 1-.071 0l-4.8303-2.7865A4.504 4.504 0 0 1 2.3408 7.872zm16.5963 3.8558L13.1038 8.364 15.1192 7.2a.0757.0757 0 0 1 .071 0l4.8303 2.7913a4.4944 4.4944 0 0 1-.6765 8.1042v-5.6772a.79.79 0 0 0-.407-.667zm2.0107-3.0231l-.142-.0852-4.7735-2.7818a.7759.7759 0 0 0-.7854 0L9.409 9.2297V6.8974a.0662.0662 0 0 1 .0284-.0615l4.8303-2.7866a4.4992 4.4992 0 0 1 6.6802 4.66zM8.3065 12.863l-2.02-1.1638a.0804.0804 0 0 1-.038-.0567V6.0742a4.4992 4.4992 0 0 1 7.3757-3.4537l-.142.0805L8.704 5.459a.7948.7948 0 0 0-.3927.6813zm1.0976-2.3654l2.602-1.4998 2.6069 1.4998v2.9994l-2.5974 1.4997-2.6067-1.4997Z"},child:[]}]})(e)}function UD(e){return Ht({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"},child:[]}]})(e)}function jD(e){return Ht({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5.033 14.649H.743a.74.74 0 0 1-.686-.458.74.74 0 0 1 .16-.808L3.19 10.41H1.06A1.06 1.06 0 0 1 0 9.35h3.957c.301 0 .57.18.686.458a.74.74 0 0 1-.161.808L1.51 13.59h2.464c.585 0 1.06.475 1.06 1.06zM24 11.338c0-1.14-.927-2.066-2.066-2.066-.61 0-1.158.265-1.537.686a2.061 2.061 0 0 0-1.536-.686c-1.14 0-2.066.926-2.066 2.066v3.311a1.06 1.06 0 0 0 1.06-1.06v-2.251a1.004 1.004 0 0 1 2.013 0v2.251c0 .586.474 1.06 1.06 1.06v-3.311a1.004 1.004 0 0 1 2.012 0v2.251c0 .586.475 1.06 1.06 1.06zM16.265 12a2.728 2.728 0 1 1-5.457 0 2.728 2.728 0 0 1 5.457 0zm-1.06 0a1.669 1.669 0 1 0-3.338 0 1.669 1.669 0 0 0 3.338 0zm-4.82 0a2.728 2.728 0 1 1-5.458 0 2.728 2.728 0 0 1 5.457 0zm-1.06 0a1.669 1.669 0 1 0-3.338 0 1.669 1.669 0 0 0 3.338 0z"},child:[]}]})(e)}const Up=[PD,LD,kD,VD,UD,jD,MD,OD];function zD(){return S.jsxs("section",{className:"py-16 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 relative",children:[S.jsx("h2",{className:"text-center text-3xl font-semibold text-gray-800 dark:text-white mb-12",children:"Seamlessly integrates with your favorite tools"}),S.jsxs("div",{className:"relative overflow-hidden w-full max-w-6xl mx-auto",children:[S.jsx("div",{className:"absolute left-0 top-0 h-full w-12 bg-gradient-to-r from-white dark:from-gray-900 to-transparent z-10 pointer-events-none"}),S.jsx("div",{className:"absolute right-0 top-0 h-full w-12 bg-gradient-to-l from-white dark:from-gray-900 to-transparent z-10 pointer-events-none"}),S.jsx(pe.div,{initial:{x:0},animate:{x:"-33.3333%"},transition:{repeat:1/0,duration:36,ease:"linear"},className:"flex gap-20 items-center min-w-[300%] px-6",children:[...Up,...Up,...Up].map((e,t)=>S.jsx("div",{className:"flex-shrink-0",children:S.jsx(e,{size:36,className:"text-gray-400 dark:text-gray-500 hover:text-rose-500 transition-colors",title:"Integrated platform"})},t))})]})]})}const BD=[{title:"Smart Scheduling",icon:S.jsx(Vy,{size:32}),description:"Automatically schedules meetings, resolves conflicts, and syncs with your calendar."},{title:"Inbox Insights",icon:S.jsx(bD,{size:32}),description:"Summarizes emails and highlights what matters so you dont miss anything."},{title:"Intelligent Memory",icon:S.jsx(SD,{size:32}),description:"Remembers key facts, links, and tasks mentioned across your day."},{title:"Proactive Reminders",icon:S.jsx(yD,{size:32}),description:"Follows up on messages, commitments, and deadlinesautomatically."}];function FD(){return S.jsxs("section",{className:"py-20 bg-white dark:bg-gray-900 transition-colors",children:[S.jsx("h2",{className:"text-center text-3xl font-semibold text-gray-800 dark:text-white mb-12",children:"What Donna Can Do"}),S.jsx("div",{className:"max-w-6xl mx-auto grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 px-6",children:BD.map((e,t)=>S.jsxs(pe.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.4,delay:t*.1},viewport:{once:!0},className:"bg-gray-100 dark:bg-gray-800 rounded-2xl p-6 shadow-md hover:shadow-xl transition-shadow",children:[S.jsx("div",{className:"text-rose-500 mb-4",children:e.icon}),S.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-2",children:e.title}),S.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:e.description})]},t))})]})}const HD=[{icon:S.jsx(ED,{size:28}),title:"You Send a Message",description:"Ask Donna to summarize, schedule, remind, or explain anything."},{icon:S.jsx(Fw,{size:28}),title:"Donna Responds",description:"She reads, understands, and responds with natural intelligence."},{icon:S.jsx(TD,{size:28}),title:"Action is Logged",description:"Results get saved  as memory, reminders, or notes  ready anytime."}];function qD(){return S.jsxs("section",{className:"py-20 bg-gray-50 dark:bg-gray-800 transition-colors border-t border-gray-200 dark:border-gray-700",children:[S.jsx("h2",{className:"text-center text-3xl font-semibold text-gray-800 dark:text-white mb-12",children:"How Donna Works"}),S.jsx("div",{className:"max-w-5xl mx-auto flex flex-col sm:flex-row justify-between gap-10 px-6",children:HD.map((e,t)=>S.jsxs(pe.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.4,delay:t*.15},viewport:{once:!0},className:"flex-1 bg-white dark:bg-gray-900 rounded-2xl p-6 shadow-md hover:shadow-lg text-center",children:[S.jsx("div",{className:"flex justify-center text-rose-500 mb-4",children:e.icon}),S.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-2",children:e.title}),S.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:e.description})]},t))})]})}const qw=O.createContext(),GD=()=>O.useContext(qw);function KD({children:e}){const[t,n]=O.useState(()=>{const a=localStorage.getItem("donna-theme");return a||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});O.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark"),localStorage.setItem("donna-theme",t)},[t]);const r=()=>{n(a=>a==="dark"?"light":"dark")};return S.jsx(qw.Provider,{value:{theme:t,toggle:r},children:e})}const YD=()=>{};var yT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let a=e.charCodeAt(r);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},$D=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const a=e[n++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=e[n++];t[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=e[n++],c=e[n++],d=e[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;t[r++]=String.fromCharCode(55296+(m>>10)),t[r++]=String.fromCharCode(56320+(m&1023))}else{const l=e[n++],c=e[n++];t[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},Kw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<e.length;a+=3){const l=e[a],c=a+1<e.length,d=c?e[a+1]:0,m=a+2<e.length,p=m?e[a+2]:0,y=l>>2,_=(l&3)<<4|d>>4;let b=(d&15)<<2|p>>6,x=p&63;m||(x=64,c||(b=64)),r.push(n[y],n[_],n[b],n[x])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Gw(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):$D(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<e.length;){const l=n[e.charAt(a++)],d=a<e.length?n[e.charAt(a)]:0;++a;const p=a<e.length?n[e.charAt(a)]:64;++a;const _=a<e.length?n[e.charAt(a)]:64;if(++a,l==null||d==null||p==null||_==null)throw new QD;const b=l<<2|d>>4;if(r.push(b),p!==64){const x=d<<4&240|p>>2;if(r.push(x),_!==64){const C=p<<6&192|_;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class QD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XD=function(e){const t=Gw(e);return Kw.encodeByteArray(t,!0)},Sf=function(e){return XD(e).replace(/\./g,"")},Yw=function(e){try{return Kw.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=()=>WD().__FIREBASE_DEFAULTS__,JD=()=>{if(typeof process>"u"||typeof yT>"u")return;const e=yT.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},t9=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Yw(e[1]);return t&&JSON.parse(t)},Wf=()=>{try{return YD()||ZD()||JD()||t9()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},$w=e=>{var t,n;return(n=(t=Wf())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},e9=e=>{const t=$w(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Qw=()=>{var e;return(e=Wf())===null||e===void 0?void 0:e.config},Xw=e=>{var t;return(t=Wf())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(e){return e.endsWith(".cloudworkstations.dev")}async function Ww(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i9(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",a=e.iat||0,l=e.sub||e.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Sf(JSON.stringify(n)),Sf(JSON.stringify(c)),""].join(".")}const Nu={};function r9(){const e={prod:[],emulator:[]};for(const t of Object.keys(Nu))Nu[t]?e.emulator.push(t):e.prod.push(t);return e}function s9(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let vT=!1;function Zw(e,t){if(typeof window>"u"||typeof document>"u"||!oc(window.location.host)||Nu[e]===t||Nu[e]||vT)return;Nu[e]=t;function n(b){return`__firebase__banner__${b}`}const r="__firebase__banner",l=r9().prod.length>0;function c(){const b=document.getElementById(r);b&&b.remove()}function d(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function m(b,x){b.setAttribute("width","24"),b.setAttribute("id",x),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{vT=!0,c()},b}function y(b,x){b.setAttribute("id",x),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function _(){const b=s9(r),x=n("text"),C=document.getElementById(x)||document.createElement("span"),U=n("learnmore"),N=document.getElementById(U)||document.createElement("a"),k=n("preprendIcon"),G=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const Y=b.element;d(Y),y(N,U);const st=p();m(G,k),Y.append(G,C,N,st),document.body.appendChild(Y)}l?(C.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function a9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function o9(){var e;const t=(e=Wf())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function l9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function u9(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function c9(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function h9(){const e=on();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function f9(){return!o9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function d9(){try{return typeof indexedDB=="object"}catch{return!1}}function m9(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;t(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p9="FirebaseError";class Er extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=p9,Object.setPrototypeOf(this,Er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lc.prototype.create)}}class lc{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?g9(l,r):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Er(a,d,r)}}function g9(e,t){return e.replace(y9,(n,r)=>{const a=t[r];return a!=null?String(a):`<${r}?>`})}const y9=/\{\$([^}]+)}/g;function v9(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ea(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const a of n){if(!r.includes(a))return!1;const l=e[a],c=t[a];if(_T(l)&&_T(c)){if(!Ea(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function _T(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uc(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(a=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Eu(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");t[decodeURIComponent(a)]=decodeURIComponent(l)}}),t}function bu(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function _9(e,t){const n=new T9(e,t);return n.subscribe.bind(n)}class T9{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let a;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");E9(t,["next","error","complete"])?a=t:a={next:t,error:n,complete:r},a.next===void 0&&(a.next=jp),a.error===void 0&&(a.error=jp),a.complete===void 0&&(a.complete=jp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function E9(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function jp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(e){return e&&e._delegate?e._delegate:e}class ba{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new n9;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(S9(t))try{this.getOrInitializeService({instanceIdentifier:ma})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(t=ma){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ma){return this.instances.has(t)}getOptions(t=ma){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);r===d&&c.resolve(a)}return a}onInit(t,n){var r;const a=this.normalizeInstanceIdentifier(n),l=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:w9(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=ma){return this.component?this.component.multipleInstances?t:ma:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function w9(e){return e===ma?void 0:e}function S9(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new b9(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Pt||(Pt={}));const x9={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},R9=Pt.INFO,C9={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},I9=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),a=C9[t];if(a)console[a](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Py{constructor(t){this.name=t,this._logLevel=R9,this._logHandler=I9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?x9[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const D9=(e,t)=>t.some(n=>e instanceof n);let TT,ET;function N9(){return TT||(TT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function M9(){return ET||(ET=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Jw=new WeakMap,_g=new WeakMap,tS=new WeakMap,zp=new WeakMap,Oy=new WeakMap;function V9(e){const t=new Promise((n,r)=>{const a=()=>{e.removeEventListener("success",l),e.removeEventListener("error",c)},l=()=>{n(os(e.result)),a()},c=()=>{r(e.error),a()};e.addEventListener("success",l),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&Jw.set(n,e)}).catch(()=>{}),Oy.set(t,e),t}function P9(e){if(_g.has(e))return;const t=new Promise((n,r)=>{const a=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",c),e.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{r(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",l),e.addEventListener("error",c),e.addEventListener("abort",c)});_g.set(e,t)}let Tg={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return _g.get(e);if(t==="objectStoreNames")return e.objectStoreNames||tS.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return os(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function O9(e){Tg=e(Tg)}function k9(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Bp(this),t,...n);return tS.set(r,t.sort?t.sort():[t]),os(r)}:M9().includes(e)?function(...t){return e.apply(Bp(this),t),os(Jw.get(this))}:function(...t){return os(e.apply(Bp(this),t))}}function L9(e){return typeof e=="function"?k9(e):(e instanceof IDBTransaction&&P9(e),D9(e,N9())?new Proxy(e,Tg):e)}function os(e){if(e instanceof IDBRequest)return V9(e);if(zp.has(e))return zp.get(e);const t=L9(e);return t!==e&&(zp.set(e,t),Oy.set(t,e)),t}const Bp=e=>Oy.get(e);function U9(e,t,{blocked:n,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(e,t),d=os(c);return r&&c.addEventListener("upgradeneeded",m=>{r(os(c.result),m.oldVersion,m.newVersion,os(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const j9=["get","getKey","getAll","getAllKeys","count"],z9=["put","add","delete","clear"],Fp=new Map;function bT(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Fp.get(t))return Fp.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,a=z9.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||j9.includes(n)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),a&&m.done]))[0]};return Fp.set(t,l),l}O9(e=>({...e,get:(t,n,r)=>bT(t,n)||e.get(t,n,r),has:(t,n)=>!!bT(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(F9(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function F9(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Eg="@firebase/app",wT="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr=new Py("@firebase/app"),H9="@firebase/app-compat",q9="@firebase/analytics-compat",G9="@firebase/analytics",K9="@firebase/app-check-compat",Y9="@firebase/app-check",$9="@firebase/auth",Q9="@firebase/auth-compat",X9="@firebase/database",W9="@firebase/data-connect",Z9="@firebase/database-compat",J9="@firebase/functions",t8="@firebase/functions-compat",e8="@firebase/installations",n8="@firebase/installations-compat",i8="@firebase/messaging",r8="@firebase/messaging-compat",s8="@firebase/performance",a8="@firebase/performance-compat",o8="@firebase/remote-config",l8="@firebase/remote-config-compat",u8="@firebase/storage",c8="@firebase/storage-compat",h8="@firebase/firestore",f8="@firebase/ai",d8="@firebase/firestore-compat",m8="firebase",p8="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg="[DEFAULT]",g8={[Eg]:"fire-core",[H9]:"fire-core-compat",[G9]:"fire-analytics",[q9]:"fire-analytics-compat",[Y9]:"fire-app-check",[K9]:"fire-app-check-compat",[$9]:"fire-auth",[Q9]:"fire-auth-compat",[X9]:"fire-rtdb",[W9]:"fire-data-connect",[Z9]:"fire-rtdb-compat",[J9]:"fire-fn",[t8]:"fire-fn-compat",[e8]:"fire-iid",[n8]:"fire-iid-compat",[i8]:"fire-fcm",[r8]:"fire-fcm-compat",[s8]:"fire-perf",[a8]:"fire-perf-compat",[o8]:"fire-rc",[l8]:"fire-rc-compat",[u8]:"fire-gcs",[c8]:"fire-gcs-compat",[h8]:"fire-fst",[d8]:"fire-fst-compat",[f8]:"fire-vertex","fire-js":"fire-js",[m8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af=new Map,y8=new Map,wg=new Map;function ST(e,t){try{e.container.addComponent(t)}catch(n){gr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function zo(e){const t=e.name;if(wg.has(t))return gr.debug(`There were multiple attempts to register component ${t}.`),!1;wg.set(t,e);for(const n of Af.values())ST(n,e);for(const n of y8.values())ST(n,e);return!0}function ky(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function In(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ls=new lc("app","Firebase",v8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ba("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl=p8;function eS(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:bg,automaticDataCollectionEnabled:!0},t),a=r.name;if(typeof a!="string"||!a)throw ls.create("bad-app-name",{appName:String(a)});if(n||(n=Qw()),!n)throw ls.create("no-options");const l=Af.get(a);if(l){if(Ea(n,l.options)&&Ea(r,l.config))return l;throw ls.create("duplicate-app",{appName:a})}const c=new A9(a);for(const m of wg.values())c.addComponent(m);const d=new _8(n,r,c);return Af.set(a,d),d}function nS(e=bg){const t=Af.get(e);if(!t&&e===bg&&Qw())return eS();if(!t)throw ls.create("no-app",{appName:e});return t}function us(e,t,n){var r;let a=(r=g8[e])!==null&&r!==void 0?r:e;n&&(a+=`-${n}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),gr.warn(d.join(" "));return}zo(new ba(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T8="firebase-heartbeat-database",E8=1,Gu="firebase-heartbeat-store";let Hp=null;function iS(){return Hp||(Hp=U9(T8,E8,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Gu)}catch(n){console.warn(n)}}}}).catch(e=>{throw ls.create("idb-open",{originalErrorMessage:e.message})})),Hp}async function b8(e){try{const n=(await iS()).transaction(Gu),r=await n.objectStore(Gu).get(rS(e));return await n.done,r}catch(t){if(t instanceof Er)gr.warn(t.message);else{const n=ls.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});gr.warn(n.message)}}}async function AT(e,t){try{const r=(await iS()).transaction(Gu,"readwrite");await r.objectStore(Gu).put(t,rS(e)),await r.done}catch(n){if(n instanceof Er)gr.warn(n.message);else{const r=ls.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});gr.warn(r.message)}}}function rS(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w8=1024,S8=30;class A8{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new R8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=xT();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>S8){const c=C8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){gr.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=xT(),{heartbeatsToSend:r,unsentEntries:a}=x8(this._heartbeatsCache.heartbeats),l=Sf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return gr.warn(n),""}}}function xT(){return new Date().toISOString().substring(0,10)}function x8(e,t=w8){const n=[];let r=e.slice();for(const a of e){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),RT(n)>t){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),RT(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class R8{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return d9()?m9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await b8(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return AT(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return AT(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function RT(e){return Sf(JSON.stringify({version:2,heartbeats:e})).length}function C8(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I8(e){zo(new ba("platform-logger",t=>new B9(t),"PRIVATE")),zo(new ba("heartbeat",t=>new A8(t),"PRIVATE")),us(Eg,wT,e),us(Eg,wT,"esm2017"),us("fire-js","")}I8("");var D8="firebase",N8="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */us(D8,N8,"app");var CT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cs,sS;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,R){function I(){}I.prototype=R.prototype,V.D=R.prototype,V.prototype=new I,V.prototype.constructor=V,V.C=function(P,z,F){for(var M=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)M[Ee-2]=arguments[Ee];return R.prototype[z].apply(P,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(V,R,I){I||(I=0);var P=Array(16);if(typeof R=="string")for(var z=0;16>z;++z)P[z]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(z=0;16>z;++z)P[z]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=V.g[0],I=V.g[1],z=V.g[2];var F=V.g[3],M=R+(F^I&(z^F))+P[0]+3614090360&4294967295;R=I+(M<<7&4294967295|M>>>25),M=F+(z^R&(I^z))+P[1]+3905402710&4294967295,F=R+(M<<12&4294967295|M>>>20),M=z+(I^F&(R^I))+P[2]+606105819&4294967295,z=F+(M<<17&4294967295|M>>>15),M=I+(R^z&(F^R))+P[3]+3250441966&4294967295,I=z+(M<<22&4294967295|M>>>10),M=R+(F^I&(z^F))+P[4]+4118548399&4294967295,R=I+(M<<7&4294967295|M>>>25),M=F+(z^R&(I^z))+P[5]+1200080426&4294967295,F=R+(M<<12&4294967295|M>>>20),M=z+(I^F&(R^I))+P[6]+2821735955&4294967295,z=F+(M<<17&4294967295|M>>>15),M=I+(R^z&(F^R))+P[7]+4249261313&4294967295,I=z+(M<<22&4294967295|M>>>10),M=R+(F^I&(z^F))+P[8]+1770035416&4294967295,R=I+(M<<7&4294967295|M>>>25),M=F+(z^R&(I^z))+P[9]+2336552879&4294967295,F=R+(M<<12&4294967295|M>>>20),M=z+(I^F&(R^I))+P[10]+4294925233&4294967295,z=F+(M<<17&4294967295|M>>>15),M=I+(R^z&(F^R))+P[11]+2304563134&4294967295,I=z+(M<<22&4294967295|M>>>10),M=R+(F^I&(z^F))+P[12]+1804603682&4294967295,R=I+(M<<7&4294967295|M>>>25),M=F+(z^R&(I^z))+P[13]+4254626195&4294967295,F=R+(M<<12&4294967295|M>>>20),M=z+(I^F&(R^I))+P[14]+2792965006&4294967295,z=F+(M<<17&4294967295|M>>>15),M=I+(R^z&(F^R))+P[15]+1236535329&4294967295,I=z+(M<<22&4294967295|M>>>10),M=R+(z^F&(I^z))+P[1]+4129170786&4294967295,R=I+(M<<5&4294967295|M>>>27),M=F+(I^z&(R^I))+P[6]+3225465664&4294967295,F=R+(M<<9&4294967295|M>>>23),M=z+(R^I&(F^R))+P[11]+643717713&4294967295,z=F+(M<<14&4294967295|M>>>18),M=I+(F^R&(z^F))+P[0]+3921069994&4294967295,I=z+(M<<20&4294967295|M>>>12),M=R+(z^F&(I^z))+P[5]+3593408605&4294967295,R=I+(M<<5&4294967295|M>>>27),M=F+(I^z&(R^I))+P[10]+38016083&4294967295,F=R+(M<<9&4294967295|M>>>23),M=z+(R^I&(F^R))+P[15]+3634488961&4294967295,z=F+(M<<14&4294967295|M>>>18),M=I+(F^R&(z^F))+P[4]+3889429448&4294967295,I=z+(M<<20&4294967295|M>>>12),M=R+(z^F&(I^z))+P[9]+568446438&4294967295,R=I+(M<<5&4294967295|M>>>27),M=F+(I^z&(R^I))+P[14]+3275163606&4294967295,F=R+(M<<9&4294967295|M>>>23),M=z+(R^I&(F^R))+P[3]+4107603335&4294967295,z=F+(M<<14&4294967295|M>>>18),M=I+(F^R&(z^F))+P[8]+1163531501&4294967295,I=z+(M<<20&4294967295|M>>>12),M=R+(z^F&(I^z))+P[13]+2850285829&4294967295,R=I+(M<<5&4294967295|M>>>27),M=F+(I^z&(R^I))+P[2]+4243563512&4294967295,F=R+(M<<9&4294967295|M>>>23),M=z+(R^I&(F^R))+P[7]+1735328473&4294967295,z=F+(M<<14&4294967295|M>>>18),M=I+(F^R&(z^F))+P[12]+2368359562&4294967295,I=z+(M<<20&4294967295|M>>>12),M=R+(I^z^F)+P[5]+4294588738&4294967295,R=I+(M<<4&4294967295|M>>>28),M=F+(R^I^z)+P[8]+2272392833&4294967295,F=R+(M<<11&4294967295|M>>>21),M=z+(F^R^I)+P[11]+1839030562&4294967295,z=F+(M<<16&4294967295|M>>>16),M=I+(z^F^R)+P[14]+4259657740&4294967295,I=z+(M<<23&4294967295|M>>>9),M=R+(I^z^F)+P[1]+2763975236&4294967295,R=I+(M<<4&4294967295|M>>>28),M=F+(R^I^z)+P[4]+1272893353&4294967295,F=R+(M<<11&4294967295|M>>>21),M=z+(F^R^I)+P[7]+4139469664&4294967295,z=F+(M<<16&4294967295|M>>>16),M=I+(z^F^R)+P[10]+3200236656&4294967295,I=z+(M<<23&4294967295|M>>>9),M=R+(I^z^F)+P[13]+681279174&4294967295,R=I+(M<<4&4294967295|M>>>28),M=F+(R^I^z)+P[0]+3936430074&4294967295,F=R+(M<<11&4294967295|M>>>21),M=z+(F^R^I)+P[3]+3572445317&4294967295,z=F+(M<<16&4294967295|M>>>16),M=I+(z^F^R)+P[6]+76029189&4294967295,I=z+(M<<23&4294967295|M>>>9),M=R+(I^z^F)+P[9]+3654602809&4294967295,R=I+(M<<4&4294967295|M>>>28),M=F+(R^I^z)+P[12]+3873151461&4294967295,F=R+(M<<11&4294967295|M>>>21),M=z+(F^R^I)+P[15]+530742520&4294967295,z=F+(M<<16&4294967295|M>>>16),M=I+(z^F^R)+P[2]+3299628645&4294967295,I=z+(M<<23&4294967295|M>>>9),M=R+(z^(I|~F))+P[0]+4096336452&4294967295,R=I+(M<<6&4294967295|M>>>26),M=F+(I^(R|~z))+P[7]+1126891415&4294967295,F=R+(M<<10&4294967295|M>>>22),M=z+(R^(F|~I))+P[14]+2878612391&4294967295,z=F+(M<<15&4294967295|M>>>17),M=I+(F^(z|~R))+P[5]+4237533241&4294967295,I=z+(M<<21&4294967295|M>>>11),M=R+(z^(I|~F))+P[12]+1700485571&4294967295,R=I+(M<<6&4294967295|M>>>26),M=F+(I^(R|~z))+P[3]+2399980690&4294967295,F=R+(M<<10&4294967295|M>>>22),M=z+(R^(F|~I))+P[10]+4293915773&4294967295,z=F+(M<<15&4294967295|M>>>17),M=I+(F^(z|~R))+P[1]+2240044497&4294967295,I=z+(M<<21&4294967295|M>>>11),M=R+(z^(I|~F))+P[8]+1873313359&4294967295,R=I+(M<<6&4294967295|M>>>26),M=F+(I^(R|~z))+P[15]+4264355552&4294967295,F=R+(M<<10&4294967295|M>>>22),M=z+(R^(F|~I))+P[6]+2734768916&4294967295,z=F+(M<<15&4294967295|M>>>17),M=I+(F^(z|~R))+P[13]+1309151649&4294967295,I=z+(M<<21&4294967295|M>>>11),M=R+(z^(I|~F))+P[4]+4149444226&4294967295,R=I+(M<<6&4294967295|M>>>26),M=F+(I^(R|~z))+P[11]+3174756917&4294967295,F=R+(M<<10&4294967295|M>>>22),M=z+(R^(F|~I))+P[2]+718787259&4294967295,z=F+(M<<15&4294967295|M>>>17),M=I+(F^(z|~R))+P[9]+3951481745&4294967295,V.g[0]=V.g[0]+R&4294967295,V.g[1]=V.g[1]+(z+(M<<21&4294967295|M>>>11))&4294967295,V.g[2]=V.g[2]+z&4294967295,V.g[3]=V.g[3]+F&4294967295}r.prototype.u=function(V,R){R===void 0&&(R=V.length);for(var I=R-this.blockSize,P=this.B,z=this.h,F=0;F<R;){if(z==0)for(;F<=I;)a(this,V,F),F+=this.blockSize;if(typeof V=="string"){for(;F<R;)if(P[z++]=V.charCodeAt(F++),z==this.blockSize){a(this,P),z=0;break}}else for(;F<R;)if(P[z++]=V[F++],z==this.blockSize){a(this,P),z=0;break}}this.h=z,this.o+=R},r.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var R=1;R<V.length-8;++R)V[R]=0;var I=8*this.o;for(R=V.length-8;R<V.length;++R)V[R]=I&255,I/=256;for(this.u(V),V=Array(16),R=I=0;4>R;++R)for(var P=0;32>P;P+=8)V[I++]=this.g[R]>>>P&255;return V};function l(V,R){var I=d;return Object.prototype.hasOwnProperty.call(I,V)?I[V]:I[V]=R(V)}function c(V,R){this.h=R;for(var I=[],P=!0,z=V.length-1;0<=z;z--){var F=V[z]|0;P&&F==R||(I[z]=F,P=!1)}this.g=I}var d={};function m(V){return-128<=V&&128>V?l(V,function(R){return new c([R|0],0>R?-1:0)}):new c([V|0],0>V?-1:0)}function p(V){if(isNaN(V)||!isFinite(V))return _;if(0>V)return N(p(-V));for(var R=[],I=1,P=0;V>=I;P++)R[P]=V/I|0,I*=4294967296;return new c(R,0)}function y(V,R){if(V.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(V.charAt(0)=="-")return N(y(V.substring(1),R));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=p(Math.pow(R,8)),P=_,z=0;z<V.length;z+=8){var F=Math.min(8,V.length-z),M=parseInt(V.substring(z,z+F),R);8>F?(F=p(Math.pow(R,F)),P=P.j(F).add(p(M))):(P=P.j(I),P=P.add(p(M)))}return P}var _=m(0),b=m(1),x=m(16777216);e=c.prototype,e.m=function(){if(U(this))return-N(this).m();for(var V=0,R=1,I=0;I<this.g.length;I++){var P=this.i(I);V+=(0<=P?P:4294967296+P)*R,R*=4294967296}return V},e.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(C(this))return"0";if(U(this))return"-"+N(this).toString(V);for(var R=p(Math.pow(V,6)),I=this,P="";;){var z=st(I,R).g;I=k(I,z.j(R));var F=((0<I.g.length?I.g[0]:I.h)>>>0).toString(V);if(I=z,C(I))return F+P;for(;6>F.length;)F="0"+F;P=F+P}},e.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function C(V){if(V.h!=0)return!1;for(var R=0;R<V.g.length;R++)if(V.g[R]!=0)return!1;return!0}function U(V){return V.h==-1}e.l=function(V){return V=k(this,V),U(V)?-1:C(V)?0:1};function N(V){for(var R=V.g.length,I=[],P=0;P<R;P++)I[P]=~V.g[P];return new c(I,~V.h).add(b)}e.abs=function(){return U(this)?N(this):this},e.add=function(V){for(var R=Math.max(this.g.length,V.g.length),I=[],P=0,z=0;z<=R;z++){var F=P+(this.i(z)&65535)+(V.i(z)&65535),M=(F>>>16)+(this.i(z)>>>16)+(V.i(z)>>>16);P=M>>>16,F&=65535,M&=65535,I[z]=M<<16|F}return new c(I,I[I.length-1]&-2147483648?-1:0)};function k(V,R){return V.add(N(R))}e.j=function(V){if(C(this)||C(V))return _;if(U(this))return U(V)?N(this).j(N(V)):N(N(this).j(V));if(U(V))return N(this.j(N(V)));if(0>this.l(x)&&0>V.l(x))return p(this.m()*V.m());for(var R=this.g.length+V.g.length,I=[],P=0;P<2*R;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(var z=0;z<V.g.length;z++){var F=this.i(P)>>>16,M=this.i(P)&65535,Ee=V.i(z)>>>16,ae=V.i(z)&65535;I[2*P+2*z]+=M*ae,G(I,2*P+2*z),I[2*P+2*z+1]+=F*ae,G(I,2*P+2*z+1),I[2*P+2*z+1]+=M*Ee,G(I,2*P+2*z+1),I[2*P+2*z+2]+=F*Ee,G(I,2*P+2*z+2)}for(P=0;P<R;P++)I[P]=I[2*P+1]<<16|I[2*P];for(P=R;P<2*R;P++)I[P]=0;return new c(I,0)};function G(V,R){for(;(V[R]&65535)!=V[R];)V[R+1]+=V[R]>>>16,V[R]&=65535,R++}function Y(V,R){this.g=V,this.h=R}function st(V,R){if(C(R))throw Error("division by zero");if(C(V))return new Y(_,_);if(U(V))return R=st(N(V),R),new Y(N(R.g),N(R.h));if(U(R))return R=st(V,N(R)),new Y(N(R.g),R.h);if(30<V.g.length){if(U(V)||U(R))throw Error("slowDivide_ only works with positive integers.");for(var I=b,P=R;0>=P.l(V);)I=J(I),P=J(P);var z=lt(I,1),F=lt(P,1);for(P=lt(P,2),I=lt(I,2);!C(P);){var M=F.add(P);0>=M.l(V)&&(z=z.add(I),F=M),P=lt(P,1),I=lt(I,1)}return R=k(V,z.j(R)),new Y(z,R)}for(z=_;0<=V.l(R);){for(I=Math.max(1,Math.floor(V.m()/R.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),F=p(I),M=F.j(R);U(M)||0<M.l(V);)I-=P,F=p(I),M=F.j(R);C(F)&&(F=b),z=z.add(F),V=k(V,M)}return new Y(z,V)}e.A=function(V){return st(this,V).h},e.and=function(V){for(var R=Math.max(this.g.length,V.g.length),I=[],P=0;P<R;P++)I[P]=this.i(P)&V.i(P);return new c(I,this.h&V.h)},e.or=function(V){for(var R=Math.max(this.g.length,V.g.length),I=[],P=0;P<R;P++)I[P]=this.i(P)|V.i(P);return new c(I,this.h|V.h)},e.xor=function(V){for(var R=Math.max(this.g.length,V.g.length),I=[],P=0;P<R;P++)I[P]=this.i(P)^V.i(P);return new c(I,this.h^V.h)};function J(V){for(var R=V.g.length+1,I=[],P=0;P<R;P++)I[P]=V.i(P)<<1|V.i(P-1)>>>31;return new c(I,V.h)}function lt(V,R){var I=R>>5;R%=32;for(var P=V.g.length-I,z=[],F=0;F<P;F++)z[F]=0<R?V.i(F+I)>>>R|V.i(F+I+1)<<32-R:V.i(F+I);return new c(z,V.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,sS=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,cs=c}).apply(typeof CT<"u"?CT:typeof self<"u"?self:typeof window<"u"?window:{});var $h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aS,wu,oS,of,Sg,lS,uS,cS;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,T){return h==Array.prototype||h==Object.prototype||(h[v]=T.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof $h=="object"&&$h];for(var v=0;v<h.length;++v){var T=h[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function a(h,v){if(v)t:{var T=r;h=h.split(".");for(var A=0;A<h.length-1;A++){var H=h[A];if(!(H in T))break t;T=T[H]}h=h[h.length-1],A=T[h],v=v(A),v!=A&&v!=null&&t(T,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var T=0,A=!1,H={next:function(){if(!A&&T<h.length){var X=T++;return{value:v(X,h[X]),done:!1}}return A=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}a("Array.prototype.values",function(h){return h||function(){return l(this,function(v,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,T){return h.call.apply(h.bind,arguments)}function _(h,v,T){if(!h)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,A),h.apply(v,H)}}return function(){return h.apply(v,arguments)}}function b(h,v,T){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,b.apply(null,arguments)}function x(h,v){var T=Array.prototype.slice.call(arguments,1);return function(){var A=T.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function C(h,v){function T(){}T.prototype=v.prototype,h.aa=v.prototype,h.prototype=new T,h.prototype.constructor=h,h.Qb=function(A,H,X){for(var ut=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)ut[Lt-2]=arguments[Lt];return v.prototype[H].apply(A,ut)}}function U(h){const v=h.length;if(0<v){const T=Array(v);for(let A=0;A<v;A++)T[A]=h[A];return T}return[]}function N(h,v){for(let T=1;T<arguments.length;T++){const A=arguments[T];if(m(A)){const H=h.length||0,X=A.length||0;h.length=H+X;for(let ut=0;ut<X;ut++)h[H+ut]=A[ut]}else h.push(A)}}class k{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function G(h){return/^[\s\xa0]*$/.test(h)}function Y(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function st(h){return st[" "](h),h}st[" "]=function(){};var J=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function lt(h,v,T){for(const A in h)v.call(T,h[A],A,h)}function V(h,v){for(const T in h)v.call(void 0,h[T],T,h)}function R(h){const v={};for(const T in h)v[T]=h[T];return v}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(h,v){let T,A;for(let H=1;H<arguments.length;H++){A=arguments[H];for(T in A)h[T]=A[T];for(let X=0;X<I.length;X++)T=I[X],Object.prototype.hasOwnProperty.call(A,T)&&(h[T]=A[T])}}function z(h){var v=1;h=h.split(":");const T=[];for(;0<v&&h.length;)T.push(h.shift()),v--;return h.length&&T.push(h.join(":")),T}function F(h){d.setTimeout(()=>{throw h},0)}function M(){var h=kt;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class Ee{constructor(){this.h=this.g=null}add(v,T){const A=ae.get();A.set(v,T),this.h?this.h.next=A:this.g=A,this.h=A}}var ae=new k(()=>new W,h=>h.reset());class W{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let at,ft=!1,kt=new Ee,L=()=>{const h=d.Promise.resolve(void 0);at=()=>{h.then(it)}};var it=()=>{for(var h;h=M();){try{h.h.call(h.g)}catch(T){F(T)}var v=ae;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}ft=!1};function ct(){this.s=this.s,this.C=this.C}ct.prototype.s=!1,ct.prototype.ma=function(){this.s||(this.s=!0,this.N())},ct.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ot(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}ot.prototype.h=function(){this.defaultPrevented=!0};var gt=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};d.addEventListener("test",T,v),d.removeEventListener("test",T,v)}catch{}return h}();function Dt(h,v){if(ot.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var T=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(J){t:{try{st(v.nodeName);var H=!0;break t}catch{}H=!1}H||(v=null)}}else T=="mouseover"?v=h.fromElement:T=="mouseout"&&(v=h.toElement);this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:St[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Dt.aa.h.call(this)}}C(Dt,ot);var St={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),te=0;function oi(h,v,T,A,H){this.listener=h,this.proxy=null,this.src=v,this.type=T,this.capture=!!A,this.ha=H,this.key=++te,this.da=this.fa=!1}function Ar(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Oi(h){this.src=h,this.g={},this.h=0}Oi.prototype.add=function(h,v,T,A,H){var X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);var ut=Ds(h,v,A,H);return-1<ut?(v=h[ut],T||(v.fa=!1)):(v=new oi(v,this.src,X,!!A,H),v.fa=T,h.push(v)),v};function Is(h,v){var T=v.type;if(T in h.g){var A=h.g[T],H=Array.prototype.indexOf.call(A,v,void 0),X;(X=0<=H)&&Array.prototype.splice.call(A,H,1),X&&(Ar(v),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Ds(h,v,T,A){for(var H=0;H<h.length;++H){var X=h[H];if(!X.da&&X.listener==v&&X.capture==!!T&&X.ha==A)return H}return-1}var Ns="closure_lm_"+(1e6*Math.random()|0),ol={};function vc(h,v,T,A,H){if(Array.isArray(v)){for(var X=0;X<v.length;X++)vc(h,v[X],T,A,H);return null}return T=_c(T),h&&h[Oe]?h.K(v,T,p(A)?!!A.capture:!1,H):Nn(h,v,T,!1,A,H)}function Nn(h,v,T,A,H,X){if(!v)throw Error("Invalid event type");var ut=p(H)?!!H.capture:!!H,Lt=Na(h);if(Lt||(h[Ns]=Lt=new Oi(h)),T=Lt.add(v,T,A,ut,X),T.proxy)return T;if(A=vd(),T.proxy=A,A.src=h,A.listener=T,h.addEventListener)gt||(H=ut),H===void 0&&(H=!1),h.addEventListener(v.toString(),A,H);else if(h.attachEvent)h.attachEvent(Ms(v.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return T}function vd(){function h(T){return v.call(h.src,h.listener,T)}const v=_d;return h}function ll(h,v,T,A,H){if(Array.isArray(v))for(var X=0;X<v.length;X++)ll(h,v[X],T,A,H);else A=p(A)?!!A.capture:!!A,T=_c(T),h&&h[Oe]?(h=h.i,v=String(v).toString(),v in h.g&&(X=h.g[v],T=Ds(X,T,A,H),-1<T&&(Ar(X[T]),Array.prototype.splice.call(X,T,1),X.length==0&&(delete h.g[v],h.h--)))):h&&(h=Na(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Ds(v,T,A,H)),(T=-1<h?v[h]:null)&&Da(T))}function Da(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Oe])Is(v.i,h);else{var T=h.type,A=h.proxy;v.removeEventListener?v.removeEventListener(T,A,h.capture):v.detachEvent?v.detachEvent(Ms(T),A):v.addListener&&v.removeListener&&v.removeListener(A),(T=Na(v))?(Is(T,h),T.h==0&&(T.src=null,v[Ns]=null)):Ar(h)}}}function Ms(h){return h in ol?ol[h]:ol[h]="on"+h}function _d(h,v){if(h.da)h=!0;else{v=new Dt(v,this);var T=h.listener,A=h.ha||h.src;h.fa&&Da(h),h=T.call(A,v)}return h}function Na(h){return h=h[Ns],h instanceof Oi?h:null}var ul="__closure_events_fn_"+(1e9*Math.random()>>>0);function _c(h){return typeof h=="function"?h:(h[ul]||(h[ul]=function(v){return h.handleEvent(v)}),h[ul])}function he(){ct.call(this),this.i=new Oi(this),this.M=this,this.F=null}C(he,ct),he.prototype[Oe]=!0,he.prototype.removeEventListener=function(h,v,T,A){ll(this,h,v,T,A)};function Kt(h,v){var T,A=h.F;if(A)for(T=[];A;A=A.F)T.push(A);if(h=h.M,A=v.type||v,typeof v=="string")v=new ot(v,h);else if(v instanceof ot)v.target=v.target||h;else{var H=v;v=new ot(A,h),P(v,H)}if(H=!0,T)for(var X=T.length-1;0<=X;X--){var ut=v.g=T[X];H=Tn(ut,A,!0,v)&&H}if(ut=v.g=h,H=Tn(ut,A,!0,v)&&H,H=Tn(ut,A,!1,v)&&H,T)for(X=0;X<T.length;X++)ut=v.g=T[X],H=Tn(ut,A,!1,v)&&H}he.prototype.N=function(){if(he.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var T=h.g[v],A=0;A<T.length;A++)Ar(T[A]);delete h.g[v],h.h--}}this.F=null},he.prototype.K=function(h,v,T,A){return this.i.add(String(h),v,!1,T,A)},he.prototype.L=function(h,v,T,A){return this.i.add(String(h),v,!0,T,A)};function Tn(h,v,T,A){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var H=!0,X=0;X<v.length;++X){var ut=v[X];if(ut&&!ut.da&&ut.capture==T){var Lt=ut.listener,Ce=ut.ha||ut.src;ut.fa&&Is(h.i,ut),H=Lt.call(Ce,A)!==!1&&H}}return H&&!A.defaultPrevented}function Ze(h,v,T){if(typeof h=="function")T&&(h=b(h,T));else if(h&&typeof h.handleEvent=="function")h=b(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:d.setTimeout(h,v||0)}function Tc(h){h.g=Ze(()=>{h.g=null,h.i&&(h.i=!1,Tc(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class Td extends ct{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Tc(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vs(h){ct.call(this),this.h=h,this.g={}}C(Vs,ct);var Ps=[];function Os(h){lt(h.g,function(v,T){this.g.hasOwnProperty(T)&&Da(v)},h),h.g={}}Vs.prototype.N=function(){Vs.aa.N.call(this),Os(this)},Vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $n=d.JSON.stringify,Ma=d.JSON.parse,ks=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function cl(){}cl.prototype.h=null;function hl(h){return h.h||(h.h=h.i())}function fl(){}var ki={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Li(){ot.call(this,"d")}C(Li,ot);function dl(){ot.call(this,"c")}C(dl,ot);var li={},ml=null;function xr(){return ml=ml||new he}li.La="serverreachability";function Va(h){ot.call(this,li.La,h)}C(Va,ot);function Rr(h){const v=xr();Kt(v,new Va(v))}li.STAT_EVENT="statevent";function Ec(h,v){ot.call(this,li.STAT_EVENT,h),this.stat=v}C(Ec,ot);function ne(h){const v=xr();Kt(v,new Ec(v,h))}li.Ma="timingevent";function Re(h,v){ot.call(this,li.Ma,h),this.size=v}C(Re,ot);function be(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},v)}function Mn(){this.g=!0}Mn.prototype.xa=function(){this.g=!1};function pl(h,v,T,A,H,X){h.info(function(){if(h.g)if(X)for(var ut="",Lt=X.split("&"),Ce=0;Ce<Lt.length;Ce++){var Ut=Lt[Ce].split("=");if(1<Ut.length){var Le=Ut[0];Ut=Ut[1];var Ie=Le.split("_");ut=2<=Ie.length&&Ie[1]=="type"?ut+(Le+"="+Ut+"&"):ut+(Le+"=redacted&")}}else ut=null;else ut=X;return"XMLHTTP REQ ("+A+") [attempt "+H+"]: "+v+`
`+T+`
`+ut})}function Ed(h,v,T,A,H,X,ut){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+H+"]: "+v+`
`+T+`
`+X+" "+ut})}function Cr(h,v,T,A){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ls(h,T)+(A?" "+A:"")})}function bc(h,v){h.info(function(){return"TIMEOUT: "+v})}Mn.prototype.info=function(){};function Ls(h,v){if(!h.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(h=0;h<T.length;h++)if(Array.isArray(T[h])){var A=T[h];if(!(2>A.length)){var H=A[1];if(Array.isArray(H)&&!(1>H.length)){var X=H[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ut=1;ut<H.length;ut++)H[ut]=""}}}}return $n(T)}catch{return v}}var Ir={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ui={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ui;function ci(){}C(ci,cl),ci.prototype.g=function(){return new XMLHttpRequest},ci.prototype.i=function(){return{}},ui=new ci;function ln(h,v,T,A){this.j=h,this.i=v,this.l=T,this.R=A||1,this.U=new Vs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ge}function ge(){this.i=null,this.g="",this.h=!1}var gl={},Pa={};function Qn(h,v,T){h.L=1,h.v=Fs(En(v)),h.m=T,h.P=!0,ji(h,null)}function ji(h,v){h.F=Date.now(),Us(h),h.A=En(h.v);var T=h.A,A=h.R;Array.isArray(A)||(A=[String(A)]),bl(T.i,"t",A),h.C=0,T=h.j.J,h.h=new ge,h.g=Uc(h.j,T?v:null,!h.m),0<h.O&&(h.M=new Td(b(h.Y,h,h.g),h.O)),v=h.U,T=h.g,A=h.ca;var H="readystatechange";Array.isArray(H)||(H&&(Ps[0]=H.toString()),H=Ps);for(var X=0;X<H.length;X++){var ut=vc(T,H[X],A||v.handleEvent,!1,v.h||v);if(!ut)break;v.g[ut.key]=ut}v=h.H?R(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Rr(),pl(h.i,h.u,h.A,h.l,h.R,h.m)}ln.prototype.ca=function(h){h=h.target;const v=this.M;v&&kn(h)==3?v.j():this.Y(h)},ln.prototype.Y=function(h){try{if(h==this.g)t:{const Ie=kn(this.g);var v=this.g.Ba();const Yi=this.g.Z();if(!(3>Ie)&&(Ie!=3||this.g&&(this.h.h||this.g.oa()||Dc(this.g)))){this.J||Ie!=4||v==7||(v==8||0>=Yi?Rr(3):Rr(2)),Dr(this);var T=this.g.Z();this.X=T;e:if(wc(this)){var A=Dc(this.g);h="";var H=A.length,X=kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fe(this),hi(this);var ut="";break e}this.h.i=new d.TextDecoder}for(v=0;v<H;v++)this.h.h=!0,h+=this.h.i.decode(A[v],{stream:!(X&&v==H-1)});A.length=0,this.h.g+=h,this.C=0,ut=this.h.g}else ut=this.g.oa();if(this.o=T==200,Ed(this.i,this.u,this.A,this.l,this.R,Ie,T),this.o){if(this.T&&!this.K){e:{if(this.g){var Lt,Ce=this.g;if((Lt=Ce.g?Ce.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(Lt)){var Ut=Lt;break e}}Ut=null}if(T=Ut)Cr(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,js(this,T);else{this.o=!1,this.s=3,ne(12),Fe(this),hi(this);break t}}if(this.P){T=!0;let He;for(;!this.J&&this.C<ut.length;)if(He=Sc(this,ut),He==Pa){Ie==4&&(this.s=4,ne(14),T=!1),Cr(this.i,this.l,null,"[Incomplete Response]");break}else if(He==gl){this.s=4,ne(15),Cr(this.i,this.l,ut,"[Invalid Chunk]"),T=!1;break}else Cr(this.i,this.l,He,null),js(this,He);if(wc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||ut.length!=0||this.h.h||(this.s=1,ne(16),T=!1),this.o=this.o&&T,!T)Cr(this.i,this.l,ut,"[Invalid Chunked Response]"),Fe(this),hi(this);else if(0<ut.length&&!this.W){this.W=!0;var Le=this.j;Le.g==this&&Le.ba&&!Le.M&&(Le.j.info("Great, no buffering proxy detected. Bytes received: "+ut.length),Xs(Le),Le.M=!0,ne(11))}}else Cr(this.i,this.l,ut,null),js(this,ut);Ie==4&&Fe(this),this.o&&!this.J&&(Ie==4?Oc(this.j,this):(this.o=!1,Us(this)))}else xd(this.g),T==400&&0<ut.indexOf("Unknown SID")?(this.s=3,ne(12)):(this.s=0,ne(13)),Fe(this),hi(this)}}}catch{}finally{}};function wc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Sc(h,v){var T=h.C,A=v.indexOf(`
`,T);return A==-1?Pa:(T=Number(v.substring(T,A)),isNaN(T)?gl:(A+=1,A+T>v.length?Pa:(v=v.slice(A,A+T),h.C=A+T,v)))}ln.prototype.cancel=function(){this.J=!0,Fe(this)};function Us(h){h.S=Date.now()+h.I,Ac(h,h.I)}function Ac(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=be(b(h.ba,h),v)}function Dr(h){h.B&&(d.clearTimeout(h.B),h.B=null)}ln.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(bc(this.i,this.A),this.L!=2&&(Rr(),ne(17)),Fe(this),this.s=2,hi(this)):Ac(this,this.S-h)};function hi(h){h.j.G==0||h.J||Oc(h.j,h)}function Fe(h){Dr(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Os(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function js(h,v){try{var T=h.j;if(T.G!=0&&(T.g==h||yl(T.h,h))){if(!h.K&&yl(T.h,h)&&T.G==3){try{var A=T.Da.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var H=A;if(H[0]==0){t:if(!T.u){if(T.g)if(T.g.F+3e3<h.F)Ka(T),qa(T);else break t;Rl(T),ne(18)}}else T.za=H[1],0<T.za-T.T&&37500>H[2]&&T.F&&T.v==0&&!T.C&&(T.C=be(b(T.Za,T),6e3));if(1>=ka(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Ki(T,11)}else if((h.K||T.g==h)&&Ka(T),!G(v))for(H=T.Da.g.parse(v),v=0;v<H.length;v++){let Ut=H[v];if(T.T=Ut[0],Ut=Ut[1],T.G==2)if(Ut[0]=="c"){T.K=Ut[1],T.ia=Ut[2];const Le=Ut[3];Le!=null&&(T.la=Le,T.j.info("VER="+T.la));const Ie=Ut[4];Ie!=null&&(T.Aa=Ie,T.j.info("SVER="+T.Aa));const Yi=Ut[5];Yi!=null&&typeof Yi=="number"&&0<Yi&&(A=1.5*Yi,T.L=A,T.j.info("backChannelRequestTimeoutMs_="+A)),A=T;const He=h.g;if(He){const vi=He.g?He.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vi){var X=A.h;X.g||vi.indexOf("spdy")==-1&&vi.indexOf("quic")==-1&&vi.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(La(X,X.h),X.h=null))}if(A.D){const Il=He.g?He.g.getResponseHeader("X-HTTP-Session-Id"):null;Il&&(A.ya=Il,Qt(A.I,A.D,Il))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-h.F,T.j.info("Handshake RTT: "+T.R+"ms")),A=T;var ut=h;if(A.qa=Lc(A,A.J?A.ia:null,A.W),ut.K){un(A.h,ut);var Lt=ut,Ce=A.L;Ce&&(Lt.I=Ce),Lt.B&&(Dr(Lt),Us(Lt)),A.g=ut}else Vc(A);0<T.i.length&&Ga(T)}else Ut[0]!="stop"&&Ut[0]!="close"||Ki(T,7);else T.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?Ki(T,7):Al(T):Ut[0]!="noop"&&T.l&&T.l.ta(Ut),T.v=0)}}Rr(4)}catch{}}var xc=class{constructor(h,v){this.g=h,this.map=v}};function zi(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Oa(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function ka(h){return h.h?1:h.g?h.g.size:0}function yl(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function La(h,v){h.g?h.g.add(v):h.h=v}function un(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}zi.prototype.cancel=function(){if(this.i=vl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function vl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const T of h.g.values())v=v.concat(T.D);return v}return U(h.i)}function bd(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var v=[],T=h.length,A=0;A<T;A++)v.push(h[A]);return v}v=[],T=0;for(A in h)v[T++]=h[A];return v}function Ua(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var v=[];h=h.length;for(var T=0;T<h;T++)v.push(T);return v}v=[],T=0;for(const A in h)v[T++]=A;return v}}}function _l(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var T=Ua(h),A=bd(h),H=A.length,X=0;X<H;X++)v.call(void 0,A[X],T&&T[X],h)}var zs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wd(h,v){if(h){h=h.split("&");for(var T=0;T<h.length;T++){var A=h[T].indexOf("="),H=null;if(0<=A){var X=h[T].substring(0,A);H=h[T].substring(A+1)}else X=h[T];v(X,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function we(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof we){this.h=h.h,Bs(this,h.j),this.o=h.o,this.g=h.g,Nr(this,h.s),this.l=h.l;var v=h.i,T=new Fi;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),Bi(this,T),this.m=h.m}else h&&(v=String(h).match(zs))?(this.h=!1,Bs(this,v[1]||"",!0),this.o=Vn(v[2]||""),this.g=Vn(v[3]||"",!0),Nr(this,v[4]),this.l=Vn(v[5]||"",!0),Bi(this,v[6]||"",!0),this.m=Vn(v[7]||"")):(this.h=!1,this.i=new Fi(null,this.h))}we.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Hs(v,Tl,!0),":");var T=this.g;return(T||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Hs(v,Tl,!0),"@"),h.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&h.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Hs(T,T.charAt(0)=="/"?Sd:El,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Hs(T,ja)),h.join("")};function En(h){return new we(h)}function Bs(h,v,T){h.j=T?Vn(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Nr(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function Bi(h,v,T){v instanceof Fi?(h.i=v,Cc(h.i,h.h)):(T||(v=Hs(v,Ad)),h.i=new Fi(v,h.h))}function Qt(h,v,T){h.i.set(v,T)}function Fs(h){return Qt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Vn(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Hs(h,v,T){return typeof h=="string"?(h=encodeURI(h).replace(v,Rc),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Rc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Tl=/[#\/\?@]/g,El=/[#\?:]/g,Sd=/[#\?]/g,Ad=/[#\?@]/g,ja=/#/g;function Fi(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Pn(h){h.g||(h.g=new Map,h.h=0,h.i&&wd(h.i,function(v,T){h.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}e=Fi.prototype,e.add=function(h,v){Pn(this),this.i=null,h=fi(this,h);var T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(v),this.h+=1,this};function Hi(h,v){Pn(h),v=fi(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function qi(h,v){return Pn(h),v=fi(h,v),h.g.has(v)}e.forEach=function(h,v){Pn(this),this.g.forEach(function(T,A){T.forEach(function(H){h.call(v,H,A,this)},this)},this)},e.na=function(){Pn(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let A=0;A<v.length;A++){const H=h[A];for(let X=0;X<H.length;X++)T.push(v[A])}return T},e.V=function(h){Pn(this);let v=[];if(typeof h=="string")qi(this,h)&&(v=v.concat(this.g.get(fi(this,h))));else{h=Array.from(this.g.values());for(let T=0;T<h.length;T++)v=v.concat(h[T])}return v},e.set=function(h,v){return Pn(this),this.i=null,h=fi(this,h),qi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},e.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function bl(h,v,T){Hi(h,v),0<T.length&&(h.i=null,h.g.set(fi(h,v),U(T)),h.h+=T.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var A=v[T];const X=encodeURIComponent(String(A)),ut=this.V(A);for(A=0;A<ut.length;A++){var H=X;ut[A]!==""&&(H+="="+encodeURIComponent(String(ut[A]))),h.push(H)}}return this.i=h.join("&")};function fi(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Cc(h,v){v&&!h.j&&(Pn(h),h.i=null,h.g.forEach(function(T,A){var H=A.toLowerCase();A!=H&&(Hi(this,A),bl(this,H,T))},h)),h.j=v}function qs(h,v){const T=new Mn;if(d.Image){const A=new Image;A.onload=x(On,T,"TestLoadImage: loaded",!0,v,A),A.onerror=x(On,T,"TestLoadImage: error",!1,v,A),A.onabort=x(On,T,"TestLoadImage: abort",!1,v,A),A.ontimeout=x(On,T,"TestLoadImage: timeout",!1,v,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else v(!1)}function Xn(h,v){const T=new Mn,A=new AbortController,H=setTimeout(()=>{A.abort(),On(T,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:A.signal}).then(X=>{clearTimeout(H),X.ok?On(T,"TestPingServer: ok",!0,v):On(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),On(T,"TestPingServer: error",!1,v)})}function On(h,v,T,A,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),A(T)}catch{}}function Gs(){this.g=new ks}function di(h,v,T){const A=T||"";try{_l(h,function(H,X){let ut=H;p(H)&&(ut=$n(H)),v.push(A+X+"="+encodeURIComponent(ut))})}catch(H){throw v.push(A+"type="+encodeURIComponent("_badmap")),H}}function Mr(h){this.l=h.Ub||null,this.j=h.eb||!1}C(Mr,cl),Mr.prototype.g=function(){return new Gi(this.l,this.j)},Mr.prototype.i=function(h){return function(){return h}}({});function Gi(h,v){he.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Gi,he),e=Gi.prototype,e.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,pi(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||d).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mi(this)),this.readyState=0},e.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,pi(this)),this.g&&(this.readyState=3,pi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function wl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}e.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?mi(this):pi(this),this.readyState==3&&wl(this)}},e.Ra=function(h){this.g&&(this.response=this.responseText=h,mi(this))},e.Qa=function(h){this.g&&(this.response=h,mi(this))},e.ga=function(){this.g&&mi(this)};function mi(h){h.readyState=4,h.l=null,h.j=null,h.v=null,pi(h)}e.setRequestHeader=function(h,v){this.u.append(h,v)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=v.next();return h.join(`\r
`)};function pi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Sl(h){let v="";return lt(h,function(T,A){v+=A,v+=":",v+=T,v+=`\r
`}),v}function ke(h,v,T){t:{for(A in T){var A=!1;break t}A=!0}A||(T=Sl(T),typeof h=="string"?T!=null&&encodeURIComponent(String(T)):Qt(h,v,T))}function qt(h){he.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(qt,he);var za=/^https?$/i,Ks=["POST","PUT"];e=qt.prototype,e.Ha=function(h){this.J=h},e.ea=function(h,v,T,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ui.g(),this.v=this.o?hl(this.o):hl(ui),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(X){Ic(this,X);return}if(h=T||"",T=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var H in A)T.set(H,A[H]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const X of A.keys())T.set(X,A.get(X));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(T.keys()).find(X=>X.toLowerCase()=="content-type"),H=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ks,v,void 0))||A||H||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ut]of T)this.g.setRequestHeader(X,ut);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ys(this),this.u=!0,this.g.send(h),this.u=!1}catch(X){Ic(this,X)}};function Ic(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Ba(h),gi(h)}function Ba(h){h.A||(h.A=!0,Kt(h,"complete"),Kt(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Kt(this,"complete"),Kt(this,"abort"),gi(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gi(this,!0)),qt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Fa(this):this.bb())},e.bb=function(){Fa(this)};function Fa(h){if(h.h&&typeof c<"u"&&(!h.v[1]||kn(h)!=4||h.Z()!=2)){if(h.u&&kn(h)==4)Ze(h.Ea,0,h);else if(Kt(h,"readystatechange"),kn(h)==4){h.h=!1;try{const ut=h.Z();t:switch(ut){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var T;if(!(T=v)){var A;if(A=ut===0){var H=String(h.D).match(zs)[1]||null;!H&&d.self&&d.self.location&&(H=d.self.location.protocol.slice(0,-1)),A=!za.test(H?H.toLowerCase():"")}T=A}if(T)Kt(h,"complete"),Kt(h,"success");else{h.m=6;try{var X=2<kn(h)?h.g.statusText:""}catch{X=""}h.l=X+" ["+h.Z()+"]",Ba(h)}}finally{gi(h)}}}}function gi(h,v){if(h.g){Ys(h);const T=h.g,A=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Kt(h,"ready");try{T.onreadystatechange=A}catch{}}}function Ys(h){h.I&&(d.clearTimeout(h.I),h.I=null)}e.isActive=function(){return!!this.g};function kn(h){return h.g?h.g.readyState:0}e.Z=function(){try{return 2<kn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Ma(v)}};function Dc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function xd(h){const v={};h=(h.g&&2<=kn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(G(h[A]))continue;var T=z(h[A]);const H=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const X=v[H]||[];v[H]=X,X.push(T)}V(v,function(A){return A.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $s(h,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||v}function Ha(h){this.Aa=0,this.i=[],this.j=new Mn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$s("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$s("baseRetryDelayMs",5e3,h),this.cb=$s("retryDelaySeedMs",1e4,h),this.Wa=$s("forwardChannelMaxRetries",2,h),this.wa=$s("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new zi(h&&h.concurrentRequestLimit),this.Da=new Gs,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Ha.prototype,e.la=8,e.G=1,e.connect=function(h,v,T,A){ne(0),this.W=h,this.H=v||{},T&&A!==void 0&&(this.H.OSID=T,this.H.OAID=A),this.F=this.X,this.I=Lc(this,null,this.W),Ga(this)};function Al(h){if(Nc(h),h.G==3){var v=h.U++,T=En(h.I);if(Qt(T,"SID",h.K),Qt(T,"RID",v),Qt(T,"TYPE","terminate"),Qs(h,T),v=new ln(h,h.j,v),v.L=2,v.v=Fs(En(T)),T=!1,d.navigator&&d.navigator.sendBeacon)try{T=d.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&d.Image&&(new Image().src=v.v,T=!0),T||(v.g=Uc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Us(v)}kc(h)}function qa(h){h.g&&(Xs(h),h.g.cancel(),h.g=null)}function Nc(h){qa(h),h.u&&(d.clearTimeout(h.u),h.u=null),Ka(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function Ga(h){if(!Oa(h.h)&&!h.s){h.s=!0;var v=h.Ga;at||L(),ft||(at(),ft=!0),kt.add(v,h),h.B=0}}function Rd(h,v){return ka(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=be(b(h.Ga,h,v),Cl(h,h.B)),h.B++,!0)}e.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const H=new ln(this,this.j,h);let X=this.o;if(this.S&&(X?(X=R(X),P(X,this.S)):X=this.S),this.m!==null||this.O||(H.H=X,X=null),this.P)t:{for(var v=0,T=0;T<this.i.length;T++){e:{var A=this.i[T];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(v+=A,4096<v){v=T;break t}if(v===4096||T===this.i.length-1){v=T+1;break t}}v=1e3}else v=1e3;v=Mc(this,H,v),T=En(this.I),Qt(T,"RID",h),Qt(T,"CVER",22),this.D&&Qt(T,"X-HTTP-Session-Id",this.D),Qs(this,T),X&&(this.O?v="headers="+encodeURIComponent(String(Sl(X)))+"&"+v:this.m&&ke(T,this.m,X)),La(this.h,H),this.Ua&&Qt(T,"TYPE","init"),this.P?(Qt(T,"$req",v),Qt(T,"SID","null"),H.T=!0,Qn(H,T,null)):Qn(H,T,v),this.G=2}}else this.G==3&&(h?xl(this,h):this.i.length==0||Oa(this.h)||xl(this))};function xl(h,v){var T;v?T=v.l:T=h.U++;const A=En(h.I);Qt(A,"SID",h.K),Qt(A,"RID",T),Qt(A,"AID",h.T),Qs(h,A),h.m&&h.o&&ke(A,h.m,h.o),T=new ln(h,h.j,T,h.B+1),h.m===null&&(T.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Mc(h,T,1e3),T.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),La(h.h,T),Qn(T,A,v)}function Qs(h,v){h.H&&lt(h.H,function(T,A){Qt(v,A,T)}),h.l&&_l({},function(T,A){Qt(v,A,T)})}function Mc(h,v,T){T=Math.min(h.i.length,T);var A=h.l?b(h.l.Na,h.l,h):null;t:{var H=h.i;let X=-1;for(;;){const ut=["count="+T];X==-1?0<T?(X=H[0].g,ut.push("ofs="+X)):X=0:ut.push("ofs="+X);let Lt=!0;for(let Ce=0;Ce<T;Ce++){let Ut=H[Ce].g;const Le=H[Ce].map;if(Ut-=X,0>Ut)X=Math.max(0,H[Ce].g-100),Lt=!1;else try{di(Le,ut,"req"+Ut+"_")}catch{A&&A(Le)}}if(Lt){A=ut.join("&");break t}}}return h=h.i.splice(0,T),v.D=h,A}function Vc(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;at||L(),ft||(at(),ft=!0),kt.add(v,h),h.v=0}}function Rl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=be(b(h.Fa,h),Cl(h,h.v)),h.v++,!0)}e.Fa=function(){if(this.u=null,Pc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=be(b(this.ab,this),h)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ne(10),qa(this),Pc(this))};function Xs(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function Pc(h){h.g=new ln(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=En(h.qa);Qt(v,"RID","rpc"),Qt(v,"SID",h.K),Qt(v,"AID",h.T),Qt(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&Qt(v,"TO",h.ja),Qt(v,"TYPE","xmlhttp"),Qs(h,v),h.m&&h.o&&ke(v,h.m,h.o),h.L&&(h.g.I=h.L);var T=h.g;h=h.ia,T.L=1,T.v=Fs(En(v)),T.m=null,T.P=!0,ji(T,h)}e.Za=function(){this.C!=null&&(this.C=null,qa(this),Rl(this),ne(19))};function Ka(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function Oc(h,v){var T=null;if(h.g==v){Ka(h),Xs(h),h.g=null;var A=2}else if(yl(h.h,v))T=v.D,un(h.h,v),A=1;else return;if(h.G!=0){if(v.o)if(A==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var H=h.B;A=xr(),Kt(A,new Re(A,T)),Ga(h)}else Vc(h);else if(H=v.s,H==3||H==0&&0<v.X||!(A==1&&Rd(h,v)||A==2&&Rl(h)))switch(T&&0<T.length&&(v=h.h,v.i=v.i.concat(T)),H){case 1:Ki(h,5);break;case 4:Ki(h,10);break;case 3:Ki(h,6);break;default:Ki(h,2)}}}function Cl(h,v){let T=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(T*=2),T*v}function Ki(h,v){if(h.j.info("Error code "+v),v==2){var T=b(h.fb,h),A=h.Xa;const H=!A;A=new we(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Bs(A,"https"),Fs(A),H?qs(A.toString(),T):Xn(A.toString(),T)}else ne(2);h.G=0,h.l&&h.l.sa(v),kc(h),Nc(h)}e.fb=function(h){h?(this.j.info("Successfully pinged google.com"),ne(2)):(this.j.info("Failed to ping google.com"),ne(1))};function kc(h){if(h.G=0,h.ka=[],h.l){const v=vl(h.h);(v.length!=0||h.i.length!=0)&&(N(h.ka,v),N(h.ka,h.i),h.h.i.length=0,U(h.i),h.i.length=0),h.l.ra()}}function Lc(h,v,T){var A=T instanceof we?En(T):new we(T);if(A.g!="")v&&(A.g=v+"."+A.g),Nr(A,A.s);else{var H=d.location;A=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;var X=new we(null);A&&Bs(X,A),v&&(X.g=v),H&&Nr(X,H),T&&(X.l=T),A=X}return T=h.D,v=h.ya,T&&v&&Qt(A,T,v),Qt(A,"VER",h.la),Qs(h,A),A}function Uc(h,v,T){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new qt(new Mr({eb:T})):new qt(h.pa),v.Ha(h.J),v}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function jc(){}e=jc.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Ya(){}Ya.prototype.g=function(h,v){return new cn(h,v)};function cn(h,v){he.call(this),this.g=new Ha(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!G(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!G(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new yi(this)}C(cn,he),cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Al(this.g)},cn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.u&&(T={},T.__data__=$n(h),h=T);v.i.push(new xc(v.Ya++,h)),v.G==3&&Ga(v)},cn.prototype.N=function(){this.g.l=null,delete this.j,Al(this.g),delete this.g,cn.aa.N.call(this)};function zc(h){Li.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const T in v){h=T;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}C(zc,Li);function Bc(){dl.call(this),this.status=1}C(Bc,dl);function yi(h){this.g=h}C(yi,jc),yi.prototype.ua=function(){Kt(this.g,"a")},yi.prototype.ta=function(h){Kt(this.g,new zc(h))},yi.prototype.sa=function(h){Kt(this.g,new Bc)},yi.prototype.ra=function(){Kt(this.g,"b")},Ya.prototype.createWebChannel=Ya.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,cS=function(){return new Ya},uS=function(){return xr()},lS=li,Sg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ir.NO_ERROR=0,Ir.TIMEOUT=8,Ir.HTTP_ERROR=6,of=Ir,Ui.COMPLETE="complete",oS=Ui,fl.EventType=ki,ki.OPEN="a",ki.CLOSE="b",ki.ERROR="c",ki.MESSAGE="d",he.prototype.listen=he.prototype.K,wu=fl,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,aS=qt}).apply(typeof $h<"u"?$h:typeof self<"u"?self:typeof window<"u"?window:{});const IT="@firebase/firestore",DT="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let el="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa=new Py("@firebase/firestore");function So(){return wa.logLevel}function ht(e,...t){if(wa.logLevel<=Pt.DEBUG){const n=t.map(Ly);wa.debug(`Firestore (${el}): ${e}`,...n)}}function yr(e,...t){if(wa.logLevel<=Pt.ERROR){const n=t.map(Ly);wa.error(`Firestore (${el}): ${e}`,...n)}}function Bo(e,...t){if(wa.logLevel<=Pt.WARN){const n=t.map(Ly);wa.warn(`Firestore (${el}): ${e}`,...n)}}function Ly(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,hS(e,r,n)}function hS(e,t,n){let r=`FIRESTORE (${el}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw yr(r),new Error(r)}function Gt(e,t,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,e||hS(t,a,r)}function xt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pt extends Er{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class M8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(rn.UNAUTHENTICATED))}shutdown(){}}class V8{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class P8{constructor(t){this.t=t,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Gt(this.o===void 0,42304);let r=this.i;const a=m=>this.i!==r?(r=this.i,n(m)):Promise.resolve();let l=new hs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new hs,t.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=l;t.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},d=m=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new hs)}},0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Gt(typeof r.accessToken=="string",31837,{l:r}),new fS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string",2055,{h:t}),new rn(t)}}class O8{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class k8{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new O8(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class NT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class L8{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,In(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Gt(this.o===void 0,3512);const r=l=>{l.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ht("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable(()=>r(l))};const a=l=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new NT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Gt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new NT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U8(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=U8(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<n&&(r+=t.charAt(a[l]%62))}return r}}function It(e,t){return e<t?-1:e>t?1:0}function Ag(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),a=t.codePointAt(n);if(r!==a){if(r<128&&a<128)return It(r,a);{const l=dS(),c=j8(l.encode(MT(e,n)),l.encode(MT(t,n)));return c!==0?c:It(r,a)}}n+=r>65535?2:1}return It(e.length,t.length)}function MT(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function j8(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return It(e[n],t[n]);return It(e.length,t.length)}function Fo(e,t,n){return e.length===t.length&&e.every((r,a)=>n(r,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT=-62135596800,PT=1e6;class Ve{static now(){return Ve.fromMillis(Date.now())}static fromDate(t){return Ve.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*PT);return new Ve(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new pt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<VT)throw new pt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new pt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/PT}_compareTo(t){return this.seconds===t.seconds?It(this.nanoseconds,t.nanoseconds):It(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-VT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new Ve(0,0))}static max(){return new At(new Ve(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="__name__";class Si{constructor(t,n,r){n===void 0?n=0:n>t.length&&wt(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&wt(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Si.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Si?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let a=0;a<r;a++){const l=Si.compareSegments(t.get(a),n.get(a));if(l!==0)return l}return It(t.length,n.length)}static compareSegments(t,n){const r=Si.isNumericId(t),a=Si.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?Si.extractNumericId(t).compare(Si.extractNumericId(n)):Ag(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return cs.fromString(t.substring(4,t.length-2))}}class re extends Si{construct(t,n,r){return new re(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new pt(rt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(a=>a.length>0))}return new re(n)}static emptyPath(){return new re([])}}const z8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Si{construct(t,n,r){return new Qe(t,n,r)}static isValidIdentifier(t){return z8.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===OT}static keyField(){return new Qe([OT])}static fromServerFormat(t){const n=[];let r="",a=0;const l=()=>{if(r.length===0)throw new pt(rt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;a<t.length;){const d=t[a];if(d==="\\"){if(a+1===t.length)throw new pt(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new pt(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(r+=d,a++):(l(),a++)}if(l(),c)throw new pt(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(n)}static emptyPath(){return new Qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.path=t}static fromPath(t){return new yt(re.fromString(t))}static fromName(t){return new yt(re.fromString(t).popFirst(5))}static empty(){return new yt(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&re.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return re.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new re(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku=-1;function B8(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,a=At.fromTimestamp(r===1e9?new Ve(n+1,0):new Ve(n,r));return new ps(a,yt.empty(),t)}function F8(e){return new ps(e.readTime,e.key,Ku)}class ps{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new ps(At.min(),yt.empty(),Ku)}static max(){return new ps(At.max(),yt.empty(),Ku)}}function H8(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=yt.comparator(e.documentKey,t.documentKey),n!==0?n:It(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class G8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nl(e){if(e.code!==rt.FAILED_PRECONDITION||e.message!==q8)throw e;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&wt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new nt((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,a)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof nt?n:nt.resolve(n)}catch(n){return nt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):nt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):nt.reject(n)}static resolve(t){return new nt((n,r)=>{n(t)})}static reject(t){return new nt((n,r)=>{r(t)})}static waitFor(t){return new nt((n,r)=>{let a=0,l=0,c=!1;t.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&n()},m=>r(m))}),c=!0,l===a&&n()})}static or(t){let n=nt.resolve(!1);for(const r of t)n=n.next(a=>a?nt.resolve(a):r());return n}static forEach(t,n){const r=[];return t.forEach((a,l)=>{r.push(n.call(this,a,l))}),this.waitFor(r)}static mapArray(t,n){return new nt((r,a)=>{const l=t.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const p=m;n(t[p]).next(y=>{c[p]=y,++d,d===l&&r(c)},y=>a(y))}})}static doWhile(t,n){return new nt((r,a)=>{const l=()=>{t()===!0?n().next(()=>{l()},a):r()};l()})}}function K8(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function il(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Zf.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy=-1;function Jf(e){return e==null}function xf(e){return e===0&&1/e==-1/0}function Y8(e){return typeof e=="number"&&Number.isInteger(e)&&!xf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS="";function $8(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=kT(t)),t=Q8(e.get(n),t);return kT(t)}function Q8(e,t){let n=t;const r=e.length;for(let a=0;a<r;a++){const l=e.charAt(a);switch(l){case"\0":n+="";break;case pS:n+="";break;default:n+=l}}return n}function kT(e){return e+pS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function As(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function gS(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(t,n){this.comparator=t,this.root=n||$e.EMPTY}insert(t,n){return new ce(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,$e.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$e.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(t,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Qh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Qh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Qh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Qh(this.root,t,this.comparator,!0)}}class Qh{constructor(t,n,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=n?r(t.key,n):1,n&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class $e{constructor(t,n,r,a,l){this.key=t,this.value=n,this.color=r??$e.RED,this.left=a??$e.EMPTY,this.right=l??$e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,a,l){return new $e(t??this.key,n??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let a=this;const l=r(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,n,r),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return $e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return $e.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,$e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,$e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw wt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw wt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw wt(27949);return t+(this.isRed()?0:1)}}$e.EMPTY=null,$e.RED=!0,$e.BLACK=!1;$e.EMPTY=new class{constructor(){this.size=0}get key(){throw wt(57766)}get value(){throw wt(16141)}get color(){throw wt(16727)}get left(){throw wt(29726)}get right(){throw wt(36894)}copy(t,n,r,a,l){return this}insert(t,n,r){return new $e(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new UT(this.data.getIterator())}getIteratorFrom(t){return new UT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Pe)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Pe(this.comparator);return n.data=t,n}}class UT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new Dn([])}unionWith(t){let n=new Pe(Qe.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Dn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Fo(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new yS("Invalid base64 string: "+l):l}}(t);return new We(n)}static fromUint8Array(t){const n=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(t);return new We(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return It(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}We.EMPTY_BYTE_STRING=new We("");const X8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gs(e){if(Gt(!!e,39018),typeof e=="string"){let t=0;const n=X8.exec(e);if(Gt(!!n,46558,{timestamp:e}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Te(e.seconds),nanos:Te(e.nanos)}}function Te(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function ys(e){return typeof e=="string"?We.fromBase64String(e):We.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="server_timestamp",_S="__type__",TS="__previous_value__",ES="__local_write_time__";function jy(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[_S])===null||n===void 0?void 0:n.stringValue)===vS}function td(e){const t=e.mapValue.fields[TS];return jy(t)?td(t):t}function Yu(e){const t=gs(e.mapValue.fields[ES].timestampValue);return new Ve(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W8{constructor(t,n,r,a,l,c,d,m,p,y){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y}}const Rf="(default)";class $u{constructor(t,n){this.projectId=t,this.database=n||Rf}static empty(){return new $u("","")}get isDefaultDatabase(){return this.database===Rf}isEqual(t){return t instanceof $u&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS="__type__",Z8="__max__",Xh={mapValue:{}},wS="__vector__",Cf="value";function vs(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?jy(e)?4:tN(e)?9007199254740991:J8(e)?10:11:wt(28295,{value:e})}function Ni(e,t){if(e===t)return!0;const n=vs(e);if(n!==vs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Yu(e).isEqual(Yu(t));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=gs(a.timestampValue),d=gs(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(a,l){return ys(a.bytesValue).isEqual(ys(l.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(a,l){return Te(a.geoPointValue.latitude)===Te(l.geoPointValue.latitude)&&Te(a.geoPointValue.longitude)===Te(l.geoPointValue.longitude)}(e,t);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Te(a.integerValue)===Te(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Te(a.doubleValue),d=Te(l.doubleValue);return c===d?xf(c)===xf(d):isNaN(c)&&isNaN(d)}return!1}(e,t);case 9:return Fo(e.arrayValue.values||[],t.arrayValue.values||[],Ni);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(LT(c)!==LT(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!Ni(c[m],d[m])))return!1;return!0}(e,t);default:return wt(52216,{left:e})}}function Qu(e,t){return(e.values||[]).find(n=>Ni(n,t))!==void 0}function Ho(e,t){if(e===t)return 0;const n=vs(e),r=vs(t);if(n!==r)return It(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return It(e.booleanValue,t.booleanValue);case 2:return function(l,c){const d=Te(l.integerValue||l.doubleValue),m=Te(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(e,t);case 3:return jT(e.timestampValue,t.timestampValue);case 4:return jT(Yu(e),Yu(t));case 5:return Ag(e.stringValue,t.stringValue);case 6:return function(l,c){const d=ys(l),m=ys(c);return d.compareTo(m)}(e.bytesValue,t.bytesValue);case 7:return function(l,c){const d=l.split("/"),m=c.split("/");for(let p=0;p<d.length&&p<m.length;p++){const y=It(d[p],m[p]);if(y!==0)return y}return It(d.length,m.length)}(e.referenceValue,t.referenceValue);case 8:return function(l,c){const d=It(Te(l.latitude),Te(c.latitude));return d!==0?d:It(Te(l.longitude),Te(c.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return zT(e.arrayValue,t.arrayValue);case 10:return function(l,c){var d,m,p,y;const _=l.fields||{},b=c.fields||{},x=(d=_[Cf])===null||d===void 0?void 0:d.arrayValue,C=(m=b[Cf])===null||m===void 0?void 0:m.arrayValue,U=It(((p=x==null?void 0:x.values)===null||p===void 0?void 0:p.length)||0,((y=C==null?void 0:C.values)===null||y===void 0?void 0:y.length)||0);return U!==0?U:zT(x,C)}(e.mapValue,t.mapValue);case 11:return function(l,c){if(l===Xh.mapValue&&c===Xh.mapValue)return 0;if(l===Xh.mapValue)return 1;if(c===Xh.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const b=Ag(m[_],y[_]);if(b!==0)return b;const x=Ho(d[m[_]],p[y[_]]);if(x!==0)return x}return It(m.length,y.length)}(e.mapValue,t.mapValue);default:throw wt(23264,{Pe:n})}}function jT(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return It(e,t);const n=gs(e),r=gs(t),a=It(n.seconds,r.seconds);return a!==0?a:It(n.nanos,r.nanos)}function zT(e,t){const n=e.values||[],r=t.values||[];for(let a=0;a<n.length&&a<r.length;++a){const l=Ho(n[a],r[a]);if(l)return l}return It(n.length,r.length)}function qo(e){return xg(e)}function xg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=gs(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return ys(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return yt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",a=!0;for(const l of n.values||[])a?a=!1:r+=",",r+=xg(l);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${xg(n.fields[c])}`;return a+"}"}(e.mapValue):wt(61005,{value:e})}function lf(e){switch(vs(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=td(e);return t?16+lf(t):16;case 5:return 2*e.stringValue.length;case 6:return ys(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,l)=>a+lf(l),0)}(e.arrayValue);case 10:case 11:return function(r){let a=0;return As(r.fields,(l,c)=>{a+=l.length+lf(c)}),a}(e.mapValue);default:throw wt(13486,{value:e})}}function Rg(e){return!!e&&"integerValue"in e}function zy(e){return!!e&&"arrayValue"in e}function BT(e){return!!e&&"nullValue"in e}function FT(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function uf(e){return!!e&&"mapValue"in e}function J8(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[bS])===null||n===void 0?void 0:n.stringValue)===wS}function Mu(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return As(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Mu(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Mu(e.arrayValue.values[n]);return t}return Object.assign({},e)}function tN(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Z8}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(t){this.value=t}static empty(){return new yn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!uf(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Mu(n)}setAll(t){let n=Qe.emptyPath(),r={},a=[];t.forEach((c,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,r,a),r={},a=[],n=d.popLast()}c?r[d.lastSegment()]=Mu(c):a.push(d.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,r,a)}delete(t){const n=this.field(t.popLast());uf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ni(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let a=n.mapValue.fields[t.get(r)];uf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,r){As(n,(a,l)=>t[a]=l);for(const a of r)delete t[a]}clone(){return new yn(Mu(this.value))}}function SS(e){const t=[];return As(e.fields,(n,r)=>{const a=new Qe([n]);if(uf(r)){const l=SS(r.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)}),new Dn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t,n,r,a,l,c,d){this.key=t,this.documentType=n,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(t){return new sn(t,0,At.min(),At.min(),At.min(),yn.empty(),0)}static newFoundDocument(t,n,r,a){return new sn(t,1,n,At.min(),r,a,0)}static newNoDocument(t,n){return new sn(t,2,n,At.min(),At.min(),yn.empty(),0)}static newUnknownDocument(t,n){return new sn(t,3,n,At.min(),At.min(),yn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof sn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(t,n){this.position=t,this.inclusive=n}}function HT(e,t,n){let r=0;for(let a=0;a<e.position.length;a++){const l=t[a],c=e.position[a];if(l.field.isKeyField()?r=yt.comparator(yt.fromName(c.referenceValue),n.key):r=Ho(c,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function qT(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ni(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(t,n="asc"){this.field=t,this.dir=n}}function eN(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{}class Me extends AS{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new iN(t,n,r):n==="array-contains"?new aN(t,r):n==="in"?new oN(t,r):n==="not-in"?new lN(t,r):n==="array-contains-any"?new uN(t,r):new Me(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new rN(t,r):new sN(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ho(n,this.value)):n!==null&&vs(this.value)===vs(n)&&this.matchesComparison(Ho(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return wt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mi extends AS{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new Mi(t,n)}matches(t){return xS(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function xS(e){return e.op==="and"}function RS(e){return nN(e)&&xS(e)}function nN(e){for(const t of e.filters)if(t instanceof Mi)return!1;return!0}function Cg(e){if(e instanceof Me)return e.field.canonicalString()+e.op.toString()+qo(e.value);if(RS(e))return e.filters.map(t=>Cg(t)).join(",");{const t=e.filters.map(n=>Cg(n)).join(",");return`${e.op}(${t})`}}function CS(e,t){return e instanceof Me?function(r,a){return a instanceof Me&&r.op===a.op&&r.field.isEqual(a.field)&&Ni(r.value,a.value)}(e,t):e instanceof Mi?function(r,a){return a instanceof Mi&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((l,c,d)=>l&&CS(c,a.filters[d]),!0):!1}(e,t):void wt(19439)}function IS(e){return e instanceof Me?function(n){return`${n.field.canonicalString()} ${n.op} ${qo(n.value)}`}(e):e instanceof Mi?function(n){return n.op.toString()+" {"+n.getFilters().map(IS).join(" ,")+"}"}(e):"Filter"}class iN extends Me{constructor(t,n,r){super(t,n,r),this.key=yt.fromName(r.referenceValue)}matches(t){const n=yt.comparator(t.key,this.key);return this.matchesComparison(n)}}class rN extends Me{constructor(t,n){super(t,"in",n),this.keys=DS("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class sN extends Me{constructor(t,n){super(t,"not-in",n),this.keys=DS("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function DS(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>yt.fromName(r.referenceValue))}class aN extends Me{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return zy(n)&&Qu(n.arrayValue,this.value)}}class oN extends Me{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Qu(this.value.arrayValue,n)}}class lN extends Me{constructor(t,n){super(t,"not-in",n)}matches(t){if(Qu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Qu(this.value.arrayValue,n)}}class uN extends Me{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!zy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Qu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(t,n=null,r=[],a=[],l=null,c=null,d=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Ie=null}}function GT(e,t=null,n=[],r=[],a=null,l=null,c=null){return new cN(e,t,n,r,a,l,c)}function By(e){const t=xt(e);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>Cg(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),Jf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>qo(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>qo(r)).join(",")),t.Ie=n}return t.Ie}function Fy(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!eN(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!CS(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!qT(e.startAt,t.startAt)&&qT(e.endAt,t.endAt)}function Ig(e){return yt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(t,n=null,r=[],a=[],l=null,c="F",d=null,m=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function hN(e,t,n,r,a,l,c,d){return new ed(e,t,n,r,a,l,c,d)}function Hy(e){return new ed(e)}function KT(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function fN(e){return e.collectionGroup!==null}function Vu(e){const t=xt(e);if(t.Ee===null){t.Ee=[];const n=new Set;for(const l of t.explicitOrderBy)t.Ee.push(l),n.add(l.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Pe(Qe.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(t).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||t.Ee.push(new Df(l,r))}),n.has(Qe.keyField().canonicalString())||t.Ee.push(new Df(Qe.keyField(),r))}return t.Ee}function Ci(e){const t=xt(e);return t.de||(t.de=dN(t,Vu(e))),t.de}function dN(e,t){if(e.limitType==="F")return GT(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Df(a.field,l)});const n=e.endAt?new If(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new If(e.startAt.position,e.startAt.inclusive):null;return GT(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Dg(e,t,n){return new ed(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function nd(e,t){return Fy(Ci(e),Ci(t))&&e.limitType===t.limitType}function NS(e){return`${By(Ci(e))}|lt:${e.limitType}`}function Ao(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(a=>IS(a)).join(", ")}]`),Jf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(a=>qo(a)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(a=>qo(a)).join(",")),`Target(${r})`}(Ci(e))}; limitType=${e.limitType})`}function id(e,t){return t.isFoundDocument()&&function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):yt.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(e,t)&&function(r,a){for(const l of Vu(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(e,t)&&function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0}(e,t)&&function(r,a){return!(r.startAt&&!function(c,d,m){const p=HT(c,d,m);return c.inclusive?p<=0:p<0}(r.startAt,Vu(r),a)||r.endAt&&!function(c,d,m){const p=HT(c,d,m);return c.inclusive?p>=0:p>0}(r.endAt,Vu(r),a))}(e,t)}function mN(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function MS(e){return(t,n)=>{let r=!1;for(const a of Vu(e)){const l=pN(a,t,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function pN(e,t,n){const r=e.field.isKeyField()?yt.comparator(t.key,n.key):function(l,c,d){const m=c.data.field(l),p=d.data.field(l);return m!==null&&p!==null?Ho(m,p):wt(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return wt(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),a=this.inner[r];if(a===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],t))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(t){As(this.inner,(n,r)=>{for(const[a,l]of r)t(a,l)})}isEmpty(){return gS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=new ce(yt.comparator);function vr(){return gN}const VS=new ce(yt.comparator);function Su(...e){let t=VS;for(const n of e)t=t.insert(n.key,n);return t}function PS(e){let t=VS;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function ya(){return Pu()}function OS(){return Pu()}function Pu(){return new xa(e=>e.toString(),(e,t)=>e.isEqual(t))}const yN=new ce(yt.comparator),vN=new Pe(yt.comparator);function Ot(...e){let t=vN;for(const n of e)t=t.add(n);return t}const _N=new Pe(It);function TN(){return _N}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xf(t)?"-0":t}}function kS(e){return{integerValue:""+e}}function EN(e,t){return Y8(t)?kS(t):qy(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(){this._=void 0}}function bN(e,t,n){return e instanceof Xu?function(a,l){const c={fields:{[_S]:{stringValue:vS},[ES]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&jy(l)&&(l=td(l)),l&&(c.fields[TS]=l),{mapValue:c}}(n,t):e instanceof Wu?US(e,t):e instanceof Zu?jS(e,t):function(a,l){const c=LS(a,l),d=YT(c)+YT(a.Re);return Rg(c)&&Rg(a.Re)?kS(d):qy(a.serializer,d)}(e,t)}function wN(e,t,n){return e instanceof Wu?US(e,t):e instanceof Zu?jS(e,t):n}function LS(e,t){return e instanceof Nf?function(r){return Rg(r)||function(l){return!!l&&"doubleValue"in l}(r)}(t)?t:{integerValue:0}:null}class Xu extends rd{}class Wu extends rd{constructor(t){super(),this.elements=t}}function US(e,t){const n=zS(t);for(const r of e.elements)n.some(a=>Ni(a,r))||n.push(r);return{arrayValue:{values:n}}}class Zu extends rd{constructor(t){super(),this.elements=t}}function jS(e,t){let n=zS(t);for(const r of e.elements)n=n.filter(a=>!Ni(a,r));return{arrayValue:{values:n}}}class Nf extends rd{constructor(t,n){super(),this.serializer=t,this.Re=n}}function YT(e){return Te(e.integerValue||e.doubleValue)}function zS(e){return zy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(t,n){this.field=t,this.transform=n}}function AN(e,t){return e.field.isEqual(t.field)&&function(r,a){return r instanceof Wu&&a instanceof Wu||r instanceof Zu&&a instanceof Zu?Fo(r.elements,a.elements,Ni):r instanceof Nf&&a instanceof Nf?Ni(r.Re,a.Re):r instanceof Xu&&a instanceof Xu}(e.transform,t.transform)}class xN{constructor(t,n){this.version=t,this.transformResults=n}}class ii{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ii}static exists(t){return new ii(void 0,t)}static updateTime(t){return new ii(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function cf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class sd{}function BS(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new HS(e.key,ii.none()):new cc(e.key,e.data,ii.none());{const n=e.data,r=yn.empty();let a=new Pe(Qe.comparator);for(let l of t.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new xs(e.key,r,new Dn(a.toArray()),ii.none())}}function RN(e,t,n){e instanceof cc?function(a,l,c){const d=a.value.clone(),m=QT(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(e,t,n):e instanceof xs?function(a,l,c){if(!cf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=QT(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(FS(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(e,t,n):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,n)}function Ou(e,t,n,r){return e instanceof cc?function(l,c,d,m){if(!cf(l.precondition,c))return d;const p=l.value.clone(),y=XT(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(e,t,n,r):e instanceof xs?function(l,c,d,m){if(!cf(l.precondition,c))return d;const p=XT(l.fieldTransforms,m,c),y=c.data;return y.setAll(FS(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(_=>_.field))}(e,t,n,r):function(l,c,d){return cf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(e,t,n)}function CN(e,t){let n=null;for(const r of e.fieldTransforms){const a=t.data.field(r.field),l=LS(r.transform,a||null);l!=null&&(n===null&&(n=yn.empty()),n.set(r.field,l))}return n||null}function $T(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Fo(r,a,(l,c)=>AN(l,c))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class cc extends sd{constructor(t,n,r,a=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class xs extends sd{constructor(t,n,r,a,l=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function FS(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function QT(e,t,n){const r=new Map;Gt(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let a=0;a<n.length;a++){const l=e[a],c=l.transform,d=t.data.field(l.field);r.set(l.field,wN(c,d,n[a]))}return r}function XT(e,t,n){const r=new Map;for(const a of e){const l=a.transform,c=n.data.field(a.field);r.set(a.field,bN(l,c,t))}return r}class HS extends sd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IN extends sd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(t,n,r,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&RN(l,t,r[a])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Ou(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Ou(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=OS();return this.mutations.forEach(a=>{const l=t.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const m=BS(c,d);m!==null&&r.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(At.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Ot())}isEqual(t){return this.batchId===t.batchId&&Fo(this.mutations,t.mutations,(n,r)=>$T(n,r))&&Fo(this.baseMutations,t.baseMutations,(n,r)=>$T(n,r))}}class Gy{constructor(t,n,r,a){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(t,n,r){Gt(t.mutations.length===r.length,58842,{fe:t.mutations.length,ge:r.length});let a=function(){return yN}();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new Gy(t,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe,zt;function VN(e){switch(e){case rt.OK:return wt(64938);case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0;default:return wt(15467,{code:e})}}function qS(e){if(e===void 0)return yr("GRPC error has no .code"),rt.UNKNOWN;switch(e){case xe.OK:return rt.OK;case xe.CANCELLED:return rt.CANCELLED;case xe.UNKNOWN:return rt.UNKNOWN;case xe.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case xe.INTERNAL:return rt.INTERNAL;case xe.UNAVAILABLE:return rt.UNAVAILABLE;case xe.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case xe.NOT_FOUND:return rt.NOT_FOUND;case xe.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case xe.ABORTED:return rt.ABORTED;case xe.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case xe.DATA_LOSS:return rt.DATA_LOSS;default:return wt(39323,{code:e})}}(zt=xe||(xe={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=new cs([4294967295,4294967295],0);function WT(e){const t=dS().encode(e),n=new sS;return n.update(t),new Uint8Array(n.digest())}function ZT(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new cs([n,r],0),new cs([a,l],0)]}class Ky{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Au(`Invalid padding: ${n}`);if(r<0)throw new Au(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Au(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Au(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=cs.fromNumber(this.pe)}we(t,n,r){let a=t.add(n.multiply(cs.fromNumber(r)));return a.compare(PN)===1&&(a=new cs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}Se(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=WT(t),[r,a]=ZT(n);for(let l=0;l<this.hashCount;l++){const c=this.we(r,a,l);if(!this.Se(c))return!1}return!0}static create(t,n,r){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new Ky(l,a,n);return r.forEach(d=>c.insert(d)),c}insert(t){if(this.pe===0)return;const n=WT(t),[r,a]=ZT(n);for(let l=0;l<this.hashCount;l++){const c=this.we(r,a,l);this.be(c)}}be(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Au extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(t,n,r,a,l){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const a=new Map;return a.set(t,hc.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new ad(At.min(),a,new ce(It),vr(),Ot())}}class hc{constructor(t,n,r,a,l){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new hc(r,n,Ot(),Ot(),Ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(t,n,r,a){this.De=t,this.removedTargetIds=n,this.key=r,this.ve=a}}class GS{constructor(t,n){this.targetId=t,this.Ce=n}}class KS{constructor(t,n,r=We.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=a}}class JT{constructor(){this.Fe=0,this.Me=tE(),this.xe=We.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Ot(),n=Ot(),r=Ot();return this.Me.forEach((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:wt(38017,{changeType:l})}}),new hc(this.xe,this.Oe,t,n,r)}Qe(){this.Ne=!1,this.Me=tE()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Gt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class ON{constructor(t){this.ze=t,this.je=new Map,this.He=vr(),this.Je=Wh(),this.Ye=Wh(),this.Ze=new ce(It)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const r=this.rt(n);switch(t.state){case 0:this.it(n)&&r.ke(t.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(t.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(t.resumeToken));break;default:wt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((r,a)=>{this.it(a)&&n(a)})}ot(t){const n=t.targetId,r=t.Ce.count,a=this._t(n);if(a){const l=a.target;if(Ig(l))if(r===0){const c=new yt(l.path);this.tt(n,c,sn.newNoDocument(c,At.min()))}else Gt(r===1,20013,{expectedCount:r});else{const c=this.ut(n);if(c!==r){const d=this.ct(t),m=d?this.lt(d,t,c):1;if(m!==0){this.st(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=ys(r).toUint8Array()}catch(m){if(m instanceof yS)return Bo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Ky(c,a,l)}catch(m){return Bo(m instanceof Au?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.pe===0?null:d}lt(t,n,r){return n.Ce.count===r-this.Tt(t,n.targetId)?0:2}Tt(t,n){const r=this.ze.getRemoteKeysForTarget(n);let a=0;return r.forEach(l=>{const c=this.ze.Pt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(d)||(this.tt(n,l,null),a++)}),a}It(t){const n=new Map;this.je.forEach((l,c)=>{const d=this._t(c);if(d){if(l.current&&Ig(d.target)){const m=new yt(d.target.path);this.Et(m).has(c)||this.dt(c,m)||this.tt(c,m,sn.newNoDocument(m,t))}l.Le&&(n.set(c,l.qe()),l.Qe())}});let r=Ot();this.Ye.forEach((l,c)=>{let d=!0;c.forEachWhile(m=>{const p=this._t(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(l))}),this.He.forEach((l,c)=>c.setReadTime(t));const a=new ad(t,n,this.Ze,this.He,r);return this.He=vr(),this.Je=Wh(),this.Ye=Wh(),this.Ze=new ce(It),a}et(t,n){if(!this.it(t))return;const r=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,r){if(!this.it(t))return;const a=this.rt(t);this.dt(t,n)?a.$e(n,1):a.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),r&&(this.He=this.He.insert(n,r))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new JT,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new Pe(It),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new Pe(It),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||ht("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new JT),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function Wh(){return new ce(yt.comparator)}function tE(){return new ce(yt.comparator)}const kN={asc:"ASCENDING",desc:"DESCENDING"},LN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UN={and:"AND",or:"OR"};class jN{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Ng(e,t){return e.useProto3Json||Jf(t)?t:{value:t}}function Mf(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function YS(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function zN(e,t){return Mf(e,t.toTimestamp())}function Ii(e){return Gt(!!e,49232),At.fromTimestamp(function(n){const r=gs(n);return new Ve(r.seconds,r.nanos)}(e))}function Yy(e,t){return Mg(e,t).canonicalString()}function Mg(e,t){const n=function(a){return new re(["projects",a.projectId,"databases",a.database])}(e).child("documents");return t===void 0?n:n.child(t)}function $S(e){const t=re.fromString(e);return Gt(JS(t),10190,{key:t.toString()}),t}function Vg(e,t){return Yy(e.databaseId,t.path)}function qp(e,t){const n=$S(t);if(n.get(1)!==e.databaseId.projectId)throw new pt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new pt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new yt(XS(n))}function QS(e,t){return Yy(e.databaseId,t)}function BN(e){const t=$S(e);return t.length===4?re.emptyPath():XS(t)}function Pg(e){return new re(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function XS(e){return Gt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function eE(e,t,n){return{name:Vg(e,t),fields:n.value.mapValue.fields}}function FN(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:wt(39313,{state:p})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=function(p,y){return p.useProto3Json?(Gt(y===void 0||typeof y=="string",58123),We.fromBase64String(y||"")):(Gt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),We.fromUint8Array(y||new Uint8Array))}(e,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&function(p){const y=p.code===void 0?rt.UNKNOWN:qS(p.code);return new pt(y,p.message||"")}(c);n=new KS(r,a,l,d||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const a=qp(e,r.document.name),l=Ii(r.document.updateTime),c=r.document.createTime?Ii(r.document.createTime):At.min(),d=new yn({mapValue:{fields:r.document.fields}}),m=sn.newFoundDocument(a,l,c,d),p=r.targetIds||[],y=r.removedTargetIds||[];n=new hf(p,y,m.key,m)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const a=qp(e,r.document),l=r.readTime?Ii(r.readTime):At.min(),c=sn.newNoDocument(a,l),d=r.removedTargetIds||[];n=new hf([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const a=qp(e,r.document),l=r.removedTargetIds||[];n=new hf([],l,a,null)}else{if(!("filter"in t))return wt(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new MN(a,l),d=r.targetId;n=new GS(d,c)}}return n}function HN(e,t){let n;if(t instanceof cc)n={update:eE(e,t.key,t.value)};else if(t instanceof HS)n={delete:Vg(e,t.key)};else if(t instanceof xs)n={update:eE(e,t.key,t.data),updateMask:ZN(t.fieldMask)};else{if(!(t instanceof IN))return wt(16599,{ft:t.type});n={verify:Vg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(l,c){const d=c.transform;if(d instanceof Xu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Wu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Zu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Nf)return{fieldPath:c.field.canonicalString(),increment:d.Re};throw wt(20930,{transform:c.transform})}(0,r))),t.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:zN(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:wt(27497)}(e,t.precondition)),n}function qN(e,t){return e&&e.length>0?(Gt(t!==void 0,14353),e.map(n=>function(a,l){let c=a.updateTime?Ii(a.updateTime):Ii(l);return c.isEqual(At.min())&&(c=Ii(l)),new xN(c,a.transformResults||[])}(n,t))):[]}function GN(e,t){return{documents:[QS(e,t.path)]}}function KN(e,t){const n={structuredQuery:{}},r=t.path;let a;t.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=QS(e,a);const l=function(p){if(p.length!==0)return ZS(Mi.create(p,"and"))}(t.filters);l&&(n.structuredQuery.where=l);const c=function(p){if(p.length!==0)return p.map(y=>function(b){return{field:xo(b.field),direction:QN(b.dir)}}(y))}(t.orderBy);c&&(n.structuredQuery.orderBy=c);const d=Ng(e,t.limit);return d!==null&&(n.structuredQuery.limit=d),t.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(t.endAt)),{gt:n,parent:a}}function YN(e){let t=BN(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){Gt(r===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];n.where&&(l=function(_){const b=WS(_);return b instanceof Mi&&RS(b)?b.getFilters():[b]}(n.where));let c=[];n.orderBy&&(c=function(_){return _.map(b=>function(C){return new Df(Ro(C.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(b))}(n.orderBy));let d=null;n.limit&&(d=function(_){let b;return b=typeof _=="object"?_.value:_,Jf(b)?null:b}(n.limit));let m=null;n.startAt&&(m=function(_){const b=!!_.before,x=_.values||[];return new If(x,b)}(n.startAt));let p=null;return n.endAt&&(p=function(_){const b=!_.before,x=_.values||[];return new If(x,b)}(n.endAt)),hN(t,a,c,l,d,"F",m,p)}function $N(e,t){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt(28987,{purpose:a})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function WS(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ro(n.unaryFilter.field);return Me.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Ro(n.unaryFilter.field);return Me.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ro(n.unaryFilter.field);return Me.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ro(n.unaryFilter.field);return Me.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return wt(61313);default:return wt(60726)}}(e):e.fieldFilter!==void 0?function(n){return Me.create(Ro(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return wt(58110);default:return wt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Mi.create(n.compositeFilter.filters.map(r=>WS(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return wt(1026)}}(n.compositeFilter.op))}(e):wt(30097,{filter:e})}function QN(e){return kN[e]}function XN(e){return LN[e]}function WN(e){return UN[e]}function xo(e){return{fieldPath:e.canonicalString()}}function Ro(e){return Qe.fromServerFormat(e.fieldPath)}function ZS(e){return e instanceof Me?function(n){if(n.op==="=="){if(FT(n.value))return{unaryFilter:{field:xo(n.field),op:"IS_NAN"}};if(BT(n.value))return{unaryFilter:{field:xo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(FT(n.value))return{unaryFilter:{field:xo(n.field),op:"IS_NOT_NAN"}};if(BT(n.value))return{unaryFilter:{field:xo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xo(n.field),op:XN(n.op),value:n.value}}}(e):e instanceof Mi?function(n){const r=n.getFilters().map(a=>ZS(a));return r.length===1?r[0]:{compositeFilter:{op:WN(n.op),filters:r}}}(e):wt(54877,{filter:e})}function ZN(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function JS(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(t,n,r,a,l=At.min(),c=At.min(),d=We.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(t){return new ss(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(t){this.wt=t}}function tM(e){const t=YN({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Dg(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(){this.Cn=new nM}addToCollectionParentIndex(t,n){return this.Cn.add(n),nt.resolve()}getCollectionParents(t,n){return nt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return nt.resolve()}deleteFieldIndex(t,n){return nt.resolve()}deleteAllFieldIndexes(t){return nt.resolve()}createTargetIndexes(t,n){return nt.resolve()}getDocumentsMatchingTarget(t,n){return nt.resolve(null)}getIndexType(t,n){return nt.resolve(0)}getFieldIndexes(t,n){return nt.resolve([])}getNextCollectionGroupToUpdate(t){return nt.resolve(null)}getMinOffset(t,n){return nt.resolve(ps.min())}getMinOffsetFromCollectionGroup(t,n){return nt.resolve(ps.min())}updateCollectionGroup(t,n,r){return nt.resolve()}updateIndexEntries(t,n){return nt.resolve()}}class nM{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),a=this.index[n]||new Pe(re.comparator),l=!a.has(r);return this.index[n]=a.add(r),l}has(t){const n=t.lastSegment(),r=t.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(t){return(this.index[t]||new Pe(re.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tA=41943040;class gn{static withCacheSize(t){return new gn(t,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(tA,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new Go(0)}static lr(){return new Go(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="LruGarbageCollector",iM=1048576;function rE([e,t],[n,r]){const a=It(e,n);return a===0?It(t,r):a}class rM{constructor(t){this.Er=t,this.buffer=new Pe(rE),this.dr=0}Ar(){return++this.dr}Rr(t){const n=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();rE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class sM{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){ht(iE,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){il(n)?ht(iE,"Ignoring IndexedDB error during garbage collection: ",n):await nl(n)}await this.mr(3e5)})}}class aM{constructor(t,n){this.gr=t,this.params=n}calculateTargetCount(t,n){return this.gr.pr(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(n===0)return nt.resolve(Zf.le);const r=new rM(n);return this.gr.forEachTarget(t,a=>r.Rr(a.sequenceNumber)).next(()=>this.gr.yr(t,a=>r.Rr(a))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.gr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.gr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(nE)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nE):this.wr(t,n))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,n){let r,a,l,c,d,m,p;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(t,a))).next(_=>(r=_,d=Date.now(),this.removeTargets(t,r,n))).next(_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(t,r))).next(_=>(p=Date.now(),So()<=Pt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${_} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_})))}}function oM(e,t){return new aM(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(){this.changes=new xa(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,sn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?nt.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(t,n,r,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(a=>(r=a,this.remoteDocumentCache.getEntry(t,n))).next(a=>(r!==null&&Ou(r.mutation,a,Dn.empty(),Ve.now()),a))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,Ot()).next(()=>r))}getLocalViewOfDocuments(t,n,r=Ot()){const a=ya();return this.populateOverlays(t,a,n).next(()=>this.computeViews(t,n,a,r).next(l=>{let c=Su();return l.forEach((d,m)=>{c=c.insert(d,m.overlayedDocument)}),c}))}getOverlayedDocuments(t,n){const r=ya();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,Ot()))}populateOverlays(t,n,r){const a=[];return r.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(t,a).next(l=>{l.forEach((c,d)=>{n.set(c,d)})})}computeViews(t,n,r,a){let l=vr();const c=Pu(),d=function(){return Pu()}();return n.forEach((m,p)=>{const y=r.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof xs)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Ou(y.mutation,p,y.mutation.getFieldMask(),Ve.now())):c.set(p.key,Dn.empty())}),this.recalculateAndSaveOverlays(t,l).next(m=>(m.forEach((p,y)=>c.set(p,y)),n.forEach((p,y)=>{var _;return d.set(p,new uM(y,(_=c.get(p))!==null&&_!==void 0?_:null))}),d))}recalculateAndSaveOverlays(t,n){const r=Pu();let a=new ce((c,d)=>c-d),l=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(c=>{for(const d of c)d.keys().forEach(m=>{const p=n.get(m);if(p===null)return;let y=r.get(m)||Dn.empty();y=d.applyToLocalView(p,y),r.set(m,y);const _=(a.get(d.batchId)||Ot()).add(m);a=a.insert(d.batchId,_)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,y=m.value,_=OS();y.forEach(b=>{if(!l.has(b)){const x=BS(n.get(b),r.get(b));x!==null&&_.set(b,x),l=l.add(b)}}),c.push(this.documentOverlayCache.saveOverlays(t,p,_))}return nt.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,a){return function(c){return yt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):fN(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,a):this.getDocumentsMatchingCollectionQuery(t,n,r,a)}getNextDocuments(t,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,a-l.size):nt.resolve(ya());let d=Ku,m=l;return c.next(p=>nt.forEach(p,(y,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),l.get(y)?nt.resolve():this.remoteDocumentCache.getEntry(t,y).next(b=>{m=m.insert(y,b)}))).next(()=>this.populateOverlays(t,p,l)).next(()=>this.computeViews(t,m,p,Ot())).next(y=>({batchId:d,changes:PS(y)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new yt(n)).next(r=>{let a=Su();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(t,n,r,a){const l=n.collectionGroup;let c=Su();return this.indexManager.getCollectionParents(t,l).next(d=>nt.forEach(d,m=>{const p=function(_,b){return new ed(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(t,p,r,a).next(y=>{y.forEach((_,b)=>{c=c.insert(_,b)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(t,n,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,l,a))).next(c=>{l.forEach((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,sn.newInvalidDocument(y)))});let d=Su();return c.forEach((m,p)=>{const y=l.get(m);y!==void 0&&Ou(y.mutation,p,Dn.empty(),Ve.now()),id(n,p)&&(d=d.insert(m,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,n){return nt.resolve(this.kr.get(n))}saveBundleMetadata(t,n){return this.kr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Ii(a.createTime)}}(n)),nt.resolve()}getNamedQuery(t,n){return nt.resolve(this.qr.get(n))}saveNamedQuery(t,n){return this.qr.set(n.name,function(a){return{name:a.name,query:tM(a.bundledQuery),readTime:Ii(a.readTime)}}(n)),nt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(){this.overlays=new ce(yt.comparator),this.Qr=new Map}getOverlay(t,n){return nt.resolve(this.overlays.get(n))}getOverlays(t,n){const r=ya();return nt.forEach(n,a=>this.getOverlay(t,a).next(l=>{l!==null&&r.set(a,l)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((a,l)=>{this.bt(t,n,l)}),nt.resolve()}removeOverlaysForBatchId(t,n,r){const a=this.Qr.get(r);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(r)),nt.resolve()}getOverlaysForCollection(t,n,r){const a=ya(),l=n.length+1,c=new yt(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>r&&a.set(m.getKey(),m)}return nt.resolve(a)}getOverlaysForCollectionGroup(t,n,r,a){let l=new ce((p,y)=>p-y);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let y=l.get(p.largestBatchId);y===null&&(y=ya(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const d=ya(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,y)=>d.set(p,y)),!(d.size()>=a)););return nt.resolve(d)}bt(t,n,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.Qr.get(a.largestBatchId).delete(r.key);this.Qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new NN(n,r));let l=this.Qr.get(n);l===void 0&&(l=Ot(),this.Qr.set(n,l)),this.Qr.set(n,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(){this.sessionToken=We.EMPTY_BYTE_STRING}getSessionToken(t){return nt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,nt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(){this.$r=new Pe(Be.Ur),this.Kr=new Pe(Be.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,n){const r=new Be(t,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.zr(new Be(t,n))}jr(t,n){t.forEach(r=>this.removeReference(r,n))}Hr(t){const n=new yt(new re([])),r=new Be(n,t),a=new Be(n,t+1),l=[];return this.Kr.forEachInRange([r,a],c=>{this.zr(c),l.push(c.key)}),l}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const n=new yt(new re([])),r=new Be(n,t),a=new Be(n,t+1);let l=Ot();return this.Kr.forEachInRange([r,a],c=>{l=l.add(c.key)}),l}containsKey(t){const n=new Be(t,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Be{constructor(t,n){this.key=t,this.Zr=n}static Ur(t,n){return yt.comparator(t.key,n.key)||It(t.Zr,n.Zr)}static Wr(t,n){return It(t.Zr,n.Zr)||yt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Pe(Be.Ur)}checkEmpty(t){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,a){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new DN(l,n,r,a);this.mutationQueue.push(c);for(const d of a)this.Xr=this.Xr.add(new Be(d.key,l)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return nt.resolve(c)}lookupMutationBatch(t,n){return nt.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,a=this.ti(r),l=a<0?0:a;return nt.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?Uy:this.nr-1)}getAllMutationBatches(t){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Be(n,0),a=new Be(n,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([r,a],c=>{const d=this.ei(c.Zr);l.push(d)}),nt.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Pe(It);return n.forEach(a=>{const l=new Be(a,0),c=new Be(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,c],d=>{r=r.add(d.Zr)})}),nt.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,a=r.length+1;let l=r;yt.isDocumentKey(l)||(l=l.child(""));const c=new Be(new yt(l),0);let d=new Pe(It);return this.Xr.forEachWhile(m=>{const p=m.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(d=d.add(m.Zr)),!0)},c),nt.resolve(this.ni(d))}ni(t){const n=[];return t.forEach(r=>{const a=this.ei(r);a!==null&&n.push(a)}),n}removeMutationBatch(t,n){Gt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return nt.forEach(n.mutations,a=>{const l=new Be(a.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.Xr=r})}sr(t){}containsKey(t,n){const r=new Be(n,0),a=this.Xr.firstAfterOrEqual(r);return nt.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,nt.resolve()}ri(t,n){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const n=this.ti(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(t){this.ii=t,this.docs=function(){return new ce(yt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,a=this.docs.get(r),l=a?a.size:0,c=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return nt.resolve(r?r.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(t,n){let r=vr();return n.forEach(a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():sn.newInvalidDocument(a))}),nt.resolve(r)}getDocumentsMatchingQuery(t,n,r,a){let l=vr();const c=n.path,d=new yt(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||H8(F8(y),r)<=0||(a.has(y.key)||id(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return nt.resolve(l)}getAllFromCollectionGroup(t,n,r,a){wt(9500)}si(t,n){return nt.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new gM(this)}getSize(t){return nt.resolve(this.size)}}class gM extends lM{constructor(t){super(),this.Br=t}applyChanges(t){const n=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?n.push(this.Br.addEntry(t,a)):this.Br.removeEntry(r)}),nt.waitFor(n)}getFromCache(t,n){return this.Br.getEntry(t,n)}getAllFromCache(t,n){return this.Br.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(t){this.persistence=t,this.oi=new xa(n=>By(n),Fy),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this._i=0,this.ai=new $y,this.targetCount=0,this.ui=Go.cr()}forEachTarget(t,n){return this.oi.forEach((r,a)=>n(a)),nt.resolve()}getLastRemoteSnapshotVersion(t){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return nt.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),nt.resolve()}Tr(t){this.oi.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ui=new Go(n),this.highestTargetId=n),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,n){return this.Tr(n),this.targetCount+=1,nt.resolve()}updateTargetData(t,n){return this.Tr(n),nt.resolve()}removeTargetData(t,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,nt.resolve()}removeTargets(t,n,r){let a=0;const l=[];return this.oi.forEach((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.oi.delete(c),l.push(this.removeMatchingKeysForTargetId(t,d.targetId)),a++)}),nt.waitFor(l).next(()=>a)}getTargetCount(t){return nt.resolve(this.targetCount)}getTargetData(t,n){const r=this.oi.get(n)||null;return nt.resolve(r)}addMatchingKeys(t,n,r){return this.ai.Gr(n,r),nt.resolve()}removeMatchingKeys(t,n,r){this.ai.jr(n,r);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(c=>{l.push(a.markPotentiallyOrphaned(t,c))}),nt.waitFor(l)}removeMatchingKeysForTargetId(t,n){return this.ai.Hr(n),nt.resolve()}getMatchingKeysForTargetId(t,n){const r=this.ai.Yr(n);return nt.resolve(r)}containsKey(t,n){return nt.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(t,n){this.ci={},this.overlays={},this.li=new Zf(0),this.hi=!1,this.hi=!0,this.Pi=new dM,this.referenceDelegate=t(this),this.Ti=new yM(this),this.indexManager=new eM,this.remoteDocumentCache=function(a){return new pM(a)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new JN(n),this.Ei=new hM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new fM,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ci[t.toKey()];return r||(r=new mM(n,this.referenceDelegate),this.ci[t.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,n,r){ht("MemoryPersistence","Starting transaction:",t);const a=new vM(this.li.next());return this.referenceDelegate.di(),r(a).next(l=>this.referenceDelegate.Ai(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ri(t,n){return nt.or(Object.values(this.ci).map(r=>()=>r.containsKey(t,n)))}}class vM extends G8{constructor(t){super(),this.currentSequenceNumber=t}}class Qy{constructor(t){this.persistence=t,this.Vi=new $y,this.mi=null}static fi(t){return new Qy(t)}get gi(){if(this.mi)return this.mi;throw wt(60996)}addReference(t,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),nt.resolve()}removeReference(t,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),nt.resolve()}markPotentiallyOrphaned(t,n){return this.gi.add(n.toString()),nt.resolve()}removeTarget(t,n){this.Vi.Hr(n.targetId).forEach(a=>this.gi.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(a=>{a.forEach(l=>this.gi.add(l.toString()))}).next(()=>r.removeTargetData(t,n))}di(){this.mi=new Set}Ai(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.gi,r=>{const a=yt.fromPath(r);return this.pi(t,a).next(l=>{l||n.removeEntry(a,At.min())})}).next(()=>(this.mi=null,n.apply(t)))}updateLimboDocument(t,n){return this.pi(t,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(t){return 0}pi(t,n){return nt.or([()=>nt.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ri(t,n)])}}class Vf{constructor(t,n){this.persistence=t,this.yi=new xa(r=>$8(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=oM(this,n)}static fi(t,n){return new Vf(t,n)}di(){}Ai(t){return nt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}pr(t){const n=this.Sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>n.next(a=>r+a))}Sr(t){let n=0;return this.yr(t,r=>{n++}).next(()=>n)}yr(t,n){return nt.forEach(this.yi,(r,a)=>this.Dr(t,r,a).next(l=>l?nt.resolve():n(a)))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.si(t,c=>this.Dr(t,c,n).next(d=>{d||(r++,l.removeEntry(c,At.min()))})).next(()=>l.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,n){return this.yi.set(n,t.currentSequenceNumber),nt.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.yi.set(r,t.currentSequenceNumber),nt.resolve()}removeReference(t,n,r){return this.yi.set(r,t.currentSequenceNumber),nt.resolve()}updateLimboDocument(t,n){return this.yi.set(n,t.currentSequenceNumber),nt.resolve()}Ii(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=lf(t.data.value)),n}Dr(t,n,r){return nt.or([()=>this.persistence.Ri(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const a=this.yi.get(n);return nt.resolve(a!==void 0&&a>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(t,n,r,a){this.targetId=t,this.fromCache=n,this.ds=r,this.As=a}static Rs(t,n){let r=Ot(),a=Ot();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Xy(t,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return f9()?8:K8(on())>0?6:4}()}initialize(t,n){this.ys=t,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(t,n,r,a){const l={result:null};return this.ws(t,n).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.Ss(t,n,a,r).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new _M;return this.bs(t,n,c).next(d=>{if(l.result=d,this.fs)return this.Ds(t,n,c,d.size)})}).next(()=>l.result)}Ds(t,n,r,a){return r.documentReadCount<this.gs?(So()<=Pt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",Ao(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),nt.resolve()):(So()<=Pt.DEBUG&&ht("QueryEngine","Query:",Ao(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ps*a?(So()<=Pt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",Ao(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ci(n))):nt.resolve())}ws(t,n){if(KT(n))return nt.resolve(null);let r=Ci(n);return this.indexManager.getIndexType(t,r).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Dg(n,null,"F"),r=Ci(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(l=>{const c=Ot(...l);return this.ys.getDocuments(t,c).next(d=>this.indexManager.getMinOffset(t,r).next(m=>{const p=this.vs(n,d);return this.Cs(n,p,c,m.readTime)?this.ws(t,Dg(n,null,"F")):this.Fs(t,p,n,m)}))})))}Ss(t,n,r,a){return KT(n)||a.isEqual(At.min())?nt.resolve(null):this.ys.getDocuments(t,r).next(l=>{const c=this.vs(n,l);return this.Cs(n,c,r,a)?nt.resolve(null):(So()<=Pt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ao(n)),this.Fs(t,c,n,B8(a,Ku)).next(d=>d))})}vs(t,n){let r=new Pe(MS(t));return n.forEach((a,l)=>{id(t,l)&&(r=r.add(l))}),r}Cs(t,n,r,a){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const l=t.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}bs(t,n,r){return So()<=Pt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",Ao(n)),this.ys.getDocumentsMatchingQuery(t,n,ps.min(),r)}Fs(t,n,r,a){return this.ys.getDocumentsMatchingQuery(t,r,a).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy="LocalStore",EM=3e8;class bM{constructor(t,n,r,a){this.persistence=t,this.Ms=n,this.serializer=a,this.xs=new ce(It),this.Os=new xa(l=>By(l),Fy),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(r)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new cM(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.xs))}}function wM(e,t,n,r){return new bM(e,t,n,r)}async function nA(e,t){const n=xt(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next(l=>(a=l,n.Ls(t),n.mutationQueue.getAllMutationBatches(r))).next(l=>{const c=[],d=[];let m=Ot();for(const p of a){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){d.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(r,m).next(p=>({ks:p,removedBatchIds:c,addedBatchIds:d}))})})}function SM(e,t){const n=xt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=t.batch.keys(),l=n.Bs.newChangeBuffer({trackRemovals:!0});return function(d,m,p,y){const _=p.batch,b=_.keys();let x=nt.resolve();return b.forEach(C=>{x=x.next(()=>y.getEntry(m,C)).next(U=>{const N=p.docVersions.get(C);Gt(N!==null,48541),U.version.compareTo(N)<0&&(_.applyToRemoteDocument(U,p),U.isValidDocument()&&(U.setReadTime(p.commitVersion),y.addEntry(U)))})}),x.next(()=>d.mutationQueue.removeMutationBatch(m,_))}(n,r,t,l).next(()=>l.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let m=Ot();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(m=m.add(d.batch.mutations[p].key));return m}(t))).next(()=>n.localDocuments.getDocuments(r,a))})}function iA(e){const t=xt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ti.getLastRemoteSnapshotVersion(n))}function AM(e,t){const n=xt(e),r=t.snapshotVersion;let a=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.Bs.newChangeBuffer({trackRemovals:!0});a=n.xs;const d=[];t.targetChanges.forEach((y,_)=>{const b=a.get(_);if(!b)return;d.push(n.Ti.removeMatchingKeys(l,y.removedDocuments,_).next(()=>n.Ti.addMatchingKeys(l,y.addedDocuments,_)));let x=b.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(_)!==null?x=x.withResumeToken(We.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):y.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(y.resumeToken,r)),a=a.insert(_,x),function(U,N,k){return U.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=EM?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(b,x,y)&&d.push(n.Ti.updateTargetData(l,x))});let m=vr(),p=Ot();if(t.documentUpdates.forEach(y=>{t.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))}),d.push(xM(l,c,t.documentUpdates).next(y=>{m=y.qs,p=y.Qs})),!r.isEqual(At.min())){const y=n.Ti.getLastRemoteSnapshotVersion(l).next(_=>n.Ti.setTargetsMetadata(l,l.currentSequenceNumber,r));d.push(y)}return nt.waitFor(d).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,m,p)).next(()=>m)}).then(l=>(n.xs=a,l))}function xM(e,t,n){let r=Ot(),a=Ot();return n.forEach(l=>r=r.add(l)),t.getEntries(e,r).next(l=>{let c=vr();return n.forEach((d,m)=>{const p=l.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(At.min())?(t.removeEntry(d,m.readTime),c=c.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(m),c=c.insert(d,m)):ht(Wy,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)}),{qs:c,Qs:a}})}function RM(e,t){const n=xt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=Uy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function CM(e,t){const n=xt(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return n.Ti.getTargetData(r,t).next(l=>l?(a=l,nt.resolve(a)):n.Ti.allocateTargetId(r).next(c=>(a=new ss(t,c,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=n.xs.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(t,r.targetId)),r})}async function Og(e,t,n){const r=xt(e),a=r.xs.get(t),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,c=>r.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!il(c))throw c;ht(Wy,`Failed to update sequence numbers for target ${t}: ${c}`)}r.xs=r.xs.remove(t),r.Os.delete(a.target)}function sE(e,t,n){const r=xt(e);let a=At.min(),l=Ot();return r.persistence.runTransaction("Execute query","readwrite",c=>function(m,p,y){const _=xt(m),b=_.Os.get(y);return b!==void 0?nt.resolve(_.xs.get(b)):_.Ti.getTargetData(p,y)}(r,c,Ci(t)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(c,d.targetId).next(m=>{l=m})}).next(()=>r.Ms.getDocumentsMatchingQuery(c,t,n?a:At.min(),n?l:Ot())).next(d=>(IM(r,mN(t),d),{documents:d,$s:l})))}function IM(e,t,n){let r=e.Ns.get(t)||At.min();n.forEach((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),e.Ns.set(t,r)}class aE{constructor(){this.activeTargetIds=TN()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class DM{constructor(){this.xo=new aE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,n,r){this.Oo[t]=n}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new aE,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="ConnectivityMonitor";class lE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ht(oE,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){ht(oE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zh=null;function kg(){return Zh===null?Zh=function(){return 268435456+Math.round(2147483648*Math.random())}():Zh++,"0x"+Zh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp="RestConnection",MM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class VM{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+t.host,this.Wo=`projects/${r}/databases/${a}`,this.Go=this.databaseId.database===Rf?`project_id=${r}`:`project_id=${r}&database_id=${a}`}zo(t,n,r,a,l){const c=kg(),d=this.jo(t,n.toUriEncodedString());ht(Gp,`Sending RPC '${t}' ${c}:`,d,r);const m={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(m,a,l);const{host:p}=new URL(d),y=oc(p);return this.Jo(t,d,m,r,y).then(_=>(ht(Gp,`Received RPC '${t}' ${c}: `,_),_),_=>{throw Bo(Gp,`RPC '${t}' ${c} failed with error: `,_,"url: ",d,"request:",r),_})}Yo(t,n,r,a,l,c){return this.zo(t,n,r,a,l)}Ho(t,n,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+el}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>t[l]=a),r&&r.headers.forEach((a,l)=>t[l]=a)}jo(t,n){const r=MM[t];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class OM extends VM{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,a,l){const c=kg();return new Promise((d,m)=>{const p=new aS;p.setWithCredentials(!0),p.listenOnce(oS.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case of.NO_ERROR:const _=p.getResponseJson();ht(en,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(_)),d(_);break;case of.TIMEOUT:ht(en,`RPC '${t}' ${c} timed out`),m(new pt(rt.DEADLINE_EXCEEDED,"Request time out"));break;case of.HTTP_ERROR:const b=p.getStatus();if(ht(en,`RPC '${t}' ${c} failed with status:`,b,"response text:",p.getResponseText()),b>0){let x=p.getResponseJson();Array.isArray(x)&&(x=x[0]);const C=x==null?void 0:x.error;if(C&&C.status&&C.message){const U=function(k){const G=k.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(G)>=0?G:rt.UNKNOWN}(C.status);m(new pt(U,C.message))}else m(new pt(rt.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new pt(rt.UNAVAILABLE,"Connection failed."));break;default:wt(9055,{l_:t,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ht(en,`RPC '${t}' ${c} completed.`)}});const y=JSON.stringify(a);ht(en,`RPC '${t}' ${c} sending request:`,a),p.send(n,"POST",y,r,15)})}T_(t,n,r){const a=kg(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=cS(),d=uS(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Ho(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const y=l.join("");ht(en,`Creating RPC '${t}' stream ${a}: ${y}`,m);const _=c.createWebChannel(y,m);let b=!1,x=!1;const C=new PM({Zo:N=>{x?ht(en,`Not sending because RPC '${t}' stream ${a} is closed:`,N):(b||(ht(en,`Opening RPC '${t}' stream ${a} transport.`),_.open(),b=!0),ht(en,`RPC '${t}' stream ${a} sending:`,N),_.send(N))},Xo:()=>_.close()}),U=(N,k,G)=>{N.listen(k,Y=>{try{G(Y)}catch(st){setTimeout(()=>{throw st},0)}})};return U(_,wu.EventType.OPEN,()=>{x||(ht(en,`RPC '${t}' stream ${a} transport opened.`),C.__())}),U(_,wu.EventType.CLOSE,()=>{x||(x=!0,ht(en,`RPC '${t}' stream ${a} transport closed`),C.u_())}),U(_,wu.EventType.ERROR,N=>{x||(x=!0,Bo(en,`RPC '${t}' stream ${a} transport errored. Name:`,N.name,"Message:",N.message),C.u_(new pt(rt.UNAVAILABLE,"The operation could not be completed")))}),U(_,wu.EventType.MESSAGE,N=>{var k;if(!x){const G=N.data[0];Gt(!!G,16349);const Y=G,st=(Y==null?void 0:Y.error)||((k=Y[0])===null||k===void 0?void 0:k.error);if(st){ht(en,`RPC '${t}' stream ${a} received error:`,st);const J=st.status;let lt=function(I){const P=xe[I];if(P!==void 0)return qS(P)}(J),V=st.message;lt===void 0&&(lt=rt.INTERNAL,V="Unknown error status: "+J+" with message "+st.message),x=!0,C.u_(new pt(lt,V)),_.close()}else ht(en,`RPC '${t}' stream ${a} received:`,G),C.c_(G)}}),U(d,lS.STAT_EVENT,N=>{N.stat===Sg.PROXY?ht(en,`RPC '${t}' stream ${a} detected buffering proxy`):N.stat===Sg.NOPROXY&&ht(en,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{C.a_()},0),C}}function Kp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(e){return new jN(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(t,n,r=1e3,a=1.5,l=6e4){this.xi=t,this.timerId=n,this.I_=r,this.E_=a,this.d_=l,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(t){this.cancel();const n=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),a=Math.max(0,n-r);a>0&&ht("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.V_=Date.now(),t())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="PersistentStream";class sA{constructor(t,n,r,a,l,c,d,m){this.xi=t,this.y_=r,this.w_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new rA(t,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(t){this.k_(),this.stream.send(t)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(t,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,t!==4?this.C_.reset():n&&n.code===rt.RESOURCE_EXHAUSTED?(yr(n.toString()),yr("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===rt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const t=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.S_===n&&this.K_(r,a)},r=>{t(()=>{const a=new pt(rt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(a)})})}K_(t,n){const r=this.U_(this.S_);this.stream=this.G_(t,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{r(()=>this.W_(a))}),this.stream.onMessage(a=>{r(()=>++this.v_==1?this.z_(a):this.onNext(a))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(t){return ht(uE,`close with error: ${t}`),this.stream=null,this.close(4,t)}U_(t){return n=>{this.xi.enqueueAndForget(()=>this.S_===t?n():(ht(uE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kM extends sA{constructor(t,n,r,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}G_(t,n){return this.connection.T_("Listen",t,n)}z_(t){return this.onNext(t)}onNext(t){this.C_.reset();const n=FN(this.serializer,t),r=function(l){if(!("targetChange"in l))return At.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?At.min():c.readTime?Ii(c.readTime):At.min()}(t);return this.listener.j_(n,r)}H_(t){const n={};n.database=Pg(this.serializer),n.addTarget=function(l,c){let d;const m=c.target;if(d=Ig(m)?{documents:GN(l,m)}:{query:KN(l,m).gt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=YS(l,c.resumeToken);const p=Ng(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(At.min())>0){d.readTime=Mf(l,c.snapshotVersion.toTimestamp());const p=Ng(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,t);const r=$N(this.serializer,t);r&&(n.labels=r),this.L_(n)}J_(t){const n={};n.database=Pg(this.serializer),n.removeTarget=t,this.L_(n)}}class LM extends sA{constructor(t,n,r,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(t,n){return this.connection.T_("Write",t,n)}z_(t){return Gt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0,55816),this.listener.X_()}onNext(t){Gt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.C_.reset();const n=qN(t.writeResults,t.commitTime),r=Ii(t.commitTime);return this.listener.ea(r,n)}ta(){const t={};t.database=Pg(this.serializer),this.L_(t)}Z_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>HN(this.serializer,r))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{}class jM extends UM{constructor(t,n,r,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.na=!1}ra(){if(this.na)throw new pt(rt.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,n,r,a){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.zo(t,Mg(n,r),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new pt(rt.UNKNOWN,l.toString())})}Yo(t,n,r,a,l){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Yo(t,Mg(n,r),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pt(rt.UNKNOWN,c.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class zM{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(t){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.aa("Offline")))}set(t){this.la(),this.ia=0,t==="Online"&&(this.oa=!1),this.aa(t)}aa(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ua(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(yr(n),this.oa=!1):ht("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa="RemoteStore";class BM{constructor(t,n,r,a,l){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=l,this.Ea.No(c=>{r.enqueueAndForget(async()=>{Ra(this)&&(ht(Sa,"Restarting streams for network reachability change."),await async function(m){const p=xt(m);p.Ta.add(4),await fc(p),p.da.set("Unknown"),p.Ta.delete(4),await ld(p)}(this))})}),this.da=new zM(r,a)}}async function ld(e){if(Ra(e))for(const t of e.Ia)await t(!0)}async function fc(e){for(const t of e.Ia)await t(!1)}function aA(e,t){const n=xt(e);n.Pa.has(t.targetId)||(n.Pa.set(t.targetId,t),e0(n)?t0(n):rl(n).M_()&&Jy(n,t))}function Zy(e,t){const n=xt(e),r=rl(n);n.Pa.delete(t),r.M_()&&oA(n,t),n.Pa.size===0&&(r.M_()?r.N_():Ra(n)&&n.da.set("Unknown"))}function Jy(e,t){if(e.Aa.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}rl(e).H_(t)}function oA(e,t){e.Aa.Ke(t),rl(e).J_(t)}function t0(e){e.Aa=new ON({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e.Pa.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),rl(e).start(),e.da._a()}function e0(e){return Ra(e)&&!rl(e).F_()&&e.Pa.size>0}function Ra(e){return xt(e).Ta.size===0}function lA(e){e.Aa=void 0}async function FM(e){e.da.set("Online")}async function HM(e){e.Pa.forEach((t,n)=>{Jy(e,t)})}async function qM(e,t){lA(e),e0(e)?(e.da.ca(t),t0(e)):e.da.set("Unknown")}async function GM(e,t,n){if(e.da.set("Online"),t instanceof KS&&t.state===2&&t.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Pa.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Pa.delete(d),a.Aa.removeTarget(d))}(e,t)}catch(r){ht(Sa,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Pf(e,r)}else if(t instanceof hf?e.Aa.Xe(t):t instanceof GS?e.Aa.ot(t):e.Aa.nt(t),!n.isEqual(At.min()))try{const r=await iA(e.localStore);n.compareTo(r)>=0&&await function(l,c){const d=l.Aa.It(c);return d.targetChanges.forEach((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Pa.get(p);y&&l.Pa.set(p,y.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,p)=>{const y=l.Pa.get(m);if(!y)return;l.Pa.set(m,y.withResumeToken(We.EMPTY_BYTE_STRING,y.snapshotVersion)),oA(l,m);const _=new ss(y.target,m,p,y.sequenceNumber);Jy(l,_)}),l.remoteSyncer.applyRemoteEvent(d)}(e,n)}catch(r){ht(Sa,"Failed to raise snapshot:",r),await Pf(e,r)}}async function Pf(e,t,n){if(!il(t))throw t;e.Ta.add(1),await fc(e),e.da.set("Offline"),n||(n=()=>iA(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{ht(Sa,"Retrying IndexedDB access"),await n(),e.Ta.delete(1),await ld(e)})}function uA(e,t){return t().catch(n=>Pf(e,n,t))}async function ud(e){const t=xt(e),n=_s(t);let r=t.ha.length>0?t.ha[t.ha.length-1].batchId:Uy;for(;KM(t);)try{const a=await RM(t.localStore,r);if(a===null){t.ha.length===0&&n.N_();break}r=a.batchId,YM(t,a)}catch(a){await Pf(t,a)}cA(t)&&hA(t)}function KM(e){return Ra(e)&&e.ha.length<10}function YM(e,t){e.ha.push(t);const n=_s(e);n.M_()&&n.Y_&&n.Z_(t.mutations)}function cA(e){return Ra(e)&&!_s(e).F_()&&e.ha.length>0}function hA(e){_s(e).start()}async function $M(e){_s(e).ta()}async function QM(e){const t=_s(e);for(const n of e.ha)t.Z_(n.mutations)}async function XM(e,t,n){const r=e.ha.shift(),a=Gy.from(r,t,n);await uA(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await ud(e)}async function WM(e,t){t&&_s(e).Y_&&await async function(r,a){if(function(c){return VN(c)&&c!==rt.ABORTED}(a.code)){const l=r.ha.shift();_s(r).O_(),await uA(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a)),await ud(r)}}(e,t),cA(e)&&hA(e)}async function cE(e,t){const n=xt(e);n.asyncQueue.verifyOperationInProgress(),ht(Sa,"RemoteStore received new credentials");const r=Ra(n);n.Ta.add(3),await fc(n),r&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ta.delete(3),await ld(n)}async function ZM(e,t){const n=xt(e);t?(n.Ta.delete(2),await ld(n)):t||(n.Ta.add(2),await fc(n),n.da.set("Unknown"))}function rl(e){return e.Ra||(e.Ra=function(n,r,a){const l=xt(n);return l.ra(),new kM(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(e.datastore,e.asyncQueue,{e_:FM.bind(null,e),n_:HM.bind(null,e),i_:qM.bind(null,e),j_:GM.bind(null,e)}),e.Ia.push(async t=>{t?(e.Ra.O_(),e0(e)?t0(e):e.da.set("Unknown")):(await e.Ra.stop(),lA(e))})),e.Ra}function _s(e){return e.Va||(e.Va=function(n,r,a){const l=xt(n);return l.ra(),new LM(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(e.datastore,e.asyncQueue,{e_:()=>Promise.resolve(),n_:$M.bind(null,e),i_:WM.bind(null,e),X_:QM.bind(null,e),ea:XM.bind(null,e)}),e.Ia.push(async t=>{t?(e.Va.O_(),await ud(e)):(await e.Va.stop(),e.ha.length>0&&(ht(Sa,`Stopping write stream with ${e.ha.length} pending writes`),e.ha=[]))})),e.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(t,n,r,a,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,a,l){const c=Date.now()+r,d=new n0(t,n,c,a,l);return d.start(r),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pt(rt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function i0(e,t){if(yr("AsyncQueue",`${t}: ${e}`),il(e))return new pt(rt.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{static emptySet(t){return new Vo(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||yt.comparator(n.key,r.key):(n,r)=>yt.comparator(n.key,r.key),this.keyedMap=Su(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Vo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Vo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(){this.ma=new ce(yt.comparator)}track(t){const n=t.doc.key,r=this.ma.get(n);r?t.type!==0&&r.type===3?this.ma=this.ma.insert(n,t):t.type===3&&r.type!==1?this.ma=this.ma.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ma=this.ma.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ma=this.ma.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ma=this.ma.remove(n):t.type===1&&r.type===2?this.ma=this.ma.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ma=this.ma.insert(n,{type:2,doc:t.doc}):wt(63341,{Vt:t,fa:r}):this.ma=this.ma.insert(n,t)}ga(){const t=[];return this.ma.inorderTraversal((n,r)=>{t.push(r)}),t}}class Ko{constructor(t,n,r,a,l,c,d,m,p){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(t,n,r,a,l){const c=[];return n.forEach(d=>{c.push({type:0,doc:d})}),new Ko(t,n,Vo.emptySet(n),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&nd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(t=>t.Sa())}}class tV{constructor(){this.queries=fE(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,r){const a=xt(n),l=a.queries;a.queries=fE(),l.forEach((c,d)=>{for(const m of d.ya)m.onError(r)})})(this,new pt(rt.ABORTED,"Firestore shutting down"))}}function fE(){return new xa(e=>NS(e),nd)}async function eV(e,t){const n=xt(e);let r=3;const a=t.query;let l=n.queries.get(a);l?!l.wa()&&t.Sa()&&(r=2):(l=new JM,r=t.Sa()?0:1);try{switch(r){case 0:l.pa=await n.onListen(a,!0);break;case 1:l.pa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=i0(c,`Initialization of query '${Ao(t.query)}' failed`);return void t.onError(d)}n.queries.set(a,l),l.ya.push(t),t.Da(n.onlineState),l.pa&&t.va(l.pa)&&r0(n)}async function nV(e,t){const n=xt(e),r=t.query;let a=3;const l=n.queries.get(r);if(l){const c=l.ya.indexOf(t);c>=0&&(l.ya.splice(c,1),l.ya.length===0?a=t.Sa()?0:1:!l.wa()&&t.Sa()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function iV(e,t){const n=xt(e);let r=!1;for(const a of t){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.ya)d.va(a)&&(r=!0);c.pa=a}}r&&r0(n)}function rV(e,t,n){const r=xt(e),a=r.queries.get(t);if(a)for(const l of a.ya)l.onError(n);r.queries.delete(t)}function r0(e){e.ba.forEach(t=>{t.next()})}var Lg,dE;(dE=Lg||(Lg={})).Ca="default",dE.Cache="cache";class sV{constructor(t,n,r){this.query=t,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(t){if(!this.options.includeMetadataChanges){const r=[];for(const a of t.docChanges)a.type!==3&&r.push(a);t=new Ko(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Ma?this.Oa(t)&&(this.Fa.next(t),n=!0):this.Na(t,this.onlineState)&&(this.Ba(t),n=!0),this.xa=t,n}onError(t){this.Fa.error(t)}Da(t){this.onlineState=t;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,t)&&(this.Ba(this.xa),n=!0),n}Na(t,n){if(!t.fromCache||!this.Sa())return!0;const r=n!=="Offline";return(!this.options.La||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Oa(t){if(t.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(t){t=Ko.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Ma=!0,this.Fa.next(t)}Sa(){return this.options.source!==Lg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(t){this.key=t}}class dA{constructor(t){this.key=t}}class aV{constructor(t,n){this.query=t,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Ot(),this.mutatedKeys=Ot(),this.Ha=MS(t),this.Ja=new Vo(this.Ha)}get Ya(){return this.Ga}Za(t,n){const r=n?n.Xa:new hE,a=n?n.Ja:this.Ja;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((y,_)=>{const b=a.get(y),x=id(this.query,_)?_:null,C=!!b&&this.mutatedKeys.has(b.key),U=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let N=!1;b&&x?b.data.isEqual(x.data)?C!==U&&(r.track({type:3,doc:x}),N=!0):this.eu(b,x)||(r.track({type:2,doc:x}),N=!0,(m&&this.Ha(x,m)>0||p&&this.Ha(x,p)<0)&&(d=!0)):!b&&x?(r.track({type:0,doc:x}),N=!0):b&&!x&&(r.track({type:1,doc:b}),N=!0,(m||p)&&(d=!0)),N&&(x?(c=c.add(x),l=U?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),r.track({type:1,doc:y})}return{Ja:c,Xa:r,Cs:d,mutatedKeys:l}}eu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,a){const l=this.Ja;this.Ja=t.Ja,this.mutatedKeys=t.mutatedKeys;const c=t.Xa.ga();c.sort((y,_)=>function(x,C){const U=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt(20277,{Vt:N})}};return U(x)-U(C)}(y.type,_.type)||this.Ha(y.doc,_.doc)),this.tu(r),a=a!=null&&a;const d=n&&!a?this.nu():[],m=this.ja.size===0&&this.current&&!a?1:0,p=m!==this.za;return this.za=m,c.length!==0||p?{snapshot:new Ko(this.query,t.Ja,l,c,t.mutatedKeys,m===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:d}:{ru:d}}Da(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new hE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(t){return!this.Ga.has(t)&&!!this.Ja.has(t)&&!this.Ja.get(t).hasLocalMutations}tu(t){t&&(t.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=t.current)}nu(){if(!this.current)return[];const t=this.ja;this.ja=Ot(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const n=[];return t.forEach(r=>{this.ja.has(r)||n.push(new dA(r))}),this.ja.forEach(r=>{t.has(r)||n.push(new fA(r))}),n}su(t){this.Ga=t.$s,this.ja=Ot();const n=this.Za(t.documents);return this.applyChanges(n,!0)}ou(){return Ko.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const s0="SyncEngine";class oV{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class lV{constructor(t){this.key=t,this._u=!1}}class uV{constructor(t,n,r,a,l,c){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.au={},this.uu=new xa(d=>NS(d),nd),this.cu=new Map,this.lu=new Set,this.hu=new ce(yt.comparator),this.Pu=new Map,this.Tu=new $y,this.Iu={},this.Eu=new Map,this.du=Go.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function cV(e,t,n=!0){const r=_A(e);let a;const l=r.uu.get(t);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.ou()):a=await mA(r,t,n,!0),a}async function hV(e,t){const n=_A(e);await mA(n,t,!0,!1)}async function mA(e,t,n,r){const a=await CM(e.localStore,Ci(t)),l=a.targetId,c=e.sharedClientState.addLocalQueryTarget(l,n);let d;return r&&(d=await fV(e,t,l,c==="current",a.resumeToken)),e.isPrimaryClient&&n&&aA(e.remoteStore,a),d}async function fV(e,t,n,r,a){e.Ru=(_,b,x)=>async function(U,N,k,G){let Y=N.view.Za(k);Y.Cs&&(Y=await sE(U.localStore,N.query,!1).then(({documents:V})=>N.view.Za(V,Y)));const st=G&&G.targetChanges.get(N.targetId),J=G&&G.targetMismatches.get(N.targetId)!=null,lt=N.view.applyChanges(Y,U.isPrimaryClient,st,J);return pE(U,N.targetId,lt.ru),lt.snapshot}(e,_,b,x);const l=await sE(e.localStore,t,!0),c=new aV(t,l.$s),d=c.Za(l.documents),m=hc.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",a),p=c.applyChanges(d,e.isPrimaryClient,m);pE(e,n,p.ru);const y=new oV(t,n,c);return e.uu.set(t,y),e.cu.has(n)?e.cu.get(n).push(t):e.cu.set(n,[t]),p.snapshot}async function dV(e,t,n){const r=xt(e),a=r.uu.get(t),l=r.cu.get(a.targetId);if(l.length>1)return r.cu.set(a.targetId,l.filter(c=>!nd(c,t))),void r.uu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Og(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),n&&Zy(r.remoteStore,a.targetId),Ug(r,a.targetId)}).catch(nl)):(Ug(r,a.targetId),await Og(r.localStore,a.targetId,!0))}async function mV(e,t){const n=xt(e),r=n.uu.get(t),a=n.cu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Zy(n.remoteStore,r.targetId))}async function pV(e,t,n){const r=bV(e);try{const a=await function(c,d){const m=xt(c),p=Ve.now(),y=d.reduce((x,C)=>x.add(C.key),Ot());let _,b;return m.persistence.runTransaction("Locally write mutations","readwrite",x=>{let C=vr(),U=Ot();return m.Bs.getEntries(x,y).next(N=>{C=N,C.forEach((k,G)=>{G.isValidDocument()||(U=U.add(k))})}).next(()=>m.localDocuments.getOverlayedDocuments(x,C)).next(N=>{_=N;const k=[];for(const G of d){const Y=CN(G,_.get(G.key).overlayedDocument);Y!=null&&k.push(new xs(G.key,Y,SS(Y.value.mapValue),ii.exists(!0)))}return m.mutationQueue.addMutationBatch(x,p,k,d)}).next(N=>{b=N;const k=N.applyToLocalDocumentSet(_,U);return m.documentOverlayCache.saveOverlays(x,N.batchId,k)})}).then(()=>({batchId:b.batchId,changes:PS(_)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(a.batchId),function(c,d,m){let p=c.Iu[c.currentUser.toKey()];p||(p=new ce(It)),p=p.insert(d,m),c.Iu[c.currentUser.toKey()]=p}(r,a.batchId,n),await dc(r,a.changes),await ud(r.remoteStore)}catch(a){const l=i0(a,"Failed to persist write");n.reject(l)}}async function pA(e,t){const n=xt(e);try{const r=await AM(n.localStore,t);t.targetChanges.forEach((a,l)=>{const c=n.Pu.get(l);c&&(Gt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c._u=!0:a.modifiedDocuments.size>0?Gt(c._u,14607):a.removedDocuments.size>0&&(Gt(c._u,42227),c._u=!1))}),await dc(n,r,t)}catch(r){await nl(r)}}function mE(e,t,n){const r=xt(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.uu.forEach((l,c)=>{const d=c.view.Da(t);d.snapshot&&a.push(d.snapshot)}),function(c,d){const m=xt(c);m.onlineState=d;let p=!1;m.queries.forEach((y,_)=>{for(const b of _.ya)b.Da(d)&&(p=!0)}),p&&r0(m)}(r.eventManager,t),a.length&&r.au.j_(a),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function gV(e,t,n){const r=xt(e);r.sharedClientState.updateQueryState(t,"rejected",n);const a=r.Pu.get(t),l=a&&a.key;if(l){let c=new ce(yt.comparator);c=c.insert(l,sn.newNoDocument(l,At.min()));const d=Ot().add(l),m=new ad(At.min(),new Map,new ce(It),c,d);await pA(r,m),r.hu=r.hu.remove(l),r.Pu.delete(t),a0(r)}else await Og(r.localStore,t,!1).then(()=>Ug(r,t,n)).catch(nl)}async function yV(e,t){const n=xt(e),r=t.batch.batchId;try{const a=await SM(n.localStore,t);yA(n,r,null),gA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await dc(n,a)}catch(a){await nl(a)}}async function vV(e,t,n){const r=xt(e);try{const a=await function(c,d){const m=xt(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return m.mutationQueue.lookupMutationBatch(p,d).next(_=>(Gt(_!==null,37113),y=_.keys(),m.mutationQueue.removeMutationBatch(p,_))).next(()=>m.mutationQueue.performConsistencyCheck(p)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>m.localDocuments.getDocuments(p,y))})}(r.localStore,t);yA(r,t,n),gA(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await dc(r,a)}catch(a){await nl(a)}}function gA(e,t){(e.Eu.get(t)||[]).forEach(n=>{n.resolve()}),e.Eu.delete(t)}function yA(e,t,n){const r=xt(e);let a=r.Iu[r.currentUser.toKey()];if(a){const l=a.get(t);l&&(n?l.reject(n):l.resolve(),a=a.remove(t)),r.Iu[r.currentUser.toKey()]=a}}function Ug(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.cu.get(t))e.uu.delete(r),n&&e.au.Vu(r,n);e.cu.delete(t),e.isPrimaryClient&&e.Tu.Hr(t).forEach(r=>{e.Tu.containsKey(r)||vA(e,r)})}function vA(e,t){e.lu.delete(t.path.canonicalString());const n=e.hu.get(t);n!==null&&(Zy(e.remoteStore,n),e.hu=e.hu.remove(t),e.Pu.delete(n),a0(e))}function pE(e,t,n){for(const r of n)r instanceof fA?(e.Tu.addReference(r.key,t),_V(e,r)):r instanceof dA?(ht(s0,"Document no longer in limbo: "+r.key),e.Tu.removeReference(r.key,t),e.Tu.containsKey(r.key)||vA(e,r.key)):wt(19791,{mu:r})}function _V(e,t){const n=t.key,r=n.path.canonicalString();e.hu.get(n)||e.lu.has(r)||(ht(s0,"New document in limbo: "+n),e.lu.add(r),a0(e))}function a0(e){for(;e.lu.size>0&&e.hu.size<e.maxConcurrentLimboResolutions;){const t=e.lu.values().next().value;e.lu.delete(t);const n=new yt(re.fromString(t)),r=e.du.next();e.Pu.set(r,new lV(n)),e.hu=e.hu.insert(n,r),aA(e.remoteStore,new ss(Ci(Hy(n.path)),r,"TargetPurposeLimboResolution",Zf.le))}}async function dc(e,t,n){const r=xt(e),a=[],l=[],c=[];r.uu.isEmpty()||(r.uu.forEach((d,m)=>{c.push(r.Ru(m,t,n).then(p=>{var y;if((p||n)&&r.isPrimaryClient){const _=p?!p.fromCache:(y=n==null?void 0:n.targetChanges.get(m.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(p){a.push(p);const _=Xy.Rs(m.targetId,p);l.push(_)}}))}),await Promise.all(c),r.au.j_(a),await async function(m,p){const y=xt(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>nt.forEach(p,b=>nt.forEach(b.ds,x=>y.persistence.referenceDelegate.addReference(_,b.targetId,x)).next(()=>nt.forEach(b.As,x=>y.persistence.referenceDelegate.removeReference(_,b.targetId,x)))))}catch(_){if(!il(_))throw _;ht(Wy,"Failed to update sequence numbers: "+_)}for(const _ of p){const b=_.targetId;if(!_.fromCache){const x=y.xs.get(b),C=x.snapshotVersion,U=x.withLastLimboFreeSnapshotVersion(C);y.xs=y.xs.insert(b,U)}}}(r.localStore,l))}async function TV(e,t){const n=xt(e);if(!n.currentUser.isEqual(t)){ht(s0,"User change. New user:",t.toKey());const r=await nA(n.localStore,t);n.currentUser=t,function(l,c){l.Eu.forEach(d=>{d.forEach(m=>{m.reject(new pt(rt.CANCELLED,c))})}),l.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await dc(n,r.ks)}}function EV(e,t){const n=xt(e),r=n.Pu.get(t);if(r&&r._u)return Ot().add(r.key);{let a=Ot();const l=n.cu.get(t);if(!l)return a;for(const c of l){const d=n.uu.get(c);a=a.unionWith(d.view.Ya)}return a}}function _A(e){const t=xt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=pA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=EV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=gV.bind(null,t),t.au.j_=iV.bind(null,t.eventManager),t.au.Vu=rV.bind(null,t.eventManager),t}function bV(e){const t=xt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=yV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=vV.bind(null,t),t}class Of{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=od(t.databaseInfo.databaseId),this.sharedClientState=this.pu(t),this.persistence=this.yu(t),await this.persistence.start(),this.localStore=this.wu(t),this.gcScheduler=this.Su(t,this.localStore),this.indexBackfillerScheduler=this.bu(t,this.localStore)}Su(t,n){return null}bu(t,n){return null}wu(t){return wM(this.persistence,new TM,t.initialUser,this.serializer)}yu(t){return new eA(Qy.fi,this.serializer)}pu(t){return new DM}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Of.provider={build:()=>new Of};class wV extends Of{constructor(t){super(),this.cacheSizeBytes=t}Su(t,n){Gt(this.persistence.referenceDelegate instanceof Vf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new sM(r,t.asyncQueue,n)}yu(t){const n=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new eA(r=>Vf.fi(r,n),this.serializer)}}class jg{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>mE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=TV.bind(null,this.syncEngine),await ZM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new tV}()}createDatastore(t){const n=od(t.databaseInfo.databaseId),r=function(l){return new OM(l)}(t.databaseInfo);return function(l,c,d,m){return new jM(l,c,d,m)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,a,l,c,d){return new BM(r,a,l,c,d)}(this.localStore,this.datastore,t.asyncQueue,n=>mE(this.syncEngine,n,0),function(){return lE.C()?new lE:new NM}())}createSyncEngine(t,n){return function(a,l,c,d,m,p,y){const _=new uV(a,l,c,d,m,p);return y&&(_.Au=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(a){const l=xt(a);ht(Sa,"RemoteStore shutting down."),l.Ta.add(5),await fc(l),l.Ea.shutdown(),l.da.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}jg.provider={build:()=>new jg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.vu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.vu(this.observer.error,t):yr("Uncaught Error in snapshot listener:",t.toString()))}Cu(){this.muted=!0}vu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="FirestoreClient";class AV{constructor(t,n,r,a,l){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=rn.UNAUTHENTICATED,this.clientId=mS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,async c=>{ht(Ts,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(ht(Ts,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=i0(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Yp(e,t){e.asyncQueue.verifyOperationInProgress(),ht(Ts,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async a=>{r.isEqual(a)||(await nA(t.localStore,a),r=a)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function gE(e,t){e.asyncQueue.verifyOperationInProgress();const n=await xV(e);ht(Ts,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>cE(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,a)=>cE(t.remoteStore,a)),e._onlineComponents=t}async function xV(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ht(Ts,"Using user provided OfflineComponentProvider");try{await Yp(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(a){return a.name==="FirebaseError"?a.code===rt.FAILED_PRECONDITION||a.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Bo("Error using user provided cache. Falling back to memory cache: "+n),await Yp(e,new Of)}}else ht(Ts,"Using default OfflineComponentProvider"),await Yp(e,new wV(void 0));return e._offlineComponents}async function TA(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ht(Ts,"Using user provided OnlineComponentProvider"),await gE(e,e._uninitializedComponentsProvider._online)):(ht(Ts,"Using default OnlineComponentProvider"),await gE(e,new jg))),e._onlineComponents}function RV(e){return TA(e).then(t=>t.syncEngine)}async function CV(e){const t=await TA(e),n=t.eventManager;return n.onListen=cV.bind(null,t.syncEngine),n.onUnlisten=dV.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=hV.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=mV.bind(null,t.syncEngine),n}function IV(e,t,n={}){const r=new hs;return e.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,p){const y=new SV({next:b=>{y.Cu(),c.enqueueAndForget(()=>nV(l,_));const x=b.docs.has(d);!x&&b.fromCache?p.reject(new pt(rt.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&b.fromCache&&m&&m.source==="server"?p.reject(new pt(rt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),_=new sV(Hy(d.path),y,{includeMetadataChanges:!0,La:!0});return eV(l,_)}(await CV(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(e,t,n){if(!n)throw new pt(rt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function DV(e,t,n,r){if(t===!0&&r===!0)throw new pt(rt.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function vE(e){if(!yt.isDocumentKey(e))throw new pt(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function _E(e){if(yt.isDocumentKey(e))throw new pt(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function o0(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":wt(12329,{type:typeof e})}function Es(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new pt(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=o0(e);throw new pt(rt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="firestore.googleapis.com",TE=!0;class EE{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new pt(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wA,this.ssl=TE}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:TE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=tA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<iM)throw new pt(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}DV("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=EA((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new pt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new pt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new pt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class cd{constructor(t,n,r,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new EE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pt(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new pt(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new EE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new M8;switch(r.type){case"firstParty":return new k8(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pt(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=yE.get(n);r&&(ht("ComponentProvider","Removing Datastore"),yE.delete(n),r.terminate())}(this),Promise.resolve()}}function NV(e,t,n,r={}){var a;e=Es(e,cd);const l=oc(t),c=e._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:e._getEmulatorOptions()}),m=`${t}:${n}`;l&&(Ww(`https://${m}`),Zw("Firestore",!0)),c.host!==wA&&c.host!==m&&Bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:m,ssl:l,emulatorOptions:r});if(!Ea(p,d)&&(e._setSettings(p),r.mockUserToken)){let y,_;if(typeof r.mockUserToken=="string")y=r.mockUserToken,_=rn.MOCK_USER;else{y=i9(r.mockUserToken,(a=e._app)===null||a===void 0?void 0:a.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new pt(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new rn(b)}e._authCredentials=new V8(new fS(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new l0(this.firestore,t,this._query)}}class _n{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new _n(this.firestore,t,this._key)}}class fs extends l0{constructor(t,n,r){super(t,n,Hy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new _n(this.firestore,null,new yt(t))}withConverter(t){return new fs(this.firestore,t,this._path)}}function MV(e,t,...n){if(e=Xe(e),bA("collection","path",t),e instanceof cd){const r=re.fromString(t,...n);return _E(r),new fs(e,null,r)}{if(!(e instanceof _n||e instanceof fs))throw new pt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(re.fromString(t,...n));return _E(r),new fs(e.firestore,null,r)}}function Ca(e,t,...n){if(e=Xe(e),arguments.length===1&&(t=mS.newId()),bA("doc","path",t),e instanceof cd){const r=re.fromString(t,...n);return vE(r),new _n(e,null,new yt(r))}{if(!(e instanceof _n||e instanceof fs))throw new pt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(re.fromString(t,...n));return vE(r),new _n(e.firestore,e instanceof fs?e.converter:null,new yt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="AsyncQueue";class wE{constructor(t=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new rA(this,"async_queue_retry"),this.ec=()=>{const r=Kp();r&&ht(bE,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=t;const n=Kp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.nc(),this.rc(t)}enterRestrictedMode(t){if(!this.ju){this.ju=!0,this.Zu=t||!1;const n=Kp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(t){if(this.nc(),this.ju)return new Promise(()=>{});const n=new hs;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.zu.push(t),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(t){if(!il(t))throw t;ht(bE,"Operation failed with retryable error: "+t)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(t){const n=this.tc.then(()=>(this.Yu=!0,t().catch(r=>{throw this.Ju=r,this.Yu=!1,yr("INTERNAL UNHANDLED ERROR: ",SE(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=n,n}enqueueAfterDelay(t,n,r){this.nc(),this.Xu.indexOf(t)>-1&&(n=0);const a=n0.createAndSchedule(this,t,n,r,l=>this.oc(l));return this.Hu.push(a),a}nc(){this.Ju&&wt(47125,{_c:SE(this.Ju)})}verifyOperationInProgress(){}async ac(){let t;do t=this.tc,await t;while(t!==this.tc)}uc(t){for(const n of this.Hu)if(n.timerId===t)return!0;return!1}cc(t){return this.ac().then(()=>{this.Hu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.ac()})}lc(t){this.Xu.push(t)}oc(t){const n=this.Hu.indexOf(t);this.Hu.splice(n,1)}}function SE(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class mc extends cd{constructor(t,n,r,a){super(t,n,r,a),this.type="firestore",this._queue=new wE,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new wE(t),this._firestoreClient=void 0,await t}}}function VV(e,t){const n=typeof e=="object"?e:nS(),r=typeof e=="string"?e:Rf,a=ky(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=e9("firestore");l&&NV(a,...l)}return a}function SA(e){if(e._terminated)throw new pt(rt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||PV(e),e._firestoreClient}function PV(e){var t,n,r;const a=e._freezeSettings(),l=function(d,m,p,y){return new W8(d,m,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,EA(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,a);e._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new AV(e._authCredentials,e._appCheckCredentials,e._queue,l,e._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Yo(We.fromBase64String(t))}catch(n){throw new pt(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Yo(We.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new pt(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new pt(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new pt(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return It(this._lat,t._lat)||It(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV=/^__.*__$/;class kV{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new xs(t,this.data,this.fieldMask,n,this.fieldTransforms):new cc(t,this.data,n,this.fieldTransforms)}}class AA{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new xs(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function xA(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt(40011,{hc:e})}}class h0{constructor(t,n,r,a,l,c){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Pc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(t){return new h0(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),a=this.Tc({path:r,Ec:!1});return a.dc(t),a}Ac(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),a=this.Tc({path:r,Ec:!1});return a.Pc(),a}Rc(t){return this.Tc({path:void 0,Ec:!0})}Vc(t){return kf(t,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let t=0;t<this.path.length;t++)this.dc(this.path.get(t))}dc(t){if(t.length===0)throw this.Vc("Document fields must not be empty");if(xA(this.hc)&&OV.test(t))throw this.Vc('Document fields cannot begin and end with "__"')}}class LV{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||od(t)}gc(t,n,r,a=!1){return new h0({hc:t,methodName:n,fc:r,path:Qe.emptyPath(),Ec:!1,mc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function f0(e){const t=e._freezeSettings(),n=od(e._databaseId);return new LV(e._databaseId,!!t.ignoreUndefinedProperties,n)}function RA(e,t,n,r,a,l={}){const c=e.gc(l.merge||l.mergeFields?2:0,t,n,a);m0("Data must be an object, but it was:",c,r);const d=CA(r,c);let m,p;if(l.merge)m=new Dn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const b=zg(t,_,n);if(!c.contains(b))throw new pt(rt.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);DA(y,b)||y.push(b)}m=new Dn(y),p=c.fieldTransforms.filter(_=>m.covers(_.field))}else m=null,p=c.fieldTransforms;return new kV(new yn(d),m,p)}class dd extends fd{_toFieldTransform(t){if(t.hc!==2)throw t.hc===1?t.Vc(`${this._methodName}() can only appear at the top level of your update data`):t.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof dd}}class d0 extends fd{_toFieldTransform(t){return new SN(t.path,new Xu)}isEqual(t){return t instanceof d0}}function UV(e,t,n,r){const a=e.gc(1,t,n);m0("Data must be an object, but it was:",a,r);const l=[],c=yn.empty();As(r,(m,p)=>{const y=p0(t,m,n);p=Xe(p);const _=a.Ac(y);if(p instanceof dd)l.push(y);else{const b=md(p,_);b!=null&&(l.push(y),c.set(y,b))}});const d=new Dn(l);return new AA(c,d,a.fieldTransforms)}function jV(e,t,n,r,a,l){const c=e.gc(1,t,n),d=[zg(t,r,n)],m=[a];if(l.length%2!=0)throw new pt(rt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)d.push(zg(t,l[b])),m.push(l[b+1]);const p=[],y=yn.empty();for(let b=d.length-1;b>=0;--b)if(!DA(p,d[b])){const x=d[b];let C=m[b];C=Xe(C);const U=c.Ac(x);if(C instanceof dd)p.push(x);else{const N=md(C,U);N!=null&&(p.push(x),y.set(x,N))}}const _=new Dn(p);return new AA(y,_,c.fieldTransforms)}function md(e,t){if(IA(e=Xe(e)))return m0("Unsupported field value:",t,e),CA(e,t);if(e instanceof fd)return function(r,a){if(!xA(a.hc))throw a.Vc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Vc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Ec&&t.hc!==4)throw t.Vc("Nested arrays are not supported");return function(r,a){const l=[];let c=0;for(const d of r){let m=md(d,a.Rc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(e,t)}return function(r,a){if((r=Xe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return EN(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=Ve.fromDate(r);return{timestampValue:Mf(a.serializer,l)}}if(r instanceof Ve){const l=new Ve(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Mf(a.serializer,l)}}if(r instanceof u0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yo)return{bytesValue:YS(a.serializer,r._byteString)};if(r instanceof _n){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.Vc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Yy(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof c0)return function(c,d){return{mapValue:{fields:{[bS]:{stringValue:wS},[Cf]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw d.Vc("VectorValues must only contain numeric values.");return qy(d.serializer,p)})}}}}}}(r,a);throw a.Vc(`Unsupported field value: ${o0(r)}`)}(e,t)}function CA(e,t){const n={};return gS(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):As(e,(r,a)=>{const l=md(a,t.Ic(r));l!=null&&(n[r]=l)}),{mapValue:{fields:n}}}function IA(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ve||e instanceof u0||e instanceof Yo||e instanceof _n||e instanceof fd||e instanceof c0)}function m0(e,t,n){if(!IA(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const r=o0(n);throw r==="an object"?t.Vc(e+" a custom object"):t.Vc(e+" "+r)}}function zg(e,t,n){if((t=Xe(t))instanceof hd)return t._internalPath;if(typeof t=="string")return p0(e,t);throw kf("Field path arguments must be of type string or ",e,!1,void 0,n)}const zV=new RegExp("[~\\*/\\[\\]]");function p0(e,t,n){if(t.search(zV)>=0)throw kf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new hd(...t.split("."))._internalPath}catch{throw kf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function kf(e,t,n,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let d=`Function ${t}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${r}`),c&&(m+=` in document ${a}`),m+=")"),new pt(rt.INVALID_ARGUMENT,d+e+m)}function DA(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(t,n,r,a,l){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new BV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(MA("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class BV extends NA{data(){return super.data()}}function MA(e,t){return typeof t=="string"?p0(e,t):t instanceof hd?t._internalPath:t._delegate._internalPath}class FV{convertValue(t,n="none"){switch(vs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Te(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ys(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw wt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return As(t,(a,l)=>{r[a]=this.convertValue(l,n)}),r}convertVectorValue(t){var n,r,a;const l=(a=(r=(n=t.fields)===null||n===void 0?void 0:n[Cf].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(c=>Te(c.doubleValue));return new c0(l)}convertGeoPoint(t){return new u0(Te(t.latitude),Te(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=td(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Yu(t));default:return null}}convertTimestamp(t){const n=gs(t);return new Ve(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=re.fromString(t);Gt(JS(r),9688,{name:t});const a=new $u(r.get(1),r.get(3)),l=new yt(r.popFirst(5));return a.isEqual(n)||yr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(e,t,n){let r;return r=e?e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class PA extends NA{constructor(t,n,r,a,l,c){super(t,n,r,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new qV(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(MA("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class qV extends PA{data(t={}){return super.data(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(e){e=Es(e,_n);const t=Es(e.firestore,mc);return IV(SA(t),e._key).then(n=>$V(t,e,n))}class GV extends FV{constructor(t){super(),this.firestore=t}convertBytes(t){return new Yo(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new _n(this.firestore,null,n)}}function OA(e,t,n){e=Es(e,_n);const r=Es(e.firestore,mc),a=VA(e.converter,t);return y0(r,[RA(f0(r),"setDoc",e._key,a,e.converter!==null,n).toMutation(e._key,ii.none())])}function KV(e,t,n,...r){e=Es(e,_n);const a=Es(e.firestore,mc),l=f0(a);let c;return c=typeof(t=Xe(t))=="string"||t instanceof hd?jV(l,"updateDoc",e._key,t,n,r):UV(l,"updateDoc",e._key,t),y0(a,[c.toMutation(e._key,ii.exists(!0))])}function YV(e,t){const n=Es(e.firestore,mc),r=Ca(e),a=VA(e.converter,t);return y0(n,[RA(f0(e.firestore),"addDoc",r._key,a,e.converter!==null,{}).toMutation(r._key,ii.exists(!1))]).then(()=>r)}function y0(e,t){return function(r,a){const l=new hs;return r.asyncQueue.enqueueAndForget(async()=>pV(await RV(r),a,l)),l.promise}(SA(e),t)}function $V(e,t,n){const r=n.docs.get(t._key),a=new GV(e);return new PA(e,a,t._key,r,new HV(n.hasPendingWrites,n.fromCache),t.converter)}function v0(){return new d0("serverTimestamp")}(function(t,n=!0){(function(a){el=a})(tl),zo(new ba("firestore",(r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),d=new mc(new P8(r.getProvider("auth-internal")),new L8(c,r.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new pt(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $u(p.options.projectId,y)}(c,a),c);return l=Object.assign({useFetchStreams:n},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),us(IT,DT,t),us(IT,DT,"esm2017")})();function _0(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function kA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QV=kA,LA=new lc("auth","Firebase",kA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf=new Py("@firebase/auth");function XV(e,...t){Lf.logLevel<=Pt.WARN&&Lf.warn(`Auth (${tl}): ${e}`,...t)}function ff(e,...t){Lf.logLevel<=Pt.ERROR&&Lf.error(`Auth (${tl}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(e,...t){throw E0(e,...t)}function ri(e,...t){return E0(e,...t)}function T0(e,t,n){const r=Object.assign(Object.assign({},QV()),{[t]:n});return new lc("auth","Firebase",r).create(t,{appName:e.name})}function fr(e){return T0(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function WV(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&Yn(e,"argument-error"),T0(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function E0(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return LA.create(e,...t)}function _t(e,t,...n){if(!e)throw E0(t,...n)}function ur(e){const t="INTERNAL ASSERTION FAILED: "+e;throw ff(t),new Error(t)}function _r(e,t){e||ur(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function ZV(){return AE()==="http:"||AE()==="https:"}function AE(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZV()||u9()||"connection"in navigator)?navigator.onLine:!0}function tP(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(t,n){this.shortDelay=t,this.longDelay=n,_r(n>t,"Short delay should be less than long delay!"),this.isMobile=a9()||c9()}get(){return JV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(e,t){_r(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],iP=new pc(3e4,6e4);function br(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function wr(e,t,n,r,a={}){return jA(e,a,async()=>{let l={},c={};r&&(t==="GET"?c=r:l={body:JSON.stringify(r)});const d=uc(Object.assign({key:e.config.apiKey},c)).slice(1),m=await e._getAdditionalHeaders();m["Content-Type"]="application/json",e.languageCode&&(m["X-Firebase-Locale"]=e.languageCode);const p=Object.assign({method:t,headers:m},l);return l9()||(p.referrerPolicy="no-referrer"),e.emulatorConfig&&oc(e.emulatorConfig.host)&&(p.credentials="include"),UA.fetch()(await zA(e,e.config.apiHost,n,d),p)})}async function jA(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},eP),t);try{const a=new sP(e),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Jh(e,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,p]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jh(e,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Jh(e,"email-already-in-use",c);if(m==="USER_DISABLED")throw Jh(e,"user-disabled",c);const y=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw T0(e,y,p);Yn(e,y)}}catch(a){if(a instanceof Er)throw a;Yn(e,"network-request-failed",{message:String(a)})}}async function gc(e,t,n,r,a={}){const l=await wr(e,t,n,r,a);return"mfaPendingCredential"in l&&Yn(e,"multi-factor-auth-required",{_serverResponse:l}),l}async function zA(e,t,n,r){const a=`${t}${n}?${r}`,l=e,c=l.config.emulator?b0(e.config,a):`${e.config.apiScheme}://${a}`;return nP.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function rP(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ri(this.auth,"network-request-failed")),iP.get())})}}function Jh(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=ri(e,t,r);return a.customData._tokenResponse=n,a}function xE(e){return e!==void 0&&e.enterprise!==void 0}class aP{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return rP(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function oP(e,t){return wr(e,"GET","/v2/recaptchaConfig",br(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lP(e,t){return wr(e,"POST","/v1/accounts:delete",t)}async function Uf(e,t){return wr(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function uP(e,t=!1){const n=Xe(e),r=await n.getIdToken(t),a=w0(r);_t(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:r,authTime:ku($p(a.auth_time)),issuedAtTime:ku($p(a.iat)),expirationTime:ku($p(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function $p(e){return Number(e)*1e3}function w0(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return ff("JWT malformed, contained fewer than 3 sections"),null;try{const a=Yw(n);return a?JSON.parse(a):(ff("Failed to decode base64 JWT payload"),null)}catch(a){return ff("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function RE(e){const t=w0(e);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ju(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Er&&cP(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function cP({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ku(this.lastLoginAt),this.creationTime=ku(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jf(e){var t;const n=e.auth,r=await e.getIdToken(),a=await Ju(e,Uf(n,{idToken:r}));_t(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];e._notifyReloadListener(l);const c=!((t=l.providerUserInfo)===null||t===void 0)&&t.length?BA(l.providerUserInfo):[],d=dP(e.providerData,c),m=e.isAnonymous,p=!(e.email&&l.passwordHash)&&!(d!=null&&d.length),y=m?p:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Fg(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(e,_)}async function fP(e){const t=Xe(e);await jf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function dP(e,t){return[...e.filter(r=>!t.some(a=>a.providerId===r.providerId)),...t]}function BA(e){return e.map(t=>{var{providerId:n}=t,r=_0(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mP(e,t){const n=await jA(e,{},async()=>{const r=uc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=e.config,c=await zA(e,a,"/v1/token",`key=${l}`),d=await e._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",UA.fetch()(c,{method:"POST",headers:d,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function pP(e,t){return wr(e,"POST","/v2/accounts:revokeToken",br(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):RE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const n=RE(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:a,expiresIn:l}=await mP(t,n);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:a,expirationTime:l}=n,c=new Po;return r&&(_t(typeof r=="string","internal-error",{appName:t}),c.refreshToken=r),a&&(_t(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),l&&(_t(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Po,this.toJSON())}_performRefresh(){return ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(e,t){_t(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class ni{constructor(t){var{uid:n,auth:r,stsTokenManager:a}=t,l=_0(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Fg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await Ju(this,this.stsTokenManager.getToken(this.auth,t));return _t(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return uP(this,t)}reload(){return fP(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ni(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await jf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(In(this.auth.app))return Promise.reject(fr(this.auth));const t=await this.getIdToken();return await Ju(this,lP(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,a,l,c,d,m,p,y;const _=(r=n.displayName)!==null&&r!==void 0?r:void 0,b=(a=n.email)!==null&&a!==void 0?a:void 0,x=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,C=(c=n.photoURL)!==null&&c!==void 0?c:void 0,U=(d=n.tenantId)!==null&&d!==void 0?d:void 0,N=(m=n._redirectEventId)!==null&&m!==void 0?m:void 0,k=(p=n.createdAt)!==null&&p!==void 0?p:void 0,G=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:Y,emailVerified:st,isAnonymous:J,providerData:lt,stsTokenManager:V}=n;_t(Y&&V,t,"internal-error");const R=Po.fromJSON(this.name,V);_t(typeof Y=="string",t,"internal-error"),ts(_,t.name),ts(b,t.name),_t(typeof st=="boolean",t,"internal-error"),_t(typeof J=="boolean",t,"internal-error"),ts(x,t.name),ts(C,t.name),ts(U,t.name),ts(N,t.name),ts(k,t.name),ts(G,t.name);const I=new ni({uid:Y,auth:t,email:b,emailVerified:st,displayName:_,isAnonymous:J,photoURL:C,phoneNumber:x,tenantId:U,stsTokenManager:R,createdAt:k,lastLoginAt:G});return lt&&Array.isArray(lt)&&(I.providerData=lt.map(P=>Object.assign({},P))),N&&(I._redirectEventId=N),I}static async _fromIdTokenResponse(t,n,r=!1){const a=new Po;a.updateFromServerResponse(n);const l=new ni({uid:n.localId,auth:t,stsTokenManager:a,isAnonymous:r});return await jf(l),l}static async _fromGetAccountInfoResponse(t,n,r){const a=n.users[0];_t(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?BA(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new Po;d.updateFromIdToken(r);const m=new ni({uid:a.localId,auth:t,stsTokenManager:d,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Fg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE=new Map;function cr(e){_r(e instanceof Function,"Expected a class definition");let t=CE.get(e);return t?(_r(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,CE.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}FA.type="NONE";const IE=FA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(e,t,n){return`firebase:${e}:${t}:${n}`}class Oo{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=df(this.userKey,a.apiKey,l),this.fullPersistenceKey=df("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Uf(this.auth,{idToken:t}).catch(()=>{});return n?ni._fromGetAccountInfoResponse(this.auth,n,t):null}return ni._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Oo(cr(IE),t,r);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||cr(IE);const c=df(r,t.config.apiKey,t.name);let d=null;for(const p of n)try{const y=await p._get(c);if(y){let _;if(typeof y=="string"){const b=await Uf(t,{idToken:y}).catch(()=>{});if(!b)break;_=await ni._fromGetAccountInfoResponse(t,b,y)}else _=ni._fromJSON(t,y);p!==l&&(d=_),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Oo(l,t,r):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Oo(l,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(KA(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(HA(t))return"Firefox";if(t.includes("silk/"))return"Silk";if($A(t))return"Blackberry";if(QA(t))return"Webos";if(qA(t))return"Safari";if((t.includes("chrome/")||GA(t))&&!t.includes("edge/"))return"Chrome";if(YA(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function HA(e=on()){return/firefox\//i.test(e)}function qA(e=on()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function GA(e=on()){return/crios\//i.test(e)}function KA(e=on()){return/iemobile/i.test(e)}function YA(e=on()){return/android/i.test(e)}function $A(e=on()){return/blackberry/i.test(e)}function QA(e=on()){return/webos/i.test(e)}function S0(e=on()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function gP(e=on()){var t;return S0(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function yP(){return h9()&&document.documentMode===10}function XA(e=on()){return S0(e)||YA(e)||QA(e)||$A(e)||/windows phone/i.test(e)||KA(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(e,t=[]){let n;switch(e){case"Browser":n=DE(on());break;case"Worker":n=`${DE(on())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${tl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=l=>new Promise((c,d)=>{try{const m=t(l);c(m)}catch(m){d(m)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _P(e,t={}){return wr(e,"GET","/v2/passwordPolicy",br(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP=6;class EP{constructor(t){var n,r,a,l;const c=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:TP,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=t.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,a,l,c,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,m),this.validatePasswordCharacterOptions(t,m),m.isValid&&(m.isValid=(n=m.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),m.isValid&&(m.isValid=(r=m.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),a&&(n.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<t.length;a++)r=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(t,n,r,a){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new NE(this),this.idTokenSubscription=new NE(this),this.beforeStateQueue=new vP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=cr(n)),this._initializationPromise=this.queue(async()=>{var r,a,l;if(!this._deleted&&(this.persistenceManager=await Oo.create(this,t),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Uf(this,{idToken:t}),r=await ni._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(In(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(t);(!c||c===d)&&(m!=null&&m.user)&&(a=m.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await jf(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=tP()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(In(this.app))return Promise.reject(fr(this));const n=t?Xe(t):null;return n&&_t(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return In(this.app)?Promise.reject(fr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return In(this.app)?Promise.reject(fr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await _P(this),n=new EP(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new lc("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await pP(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&cr(t)||this._popupRedirectResolver;_t(n,this,"argument-error"),this.redirectPersistenceManager=await Oo.create(this,[cr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=t.addObserver(n,r,a);return()=>{c=!0,m()}}else{const m=t.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=WA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var t;if(In(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&XV(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Sr(e){return Xe(e)}class NE{constructor(t){this.auth=t,this.observer=null,this.addObserver=_9(n=>this.observer=n)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wP(e){pd=e}function ZA(e){return pd.loadJS(e)}function SP(){return pd.recaptchaEnterpriseScript}function AP(){return pd.gapiScript}function xP(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class RP{constructor(){this.enterprise=new CP}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class CP{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const IP="recaptcha-enterprise",JA="NO_RECAPTCHA";class DP{constructor(t){this.type=IP,this.auth=Sr(t)}async verify(t="verify",n=!1){async function r(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{oP(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new aP(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(m=>{d(m)})})}function a(l,c,d){const m=window.grecaptcha;xE(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:t}).then(p=>{c(p)}).catch(()=>{c(JA)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new RP().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{r(this.auth).then(d=>{if(!n&&xE(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=SP();m.length!==0&&(m+=d),ZA(m).then(()=>{a(d,l,c)}).catch(p=>{c(p)})}}).catch(d=>{c(d)})})}}async function ME(e,t,n,r=!1,a=!1){const l=new DP(e);let c;if(a)c=JA;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const d=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function zf(e,t,n,r,a){var l;if(!((l=e._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await ME(e,t,n,n==="getOobCode");return r(e,c)}else return r(e,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await ME(e,t,n,n==="getOobCode");return r(e,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(e,t){const n=ky(e,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ea(l,t??{}))return a;Yn(a,"already-initialized")}return n.initialize({options:t})}function MP(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(cr);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function VP(e,t,n){const r=Sr(e);_t(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const a=!1,l=t4(t),{host:c,port:d}=PP(t),m=d===null?"":`:${d}`,p={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){_t(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),_t(Ea(p,r.config.emulator)&&Ea(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,oc(c)?(Ww(`${l}//${c}${m}`),Zw("Auth",!0)):OP()}function t4(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function PP(e){const t=t4(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:VE(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:VE(c)}}}function VE(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function OP(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ur("not implemented")}_getIdTokenResponse(t){return ur("not implemented")}_linkToIdToken(t,n){return ur("not implemented")}_getReauthenticationResolver(t){return ur("not implemented")}}async function kP(e,t){return wr(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LP(e,t){return gc(e,"POST","/v1/accounts:signInWithPassword",br(e,t))}async function UP(e,t){return wr(e,"POST","/v1/accounts:sendOobCode",br(e,t))}async function jP(e,t){return UP(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zP(e,t){return gc(e,"POST","/v1/accounts:signInWithEmailLink",br(e,t))}async function BP(e,t){return gc(e,"POST","/v1/accounts:signInWithEmailLink",br(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc extends A0{constructor(t,n,r,a=null){super("password",r),this._email=t,this._password=n,this._tenantId=a}static _fromEmailAndPassword(t,n){return new tc(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new tc(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zf(t,n,"signInWithPassword",LP);case"emailLink":return zP(t,{email:this._email,oobCode:this._password});default:Yn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zf(t,r,"signUpPassword",kP);case"emailLink":return BP(t,{idToken:n,email:this._email,oobCode:this._password});default:Yn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ko(e,t){return gc(e,"POST","/v1/accounts:signInWithIdp",br(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP="http://localhost";class Tr extends A0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Tr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Yn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:a}=n,l=_0(n,["providerId","signInMethod"]);if(!r||!a)return null;const c=new Tr(r,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return ko(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,ko(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,ko(t,n)}buildRequest(){const t={requestUri:FP,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=uc(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HP(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qP(e){const t=Eu(bu(e)).link,n=t?Eu(bu(t)).deep_link_id:null,r=Eu(bu(e)).deep_link_id;return(r?Eu(bu(r)).link:null)||r||n||t||e}class x0{constructor(t){var n,r,a,l,c,d;const m=Eu(bu(t)),p=(n=m.apiKey)!==null&&n!==void 0?n:null,y=(r=m.oobCode)!==null&&r!==void 0?r:null,_=HP((a=m.mode)!==null&&a!==void 0?a:null);_t(p&&y&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=y,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=m.lang)!==null&&c!==void 0?c:null,this.tenantId=(d=m.tenantId)!==null&&d!==void 0?d:null}static parseLink(t){const n=qP(t);try{return new x0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(){this.providerId=sl.PROVIDER_ID}static credential(t,n){return tc._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=x0.parseLink(n);return _t(r,"argument-error"),tc._fromEmailAndCode(t,r.code,r.tenantId)}}sl.PROVIDER_ID="password";sl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";sl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al extends R0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Lo extends al{static credentialFromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;return _t("providerId"in n&&"signInMethod"in n,"argument-error"),Tr._fromParams(n)}credential(t){return this._credential(Object.assign(Object.assign({},t),{nonce:t.rawNonce}))}_credential(t){return _t(t.idToken||t.accessToken,"argument-error"),Tr._fromParams(Object.assign(Object.assign({},t),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(t){return Lo.oauthCredentialFromTaggedObject(t)}static credentialFromError(t){return Lo.oauthCredentialFromTaggedObject(t.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:a,pendingToken:l,nonce:c,providerId:d}=t;if(!r&&!a&&!n&&!l||!d)return null;try{return new Lo(d)._credential({idToken:n,accessToken:r,nonce:c,pendingToken:l})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends al{constructor(){super("facebook.com")}static credential(t){return Tr._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ns.credentialFromTaggedObject(t)}static credentialFromError(t){return ns.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ns.credential(t.oauthAccessToken)}catch{return null}}}ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";ns.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr extends al{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Tr._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return lr.credentialFromTaggedObject(t)}static credentialFromError(t){return lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return lr.credential(n,r)}catch{return null}}}lr.GOOGLE_SIGN_IN_METHOD="google.com";lr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends al{constructor(){super("github.com")}static credential(t){return Tr._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return is.credentialFromTaggedObject(t)}static credentialFromError(t){return is.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return is.credential(t.oauthAccessToken)}catch{return null}}}is.GITHUB_SIGN_IN_METHOD="github.com";is.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends al{constructor(){super("twitter.com")}static credential(t,n){return Tr._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return rs.credentialFromTaggedObject(t)}static credentialFromError(t){return rs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return rs.credential(n,r)}catch{return null}}}rs.TWITTER_SIGN_IN_METHOD="twitter.com";rs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GP(e,t){return gc(e,"POST","/v1/accounts:signUp",br(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,a=!1){const l=await ni._fromIdTokenResponse(t,r,a),c=PE(r);return new Aa({user:l,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const a=PE(r);return new Aa({user:t,providerId:a,_tokenResponse:r,operationType:n})}}function PE(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf extends Er{constructor(t,n,r,a){var l;super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Bf.prototype),this.customData={appName:t.name,tenantId:(l=t.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,a){return new Bf(t,n,r,a)}}function e4(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Bf._fromErrorAndOperation(e,l,t,r):l})}async function KP(e,t,n=!1){const r=await Ju(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Aa._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YP(e,t,n=!1){const{auth:r}=e;if(In(r.app))return Promise.reject(fr(r));const a="reauthenticate";try{const l=await Ju(e,e4(r,a,t,e),n);_t(l.idToken,r,"internal-error");const c=w0(l.idToken);_t(c,r,"internal-error");const{sub:d}=c;return _t(e.uid===d,r,"user-mismatch"),Aa._forOperation(e,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Yn(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n4(e,t,n=!1){if(In(e.app))return Promise.reject(fr(e));const r="signIn",a=await e4(e,r,t),l=await Aa._fromIdTokenResponse(e,r,a);return n||await e._updateCurrentUser(l.user),l}async function $P(e,t){return n4(Sr(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i4(e){const t=Sr(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function QP(e,t,n){const r=Sr(e);await zf(r,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",jP)}async function XP(e,t,n){if(In(e.app))return Promise.reject(fr(e));const r=Sr(e),c=await zf(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",GP).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&i4(e),m}),d=await Aa._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(d.user),d}function WP(e,t,n){return In(e.app)?Promise.reject(fr(e)):$P(Xe(e),sl.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&i4(e),r})}function ZP(e,t,n,r){return Xe(e).onIdTokenChanged(t,n,r)}function JP(e,t,n){return Xe(e).beforeAuthStateChanged(t,n)}function r4(e,t,n,r){return Xe(e).onAuthStateChanged(t,n,r)}function tO(e){return Xe(e).signOut()}const Ff="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ff,"1"),this.storage.removeItem(Ff),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO=1e3,nO=10;class a4 extends s4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=XA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&t(n,a,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const r=t.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);yP()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,nO):a()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},eO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}a4.type="LOCAL";const iO=a4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4 extends s4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}o4.type="SESSION";const l4=o4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(a=>a.isListeningto(t));if(n)return n;const r=new gd(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const d=Array.from(c).map(async p=>p(n.origin,l)),m=await rO(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:m})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const p=C0("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(_){const b=_;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(b.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(){return window}function aO(e){Di().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(){return typeof Di().WorkerGlobalScope<"u"&&typeof Di().importScripts=="function"}async function oO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lO(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function uO(){return u4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4="firebaseLocalStorageDb",cO=1,Hf="firebaseLocalStorage",h4="fbase_key";class yc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yd(e,t){return e.transaction([Hf],t?"readwrite":"readonly").objectStore(Hf)}function hO(){const e=indexedDB.deleteDatabase(c4);return new yc(e).toPromise()}function Hg(){const e=indexedDB.open(c4,cO);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(Hf,{keyPath:h4})}catch(a){n(a)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(Hf)?t(r):(r.close(),await hO(),t(await Hg()))})})}async function OE(e,t,n){const r=yd(e,!0).put({[h4]:t,value:n});return new yc(r).toPromise()}async function fO(e,t){const n=yd(e,!1).get(t),r=await new yc(n).toPromise();return r===void 0?null:r.value}function kE(e,t){const n=yd(e,!0).delete(t);return new yc(n).toPromise()}const dO=800,mO=3;class f4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hg(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>mO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return u4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gd._getInstance(uO()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await oO(),!this.activeServiceWorker)return;this.sender=new sO(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||lO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Hg();return await OE(t,Ff,"1"),await kE(t,Ff),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>OE(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>fO(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>kE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=yd(a,!1).getAll();return new yc(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}f4.type="LOCAL";const pO=f4;new pc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d4(e,t){return t?cr(t):(_t(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0 extends A0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ko(t,this._buildIdpRequest())}_linkToIdToken(t,n){return ko(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return ko(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function gO(e){return n4(e.auth,new I0(e),e.bypassAuthState)}function yO(e){const{auth:t,user:n}=e;return _t(n,t,"internal-error"),YP(n,new I0(e),e.bypassAuthState)}async function vO(e){const{auth:t,user:n}=e;return _t(n,t,"internal-error"),KP(n,new I0(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(t,n,r,a,l=!1){this.auth=t,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:a,tenantId:l,error:c,type:d}=t;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return gO;case"linkViaPopup":case"linkViaRedirect":return vO;case"reauthViaPopup":case"reauthViaRedirect":return yO;default:Yn(this.auth,"internal-error")}}resolve(t){_r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){_r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O=new pc(2e3,1e4);async function TO(e,t,n){if(In(e.app))return Promise.reject(ri(e,"operation-not-supported-in-this-environment"));const r=Sr(e);WV(e,t,R0);const a=d4(r,n);return new va(r,"signInViaPopup",t,a).executeNotNull()}class va extends m4{constructor(t,n,r,a,l){super(t,n,a,l),this.provider=r,this.authWindow=null,this.pollId=null,va.currentPopupAction&&va.currentPopupAction.cancel(),va.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){_r(this.filter.length===1,"Popup operations only handle one event");const t=C0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,va.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,_O.get())};t()}}va.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO="pendingRedirect",mf=new Map;class bO extends m4{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=mf.get(this.auth._key());if(!t){try{const r=await wO(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}mf.set(this.auth._key(),t)}return this.bypassAuthState||mf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wO(e,t){const n=xO(t),r=AO(e);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function SO(e,t){mf.set(e._key(),t)}function AO(e){return cr(e._redirectPersistence)}function xO(e){return df(EO,e.config.apiKey,e.name)}async function RO(e,t,n=!1){if(In(e.app))return Promise.reject(fr(e));const r=Sr(e),a=d4(r,t),c=await new bO(r,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO=10*60*1e3;class IO{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!DO(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!p4(t)){const a=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ri(this.auth,a))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=CO&&this.cachedEventUids.clear(),this.cachedEventUids.has(LE(t))}saveEventToCache(t){this.cachedEventUids.add(LE(t)),this.lastProcessedEventTime=Date.now()}}function LE(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function p4({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function DO(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return p4(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NO(e,t={}){return wr(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VO=/^https?/;async function PO(e){if(e.config.emulator)return;const{authorizedDomains:t}=await NO(e);for(const n of t)try{if(OO(n))return}catch{}Yn(e,"unauthorized-domain")}function OO(e){const t=Bg(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!VO.test(n))return!1;if(MO.test(e))return r===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=new pc(3e4,6e4);function UE(){const e=Di().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function LO(e){return new Promise((t,n)=>{var r,a,l;function c(){UE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{UE(),n(ri(e,"network-request-failed"))},timeout:kO.get()})}if(!((a=(r=Di().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)t(gapi.iframes.getContext());else if(!((l=Di().gapi)===null||l===void 0)&&l.load)c();else{const d=xP("iframefcb");return Di()[d]=()=>{gapi.load?c():n(ri(e,"network-request-failed"))},ZA(`${AP()}?onload=${d}`).catch(m=>n(m))}}).catch(t=>{throw pf=null,t})}let pf=null;function UO(e){return pf=pf||LO(e),pf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=new pc(5e3,15e3),zO="__/auth/iframe",BO="emulator/auth/iframe",FO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qO(e){const t=e.config;_t(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?b0(t,BO):`https://${e.config.authDomain}/${zO}`,r={apiKey:t.apiKey,appName:e.name,v:tl},a=HO.get(e.config.apiHost);a&&(r.eid=a);const l=e._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${uc(r).slice(1)}`}async function GO(e){const t=await UO(e),n=Di().gapi;return _t(n,e,"internal-error"),t.open({where:document.body,url:qO(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FO,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const c=ri(e,"network-request-failed"),d=Di().setTimeout(()=>{l(c)},jO.get());function m(){Di().clearTimeout(d),a(r)}r.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},YO=500,$O=600,QO="_blank",XO="http://localhost";class jE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WO(e,t,n,r=YO,a=$O){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const m=Object.assign(Object.assign({},KO),{width:r.toString(),height:a.toString(),top:l,left:c}),p=on().toLowerCase();n&&(d=GA(p)?QO:n),HA(p)&&(t=t||XO,m.scrollbars="yes");const y=Object.entries(m).reduce((b,[x,C])=>`${b}${x}=${C},`,"");if(gP(p)&&d!=="_self")return ZO(t||"",d),new jE(null);const _=window.open(t||"",d,y);_t(_,e,"popup-blocked");try{_.focus()}catch{}return new jE(_)}function ZO(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO="__/auth/handler",t7="emulator/auth/handler",e7=encodeURIComponent("fac");async function zE(e,t,n,r,a,l){_t(e.config.authDomain,e,"auth-domain-config-required"),_t(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:tl,eventId:a};if(t instanceof R0){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",v9(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(t instanceof al){const y=t.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}e.tenantId&&(c.tid=e.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const m=await e._getAppCheckToken(),p=m?`#${e7}=${encodeURIComponent(m)}`:"";return`${n7(e)}?${uc(d).slice(1)}${p}`}function n7({config:e}){return e.emulator?b0(e,t7):`https://${e.authDomain}/${JO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp="webStorageSupport";class i7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=l4,this._completeRedirectFn=RO,this._overrideRedirectResult=SO}async _openPopup(t,n,r,a){var l;_r((l=this.eventManagers[t._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await zE(t,n,r,Bg(),a);return WO(t,c,C0())}async _openRedirect(t,n,r,a){await this._originValidation(t);const l=await zE(t,n,r,Bg(),a);return aO(l),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(_r(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await GO(t),r=new IO(t);return n.register("authEvent",a=>(_t(a==null?void 0:a.authEvent,t,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Qp,{type:Qp},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Qp];c!==void 0&&n(!!c),Yn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=PO(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return XA()||qA()||S0()}}const r7=i7;var BE="@firebase/auth",FE="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s7{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a7(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function o7(e){zo(new ba("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;_t(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:c,authDomain:d,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WA(e)},p=new bP(r,a,l,m);return MP(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),zo(new ba("auth-internal",t=>{const n=Sr(t.getProvider("auth").getImmediate());return(r=>new s7(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),us(BE,FE,a7(e)),us(BE,FE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l7=5*60,u7=Xw("authIdTokenMaxAge")||l7;let HE=null;const c7=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>u7)return;const a=n==null?void 0:n.token;HE!==a&&(HE=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function h7(e=nS()){const t=ky(e,"auth");if(t.isInitialized())return t.getImmediate();const n=NP(e,{popupRedirectResolver:r7,persistence:[pO,iO,l4]}),r=Xw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=c7(l.toString());JP(n,c,()=>c(n.currentUser)),ZP(n,d=>c(d))}}const a=$w("auth");return a&&VP(n,`http://${a}`),n}function f7(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}wP({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=a=>{const l=ri("internal-error");l.customData=a,n(l)},r.type="text/javascript",r.charset="UTF-8",f7().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});o7("Browser");const d7={apiKey:"AIzaSyCuwE9DKC6d92hgNB-A3fHPrZk7wndZTx8",authDomain:"donna-assistant-b9ce3.firebaseapp.com",projectId:"donna-assistant-b9ce3",storageBucket:"donna-assistant-b9ce3.firebasestorage.app",messagingSenderId:"947174416112",appId:"1:947174416112:web:a6ed384087801fefecac35"},g4=eS(d7),Ia=VV(g4),bs=h7(g4);function Rs(){const e=ws(),{pathname:t}=Pi(),[n,r]=O.useState(!1),{theme:a,toggle:l}=GD(),c=O.useRef(),d=O.useRef(null),[m,p]=O.useState(null),[y,_]=O.useState(""),[b,x]=O.useState("");O.useEffect(()=>{const k=r4(bs,async G=>{if(p(G),G){const Y=await g0(Ca(Ia,"users",G.uid));if(Y.exists()){const st=Y.data();_(st.firstName||"User"),x(st.profilePic||"")}}});return()=>k()},[]);const C=async()=>{await tO(bs),e("/")},U=k=>t===k?"text-rose-600 font-semibold":"text-gray-600 hover:text-rose-500 dark:text-gray-300 dark:hover:text-rose-400",N=m?"/dashboard":"/";return S.jsxs("nav",{className:"bg-white dark:bg-gray-900 shadow-sm px-6 py-4 flex justify-between items-center sticky top-0 z-50 transition-colors",children:[S.jsx(ei,{to:N,className:"flex items-center gap-2",children:S.jsx("img",{src:"/assets/images/DonnaAppIcon.png",alt:"Donna Logo",className:"w-8 h-8 rounded-full"})}),S.jsxs("div",{className:"flex gap-6 items-center",children:[m?S.jsxs(S.Fragment,{children:[S.jsx(ei,{to:"/dashboard",className:U("/dashboard"),children:"Dashboard"}),S.jsx(ei,{to:"/chat",className:U("/chat"),children:"Chat"})]}):S.jsxs(S.Fragment,{children:[S.jsx(ei,{to:"/",className:U("/"),children:"Home"}),S.jsx(ei,{to:"/explore",className:U("/explore"),children:"Explore Donna"}),S.jsx(ei,{to:"/waitlist",className:U("/waitlist"),children:"Join Waitlist"})]}),S.jsxs("div",{className:"relative",ref:c,onMouseEnter:()=>{clearTimeout(d.current),r(!0)},onMouseLeave:()=>{d.current=setTimeout(()=>r(!1),250)},children:[S.jsxs("button",{onClick:()=>r(k=>!k),className:"flex items-center gap-2 text-rose-500 hover:text-rose-600",children:[m&&S.jsx("span",{className:"hidden md:inline text-sm font-medium text-gray-800 dark:text-white",children:y}),b?S.jsx("img",{src:b,alt:"User Avatar",className:"w-8 h-8 rounded-full border-2 border-rose-400"}):S.jsx(ID,{size:28})]}),n&&S.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl shadow-lg text-sm z-50 overflow-hidden divide-y divide-gray-100 dark:divide-gray-700",children:[S.jsxs("button",{onClick:l,className:"flex items-center gap-2 w-full text-left px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-800 dark:text-gray-200",children:[a==="dark"?S.jsx(RD,{}):S.jsx(AD,{}),a==="dark"?"Switch to Light Mode":"Switch to Dark Mode"]}),m?S.jsxs(S.Fragment,{children:[S.jsx("button",{onClick:()=>e("/settings"),className:"block w-full text-left px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-800 dark:text-gray-200",children:"Settings"}),S.jsx("button",{onClick:()=>e("/referrals"),className:"block w-full text-left px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-800 dark:text-gray-200",children:"Referrals"}),S.jsx("button",{onClick:()=>e("/integrations"),className:"block w-full text-left px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-800 dark:text-gray-200",children:"Integrations"}),S.jsx("button",{onClick:()=>e("/billing"),className:"block w-full text-left px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-800 dark:text-gray-200",children:"Billing"}),S.jsx("button",{onClick:()=>e("/help"),className:"block w-full text-left px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-800 dark:text-gray-200",children:"Help"}),S.jsx("button",{onClick:C,className:"block w-full text-left px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-700 text-red-600 dark:text-red-400",children:"Log Out"})]}):S.jsxs(S.Fragment,{children:[S.jsx("button",{onClick:()=>e("/login"),className:"block w-full text-left px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-800 dark:text-gray-200",children:"Sign In"}),S.jsx("button",{onClick:()=>e("/signup"),className:"block w-full text-left px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-800 dark:text-gray-200",children:"Sign Up"})]})]})]})]})]})}function Cs(){return S.jsxs("footer",{className:"bg-white dark:bg-gray-900 text-gray-600 dark:text-gray-400 border-t border-gray-200 dark:border-gray-700 mt-20",children:[S.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-10 flex flex-col sm:flex-row justify-between items-center text-sm",children:[S.jsx("div",{className:"mb-4 sm:mb-0",children:S.jsx("img",{src:"/assets/images/DonnaAppIcon.png",alt:"Donna Logo",className:"w-12 h-12 rounded-full self-center"})}),S.jsxs("div",{className:"flex gap-6",children:[S.jsx(ei,{to:"/privacy",className:"hover:text-rose-500 transition",children:"Privacy"}),S.jsx(ei,{to:"/terms",className:"hover:text-rose-500 transition",children:"Terms"}),S.jsx(ei,{to:"/contact",className:"hover:text-rose-500 transition",children:"Contact"})]})]}),S.jsxs("div",{className:"text-center text-xs pb-6 text-gray-400",children:[" ",new Date().getFullYear()," Ask Donna, Inc. All rights reserved."]})]})}function m7(){return S.jsxs(S.Fragment,{children:[S.jsx(Rs,{}),S.jsxs(pe.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},exit:{opacity:0,y:-16},transition:{duration:.35},className:"bg-white dark:bg-gray-900 transition-colors",children:[S.jsx(ND,{}),S.jsx(DD,{}),S.jsx(FD,{}),S.jsx(qD,{}),S.jsx(zD,{}),S.jsx(Cs,{})]})]})}function p7(){const e=ws(),[t,n]=O.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),[r,a]=O.useState(""),l=p=>{const{name:y,value:_}=p.target;n(b=>({...b,[y]:_})),a("")},c=async(p,y="",_="")=>{await OA(Ca(Ia,"users",p),{firstName:y,lastName:_,email:p,plan:"Free",referralCode:"",referredBy:"",linkedServices:{},notificationPrefs:{emailFollowups:!0,eventReminders:!0,summaryDigests:!0,taskNudges:!1},usage:{fileUploads:0,gptInteractions:0,linkedServices:0},timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone,createdAt:v0()})},d=async p=>{if(p.preventDefault(),t.password!==t.confirmPassword){a("Passwords do not match.");return}try{const y=await XP(bs,t.email,t.password);await c(t.email,t.firstName,t.lastName),e("/dashboard")}catch(y){a(y.message)}},m=async p=>{try{const _=(await TO(bs,p)).user;await c(_.email),e("/dashboard")}catch(y){a(y.message)}};return S.jsxs(S.Fragment,{children:[S.jsx(Rs,{}),S.jsx(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"bg-white dark:bg-gray-900 min-h-screen",children:S.jsx("section",{className:"min-h-screen flex items-center justify-center px-6 py-20 bg-white dark:bg-gray-900 text-center transition-colors",children:S.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-gray-800 shadow-xl rounded-2xl p-8 transition-colors",children:[S.jsx("img",{src:"/assets/images/DonnaCircleColored.png",alt:"Donna",className:"w-20 h-20 mx-auto rounded-full mb-6"}),S.jsx("h2",{className:"text-2xl font-bold text-rose-500 mb-1",children:"Create Your Account"}),S.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-6",children:"Let Donna help you get things done."}),S.jsxs("form",{onSubmit:d,className:"space-y-4 text-left",children:[S.jsxs("div",{className:"flex gap-3",children:[S.jsx("input",{type:"text",name:"firstName",value:t.firstName,onChange:l,placeholder:"First Name",required:!0,className:"w-1/2 border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-3 text-base bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-rose-400"}),S.jsx("input",{type:"text",name:"lastName",value:t.lastName,onChange:l,placeholder:"Last Name",required:!0,className:"w-1/2 border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-3 text-base bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-rose-400"})]}),S.jsx("input",{type:"email",name:"email",value:t.email,onChange:l,placeholder:"Email",required:!0,className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-3 text-base bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-rose-400"}),S.jsx("input",{type:"password",name:"password",value:t.password,onChange:l,placeholder:"Password",required:!0,className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-3 text-base bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-rose-400"}),S.jsx("input",{type:"password",name:"confirmPassword",value:t.confirmPassword,onChange:l,placeholder:"Confirm Password",required:!0,className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-3 text-base bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-rose-400"}),r&&S.jsx("p",{className:"text-red-500 text-sm",children:r}),S.jsx("button",{type:"submit",className:"w-full bg-rose-500 hover:bg-rose-600 text-white font-semibold px-6 py-3 rounded-xl transition",children:"Sign Up"})]}),S.jsx("div",{className:"my-6 border-t border-gray-300 dark:border-gray-600"}),S.jsxs("div",{className:"flex flex-col gap-3",children:[S.jsx("button",{onClick:()=>m(new lr),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-3 text-sm font-medium text-gray-800 dark:text-gray-100 bg-white dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 transition",children:"Continue with Google"}),S.jsx("button",{onClick:()=>m(new Lo("microsoft.com")),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-3 text-sm font-medium text-gray-800 dark:text-gray-100 bg-white dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 transition",children:"Continue with Microsoft"}),S.jsx("button",{onClick:()=>m(new Lo("apple.com")),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-3 text-sm font-medium text-gray-800 dark:text-gray-100 bg-white dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 transition",children:"Continue with Apple"})]}),S.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-6 text-center",children:["Already have an account?"," ",S.jsx("button",{onClick:()=>e("/login"),className:"text-rose-500 hover:underline font-semibold",children:"Log in here"})]})]})})}),S.jsx(Cs,{})]})}function g7(){const e=ws(),[t,n]=O.useState({email:"",password:""}),[r,a]=O.useState(""),l=d=>{const{name:m,value:p}=d.target;n(y=>({...y,[m]:p})),a("")},c=async d=>{d.preventDefault();try{const p=(await WP(bs,t.email,t.password)).user;await KV(Ca(Ia,"users",p.uid),{lastLogin:v0()}),e("/dashboard")}catch{a("Invalid email or password. Please try again.")}};return S.jsxs(S.Fragment,{children:[S.jsx(Rs,{}),S.jsx(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"bg-white dark:bg-gray-900 min-h-screen",children:S.jsx("section",{className:"min-h-screen flex items-center justify-center px-6 py-20 bg-white dark:bg-gray-900 text-center transition-colors",children:S.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-gray-800 shadow-xl rounded-2xl p-8 transition-colors",children:[S.jsx("img",{src:"/assets/images/DonnaCircleColored.png",alt:"Donna",className:"w-20 h-20 mx-auto rounded-full mb-6"}),S.jsx("h2",{className:"text-2xl font-bold text-rose-500 mb-1",children:"Welcome Back"}),S.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-6",children:"Log in to continue with Donna."}),S.jsxs("form",{onSubmit:c,className:"space-y-4 text-left",children:[S.jsx("input",{type:"email",name:"email",value:t.email,onChange:l,placeholder:"Email",required:!0,className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-3 text-base bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-rose-400"}),S.jsx("input",{type:"password",name:"password",value:t.password,onChange:l,placeholder:"Password",required:!0,className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-3 text-base bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-rose-400"}),r&&S.jsx("p",{className:"text-red-500 text-sm",children:r}),S.jsx("button",{type:"submit",className:"w-full bg-rose-500 hover:bg-rose-600 text-white font-semibold px-6 py-3 rounded-xl transition",children:"Log In"})]}),S.jsx("button",{onClick:()=>e("/forgot-password"),className:"text-sm text-rose-500 hover:underline mt-3 font-medium",children:"Forgot your password?"}),S.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-4",children:["Dont have an account?"," ",S.jsx("button",{onClick:()=>e("/signup"),className:"text-rose-500 hover:underline font-semibold",children:"Sign up here"})]})]})})}),S.jsx(Cs,{})]})}const y7="/assets/images/DonnaCircleColored.png",qE=["X","LinkedIn","Instagram","Friend or Colleague","Google Search","Other"],v7=[{id:"greeting",role:"donna",content:"Hi there! I'm Donna. Let's get you on the waitlist. What's your first name?"}];function _7(){return S.jsxs("span",{className:"flex space-x-1",children:[S.jsx("span",{className:"animate-bounce",children:"."}),S.jsx("span",{className:"animate-bounce delay-100",children:"."}),S.jsx("span",{className:"animate-bounce delay-200",children:"."})]})}function T7(){const[e,t]=O.useState(v7),[n,r]=O.useState(""),[a,l]=O.useState({first:"",last:"",email:"",source:""}),[c,d]=O.useState("first"),[m,p]=O.useState(!1),[y,_]=O.useState(!1),b=O.useRef();O.useEffect(()=>{b.current&&(b.current.scrollTop=b.current.scrollHeight)},[e]);const x=async()=>{if(!n.trim())return;const N={role:"user",content:n};r(""),p(!0),t(k=>[...k,N,{role:"donna",typing:!0}]),setTimeout(async()=>{const k=await C(n);t(G=>[...G.filter(Y=>!Y.typing),k]),p(!1)},1200)},C=async N=>{switch(c){case"first":return l(k=>({...k,first:N})),d("last"),{role:"donna",content:`Nice to meet you, ${N}! And your last name?`};case"last":return l(k=>({...k,last:N})),d("email"),{role:"donna",content:"Thanks! What's the best email to reach you at?"};case"email":return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(N)?(l(G=>({...G,email:N})),d("source"),{role:"donna",content:"Almost done! How did you hear about Donna? (Tap one or type your own)",options:qE}):{role:"donna",content:"Hmm, that doesn't look like a valid email. Mind trying again?"};case"source":l(k=>({...k,source:N})),_(!0),d("done");try{await OA(Ca(Ia,"waitlist",a.email.toLowerCase()),{...a,source:N})}catch(k){console.error("Firestore error:",k)}return{role:"donna",content:`You're officially on the waitlist, ${a.first}!  I'll be in touch soon.`};default:return null}},U=N=>{if(y)return;const k={role:"user",content:N};t(G=>[...G,k,{role:"donna",typing:!0}]),p(!0),setTimeout(async()=>{const G=await C(N);t(Y=>[...Y.filter(st=>!st.typing),G]),p(!1)},1e3)};return S.jsxs(S.Fragment,{children:[S.jsx(Rs,{}),S.jsx(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"bg-white dark:bg-gray-900 min-h-screen",children:S.jsxs("section",{ref:b,className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col items-center justify-start px-4 pt-20 pb-12 overflow-y-auto transition-colors",children:[S.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-rose-500 mb-6",children:"Join Donna's Waitlist"}),S.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-lg mb-10 max-w-2xl mx-auto",children:"Be the first to know when Donna is available for use in your region."}),S.jsxs("div",{className:"bg-white dark:bg-gray-800 w-full max-w-md rounded-xl shadow p-6 space-y-4 transition-colors",children:[S.jsx(Yf,{initial:!1,children:e.map((N,k)=>S.jsxs(pe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},transition:{duration:.25},className:`flex items-start gap-3 ${N.role==="user"?"justify-end":""}`,children:[N.role==="donna"&&S.jsx("img",{src:y7,alt:"Donna",className:"w-8 h-8 rounded-full mt-1 shadow"}),S.jsx("div",{className:`px-4 py-3 rounded-xl max-w-[85%] text-sm whitespace-pre-line shadow ${N.role==="user"?"bg-blue-100 text-gray-900":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-100"}`,children:N.typing?S.jsx(_7,{}):N.content})]},k))}),c==="source"&&!y&&S.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:qE.map((N,k)=>S.jsx(pe.button,{onClick:()=>U(N),className:"bg-gray-100 dark:bg-gray-700 dark:text-gray-100 rounded-lg px-3 py-2 text-sm text-left hover:bg-gray-200 dark:hover:bg-gray-600 transition",whileHover:{scale:1.02},whileTap:{scale:.98},children:N},k))}),c!=="done"&&S.jsxs("form",{className:"flex items-center gap-2 pt-3",onSubmit:N=>{N.preventDefault(),x()},children:[S.jsx("input",{type:"text",className:"flex-1 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-100 px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-rose-300",placeholder:"Type your response...",value:n,onChange:N=>r(N.target.value),disabled:m}),S.jsx("button",{type:"submit",disabled:m,className:"bg-rose-500 text-white px-4 py-2 rounded-lg hover:bg-rose-600 transition flex items-center gap-2",children:S.jsx(xD,{})})]})]})]})}),S.jsx(Cs,{})]})}const E7={"Google Calendar":S.jsx(Yh,{className:"text-gray-500 dark:text-gray-300"}),Outlook:S.jsx(gD,{className:"text-gray-500 dark:text-gray-300"}),Gmail:S.jsx(Yh,{className:"text-gray-500 dark:text-gray-300"}),Delta:S.jsx(vg,{className:"text-gray-500 dark:text-gray-300"}),TripIt:S.jsx(vg,{className:"text-gray-500 dark:text-gray-300"}),"Google Tasks":S.jsx(Yh,{className:"text-gray-500 dark:text-gray-300"}),"iOS Reminders":S.jsx(mD,{className:"text-gray-500 dark:text-gray-300"}),"Google Drive":S.jsx(Yh,{className:"text-gray-500 dark:text-gray-300"}),Dropbox:S.jsx(pD,{className:"text-gray-500 dark:text-gray-300"}),"Donna Private Memory":S.jsx(Bw,{className:"text-gray-500 dark:text-gray-300"})},GE=[{key:"calendar",name:"Calendar",description:"Stay on top of your meetings and plans with smart scheduling.",icon:S.jsx(Vy,{size:32,className:"text-rose-500"}),integrations:["Google Calendar","Outlook"],prompts:[{prompt:"Add lunch with Jake tomorrow at 1 PM.",response:'Got it  added "Lunch with Jake" to your calendar for tomorrow at 1:00 PM and sent a reminder.'},{prompt:"Move my team sync to Friday at 2.",response:"Team sync has been moved to Friday at 2:00 PM and all attendees have been notified."},{prompt:"Schedule a dentist appointment for next Tuesday at 9 AM.",response:"Dentist appointment booked for next Tuesday at 9:00 AM and added to your calendar."},{prompt:"Cancel my 4 PM call today.",response:"Your 4:00 PM call has been canceled and attendees notified."}]},{key:"email",name:"Email",description:"Let Donna catch you up, draft replies, and find messages fast.",icon:S.jsx(wD,{size:32,className:"text-rose-500"}),integrations:["Gmail","Outlook"],prompts:[{prompt:"Summarize my inbox this morning.",response:"You received 18 emails. I flagged 4 for attention  one from Alex, two from payroll, and a calendar update."},{prompt:"Draft a polite reply to that client follow-up.",response:"Heres a suggested reply: Thanks for your patience! Ive looped in our support team and will follow up shortly."},{prompt:"Search for the email about the Q2 budget.",response:"Found 2 emails referencing Q2 budget  one from finance and one from your team lead."},{prompt:"Delete all promotional emails from yesterday.",response:"14 promotional emails from yesterday have been deleted."}]},{key:"travel",name:"Travel",description:"Track flights, organize reservations, and prep your agenda.",icon:S.jsx(vg,{size:32,className:"text-rose-500"}),integrations:["Delta","TripIt"],prompts:[{prompt:"Add DL385 to JFK on July 8 to my calendar.",response:"Done. Ive added your Delta flight to JFK on July 8 with real-time updates and reminders."},{prompt:"Save my Marriott rewards number: 9827 3112.",response:"Saved in your travel memory  Marriott Rewards #9827 3112."},{prompt:"Remind me to check into my flight 24 hours in advance.",response:"Reminder created  Ill notify you 24 hours before check-in for your upcoming flight."},{prompt:"Whats the terminal for my Southwest flight tomorrow?",response:"Your Southwest flight departs from Terminal B. Ill notify you of any changes."}]},{key:"reminders",name:"Tasks & Reminders",description:"Set gentle nudges or recurring habits with natural phrasing.",icon:S.jsx(Hw,{size:32,className:"text-rose-500"}),integrations:["Google Tasks","iOS Reminders"],prompts:[{prompt:"Remind me to water the plants every Sunday.",response:"Recurring reminder created  every Sunday at 9:00 AM, Ill ping you to water the plants."},{prompt:"Remind me to submit my timecard this Friday.",response:"Reminder set for Friday at 4:30 PM  Ill notify you before EOD."},{prompt:"Every day at 8 PM, ask me if Ive closed my tabs.",response:"Scheduled! Ill check in daily at 8:00 PM about your browser tabs."},{prompt:"Nudge me to drink water at 3 and 5 PM.",response:"Hydration reminders set for 3:00 PM and 5:00 PM today."}]},{key:"files",name:"Files & Parsing",description:"Drop in PDFs, CSVs, or contracts  Donna pulls what matters.",icon:S.jsx(zw,{size:32,className:"text-rose-500"}),integrations:["Google Drive","Dropbox"],prompts:[{prompt:"Summarize this PDF contract I uploaded.",response:"The contract spans 7 pages. Key terms: net 30 payment, auto-renewal, $8,000 monthly fee."},{prompt:"Parse this CSV for customer churn by month.",response:"From Jan to May, average churn rate is 7.4%. March shows an outlier spike at 12.6%."},{prompt:"Extract all invoice totals from this PDF.",response:"Found 8 invoice totals ranging from $500 to $4,200. Compiled into a summary list."},{prompt:"Whats the contract renewal date in this document?",response:"The renewal date is listed as August 15, 2025 in section 4.3."}]},{key:"memory",name:"Memory",description:"Teach Donna facts once  shell remember securely and privately.",icon:S.jsx(vD,{size:32,className:"text-rose-500"}),integrations:["Donna Private Memory"],prompts:[{prompt:"My Wi-Fi at home is Netgear_208. Remember that.",response:"Got it  Ive saved your home network details for future use."},{prompt:"My license plate is 7DJF382. Save it.",response:"Stored in your memory under personal details. You can retrieve or update it anytime."},{prompt:"My assistants name is Mia. Keep that in mind.",response:"Noted. Ill remember Mia is your assistant for future reference."},{prompt:"Log my IRS pin as 72839 for tax tools.",response:"Stored securely under personal tax info. You can access or update this anytime."}]}],KE=["https://i.pravatar.cc/150?img=3","https://i.pravatar.cc/150?img=5","https://i.pravatar.cc/150?img=8"];function b7(){var d;const[e,t]=O.useState(GE[0]),[n,r]=O.useState([]),[a,l]=O.useState(0),c=({prompt:m,response:p})=>{const y=(a+1)%KE.length;l(y),r([{role:"user",content:m,icon:KE[y]},{role:"donna",content:p,icon:"/assets/images/DonnaCircleColored.png"}])};return S.jsxs(S.Fragment,{children:[S.jsx(Rs,{}),S.jsx(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"bg-white dark:bg-gray-900 min-h-screen",children:S.jsxs("section",{className:"bg-white dark:bg-gray-900 min-h-screen px-6 py-16 text-center transition-colors",children:[S.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-rose-500 mb-6",children:"Explore Donna"}),S.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-lg mb-10 max-w-2xl mx-auto",children:"Click a category below to see what Donna can do and try it yourself."}),S.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto mb-12",children:GE.map(m=>S.jsx(pe.button,{layout:!0,onClick:()=>{t(m),r([])},className:`rounded-xl border p-4 text-left shadow-sm transition hover:shadow-md ${e.key===m.key?"border-rose-500":"border-gray-200 dark:border-gray-700"} bg-white dark:bg-gray-800`,children:S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsx("div",{children:m.icon}),S.jsxs("div",{children:[S.jsx("h3",{className:"text-lg font-semibold text-rose-600",children:m.name}),S.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:m.description})]})]})},m.key))}),S.jsxs(pe.div,{layout:!0,className:"max-w-4xl mx-auto text-left mb-10 bg-white dark:bg-gray-900",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:[S.jsx("h2",{className:"text-2xl font-bold text-rose-500 mb-4",children:e.name}),S.jsx("p",{className:"text-gray-700 dark:text-gray-200 mb-2",children:e.description}),S.jsx("div",{className:"flex gap-2 mb-6 flex-wrap items-center",children:(d=e.integrations)==null?void 0:d.map((m,p)=>S.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 dark:bg-gray-700 rounded-lg px-3 py-1 text-sm text-gray-800 dark:text-gray-200",children:[E7[m]||null,S.jsx("span",{children:m})]},p))}),S.jsx("div",{className:"grid sm:grid-cols-2 gap-4",children:e.prompts.map((m,p)=>S.jsx(pe.button,{onClick:()=>c(m),className:"bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg px-4 py-3 text-left hover:shadow-md transition",whileHover:{scale:1.02},whileTap:{scale:.98},children:S.jsx("span",{className:"text-rose-600 font-medium",children:m.prompt})},p))})]}),S.jsx("div",{className:"max-w-2xl mx-auto bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl shadow-inner p-4 space-y-4",children:n.length===0?S.jsx("p",{className:"text-center text-gray-400 py-12 dark:text-gray-500",children:"Try a prompt above to preview how Donna responds."}):S.jsx(Yf,{children:n.map((m,p)=>S.jsxs(pe.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},className:"flex items-start gap-3",children:[S.jsx("img",{src:m.icon,alt:"",className:"w-8 h-8 rounded-full mt-1"}),S.jsx("div",{className:`rounded-xl px-4 py-3 max-w-[85%] text-sm ${m.role==="user"?"bg-blue-100 ml-auto dark:bg-blue-800 text-white":"bg-gray-200 mr-auto dark:bg-gray-600 text-white"}`,children:m.content})]},p))})}),S.jsxs("div",{className:"mt-12",children:[S.jsx("p",{className:"text-gray-500 dark:text-gray-300 mb-2",children:"Want to talk to the real Donna?"}),S.jsx("button",{onClick:()=>window.location.href="/waitlist",className:"bg-rose-500 hover:bg-rose-600 text-white font-semibold px-6 py-3 rounded-xl shadow",children:"Join the Waitlist"})]})]})}),S.jsx(Cs,{})]})}function w7(){const e=ws(),[t,n]=O.useState(!1);return S.jsxs("div",{className:"fixed bottom-6 right-6 z-50 flex flex-col items-end gap-2",onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:[S.jsx(Yf,{children:t&&S.jsx(pe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},className:"bg-white dark:bg-gray-800 shadow-lg rounded-xl px-4 py-2 text-sm text-gray-800 dark:text-gray-200",children:"Need help? I'm always just a click away."})}),S.jsx(pe.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>e("/chat"),className:"w-14 h-14 rounded-full shadow-lg overflow-hidden border border-gray-300 dark:border-gray-700",children:S.jsx("img",{src:"/assets/images/DonnaCircleColored.png",alt:"Chat with Donna",className:"w-full h-full object-cover"})})]})}function S7(){var d;const[e,t]=O.useState(null);O.useEffect(()=>{(async()=>{const p=bs.currentUser;if(!p)return;const y=Ca(Ia,"users",p.uid),_=await g0(y);_.exists()&&t(_.data())})()},[]);const n=["Meeting with team @ 10:30am","Grocery reminder at 4:00pm","Finalize design doc by EOD"],r=['Email draft prepared: "Quarterly Update"',"Uploaded invoice.pdf from Outlook","Generated summary of last weeks meetings"],a=((d=e==null?void 0:e.memory)==null?void 0:d.recentPreview)||"You asked me to remember: Use Concur for travel expenses.",l=(e==null?void 0:e.linkedServices)||{},c=(e==null?void 0:e.usage)||{};return S.jsxs(S.Fragment,{children:[S.jsx(Rs,{}),S.jsxs(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"bg-white dark:bg-gray-900 min-h-screen px-6 py-10",children:[S.jsxs("div",{className:"max-w-5xl mx-auto",children:[S.jsxs("h2",{className:"text-2xl font-bold text-rose-500 mb-2",children:["Welcome back, ",(e==null?void 0:e.firstName)||"User"," "]}),S.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Here's a quick snapshot of your day."}),S.jsxs("div",{className:"grid gap-6 grid-cols-1 md:grid-cols-2",children:[S.jsx(wo,{title:"Todays Overview",icon:S.jsx(Vy,{}),children:S.jsx("ul",{className:"space-y-2 text-gray-700 dark:text-gray-300",children:n.map((m,p)=>S.jsx("li",{children:m},p))})}),S.jsx(wo,{title:"Recent Assistant Activity",icon:S.jsx(Fw,{}),children:S.jsx("ul",{className:"space-y-2 text-gray-700 dark:text-gray-300",children:r.map((m,p)=>S.jsx("li",{children:m},p))})}),S.jsx(wo,{title:"Quick Actions",icon:S.jsx(Hw,{}),children:S.jsx("div",{className:"flex flex-wrap gap-3",children:["Add Task","Upload File","Send Summary","Plan My Week"].map(m=>S.jsx("button",{className:"px-4 py-2 bg-rose-500 hover:bg-rose-600 text-white rounded-xl shadow text-sm",children:m},m))})}),S.jsx(wo,{title:"Memory Preview",icon:S.jsx(Bw,{}),children:S.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:a})}),S.jsx(wo,{title:"Linked Services",icon:S.jsx(CD,{}),children:S.jsx("ul",{className:"text-gray-700 dark:text-gray-300 space-y-2",children:Object.entries(l).map(([m,p])=>S.jsxs("li",{children:[" ",m," "," ",p.status?"Connected":"Not Connected"]},m))})}),S.jsx(wo,{title:"Usage Summary",icon:S.jsx(zw,{}),children:S.jsxs("ul",{className:"text-gray-700 dark:text-gray-300 space-y-2",children:[S.jsxs("li",{children:[" GPT interactions: ",c.gptInteractions||0]}),S.jsxs("li",{children:[" Files uploaded: ",c.fileUploads||0]}),S.jsxs("li",{children:[" Tasks completed: ",c.tasksCompleted||0]})]})})]})]}),S.jsx(w7,{})," "]}),S.jsx(Cs,{})]})}function wo({title:e,icon:t,children:n}){return S.jsxs(pe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"rounded-2xl shadow bg-gray-50 dark:bg-gray-800 p-6 text-left border border-gray-200 dark:border-gray-700",children:[S.jsxs("h2",{className:"text-lg font-semibold text-rose-500 mb-4 flex items-center gap-2",children:[t," ",e]}),n]})}function A7(){const e=ws(),[t,n]=O.useState(""),[r,a]=O.useState({type:"",message:""}),l=async c=>{c.preventDefault(),a({type:"",message:""});try{await QP(bs,t),a({type:"success",message:"Password reset email sent. Check your inbox."})}catch(d){a({type:"error",message:d.message})}};return S.jsxs(S.Fragment,{children:[S.jsx(Rs,{}),S.jsx(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"bg-white dark:bg-gray-900 min-h-screen",children:S.jsx("section",{className:"min-h-screen flex items-center justify-center px-6 py-20 text-center transition-colors",children:S.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-gray-800 shadow-xl rounded-2xl p-8 transition-colors",children:[S.jsx("h2",{className:"text-2xl font-bold text-rose-500 mb-1",children:"Forgot Password"}),S.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-6",children:"Enter your email and well send you a reset link."}),S.jsxs("form",{onSubmit:l,className:"space-y-4 text-left",children:[S.jsx("input",{type:"email",value:t,onChange:c=>n(c.target.value),placeholder:"Your Email",required:!0,className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-3 text-base bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-rose-400"}),r.message&&S.jsx("p",{className:`text-sm ${r.type==="success"?"text-green-500":"text-red-500"}`,children:r.message}),S.jsx("button",{type:"submit",className:"w-full bg-rose-500 hover:bg-rose-600 text-white font-semibold px-6 py-3 rounded-xl transition",children:"Send Reset Link"})]}),S.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-4",children:["Back to"," ",S.jsx("button",{onClick:()=>e("/login"),className:"text-rose-500 hover:underline font-semibold",children:"Login"})]})]})})}),S.jsx(Cs,{})]})}const y4=O.createContext(),x7=()=>O.useContext(y4);function R7({children:e}){const[t,n]=O.useState(null),[r,a]=O.useState(null),[l,c]=O.useState(!0);return O.useEffect(()=>{const d=r4(bs,async m=>{if(m){n(m);const p=Ca(Ia,"users",m.uid),y=await g0(p);y.exists()?a(y.data()):console.warn("No user document found in Firestore.")}else n(null),a(null);c(!1)});return()=>d()},[]),S.jsx(y4.Provider,{value:{user:t,userData:r,loading:l},children:e})}function C7({children:e}){const{user:t,loading:n}=x7();return n?null:t?e:S.jsx(F6,{to:"/login",replace:!0})}function I7(){const[e,t]=O.useState({name:"",email:"",message:""}),[n,r]=O.useState(null),a=c=>{const{name:d,value:m}=c.target;t(p=>({...p,[d]:m}))},l=async c=>{c.preventDefault();try{await YV(MV(Ia,"contactResponses"),{...e,submittedAt:v0(),userAgent:navigator.userAgent,page:window.location.pathname}),r("success"),t({name:"",email:"",message:""})}catch{r("error")}};return S.jsxs(S.Fragment,{children:[S.jsx(Rs,{}),S.jsx(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"bg-white dark:bg-gray-900 min-h-screen py-20 px-6",children:S.jsxs("div",{className:"max-w-xl mx-auto bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-lg",children:[S.jsx("h1",{className:"text-3xl font-bold text-rose-500 mb-2 text-center",children:"Contact Us"}),S.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-6 text-center",children:"Have a question, suggestion, or just want to say hello? Wed love to hear from you. Fill out the form and well get back to you as soon as possible."}),S.jsxs("form",{onSubmit:l,className:"space-y-4",children:[S.jsx("input",{type:"text",name:"name",value:e.name,onChange:a,placeholder:"Your Name",required:!0,className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-3 bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-rose-400"}),S.jsx("input",{type:"email",name:"email",value:e.email,onChange:a,placeholder:"Your Email",required:!0,className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-3 bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-rose-400"}),S.jsx("textarea",{name:"message",value:e.message,onChange:a,placeholder:"Your Message",required:!0,rows:"4",className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-3 bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-rose-400"}),S.jsx("button",{type:"submit",className:"w-full bg-rose-500 hover:bg-rose-600 text-white font-semibold px-6 py-3 rounded-xl transition",children:"Send Message"})]}),n==="success"&&S.jsx("p",{className:"mt-4 text-green-500 text-sm text-center",children:"Thank you for your message! Well be in touch soon."}),n==="error"&&S.jsx("p",{className:"mt-4 text-red-500 text-sm text-center",children:"Something went wrong. Please try again."})]})}),S.jsx(Cs,{})]})}function D7(){const e=Pi();return S.jsx(Yf,{mode:"wait",children:S.jsxs(q6,{location:e,children:[S.jsx(or,{path:"/",element:S.jsx(m7,{})}),S.jsx(or,{path:"/signup",element:S.jsx(p7,{})}),S.jsx(or,{path:"/login",element:S.jsx(g7,{})}),S.jsx(or,{path:"contact",element:S.jsx(I7,{})}),S.jsx(or,{path:"/forgot-password",element:S.jsx(A7,{})})," ",S.jsx(or,{path:"/waitlist",element:S.jsx(T7,{})}),S.jsx(or,{path:"/explore",element:S.jsx(b7,{})}),S.jsx(or,{path:"/dashboard",element:S.jsx(C7,{children:S.jsx(S7,{})})})]},e.pathname)})}Zx.createRoot(document.getElementById("root")).render(S.jsx(as.StrictMode,{children:S.jsx(R7,{children:S.jsx(mR,{children:S.jsx(KD,{children:S.jsx("div",{className:"min-h-screen bg-white text-black dark:bg-gray-900 dark:text-white transition-colors duration-300",children:S.jsx(D7,{})})})})})}));
